{"version":3,"sources":["components/Loading.jsx","components/Logo.jsx","components/Header.jsx","components/StatusBar.jsx","hooks/useControlledForms.js","components/Login.jsx","components/Register.jsx","components/Authentication.jsx","helpers/timeHelpers.js","constants/settings.js","helpers/stringHelpers.js","constants/strings/languages/EN-US.js","constants/strings/index.js","components/NewBlockForm.jsx","hooks/useNewBlockValidation.js","components/Block.jsx","components/BlockList.jsx","components/ScheduleBar.jsx","components/DaySchedule.jsx","components/WeekSchedule.jsx","components/ProjectListItem.jsx","components/ProjectList.jsx","components/ProgressBar.jsx","constants/colors.js","helpers/numberHelpers.js","components/ReportItem.jsx","components/Report.jsx","components/Footer.jsx","hooks/useWeeklyBlocks.js","components/App.jsx","hooks/useAuthentication.js","hooks/useSessionTracking.js","hooks/usePopupModal.js","index.js"],"names":["Loading","props","className","Spinner","animation","variant","role","children","Logo","hareOnly","scale","baseHeight","width","height","viewBox","d","Header","username","handleLogout","Navbar","expand","Container","to","Brand","href","Toggle","Collapse","id","Nav","Link","Text","Button","onClick","StatusBar","currentSession","projects","loading","tracking","project_id","title","useControlledForms","fields","useState","formValues","setFormValues","event","preventDefault","prev","newVals","target","value","Login","login","formLoginUsername","formLoginPassword","handleFormChange","Form","Group","controlId","Label","Control","onChange","type","placeholder","axios","post","rawPassword","then","res","data","Register","formRegisterUsername","formRegisterPassword","Authentication","showLogin","setShowLogin","authComponent","switchMsg","buttonMsg","size","document","activeElement","blur","msDayMultiplier","getLastSunday","date","daysSinceSunday","getDay","msSinceSunday","lastSundayMs","valueOf","Date","minutesSinceMidnight","hours","minutes","getBoundaryMinutes","values","block","startHours","Number","startHour","startAMPM","startMinutes","startMinute","endHours","endHour","endAMPM","endMinutes","endMinute","getFormValuesBoundaryMinutes","start","start_time","end","end_time","getHours","getMinutes","getBlockBoundaryMinutes","blockIsOnDay","day","getDate","SETTINGS","LANGUAGES","EN_US","makeTimeString","time","toLocaleTimeString","hour","minute","makeWeekString","lang","sun","sat","daysUntilSaturday","msUntilSaturday","nextSaturdayMs","getNextSaturday","sunStr","toLocaleDateString","month","satStr","STRINGS","TAG","NEW_BLOCK_VALIDATION","conflict","startStr","endStr","noProject","endBeforeStart","NewBlockForm","show","handleClose","currentDay","blocks","refreshBlocks","project","handleChange","errors","setErrors","formIsValid","setFormIsValid","useEffect","newBlockStart","newBlockEnd","filter","map","blockStartMins","blockEndMins","newErrors","valid","Object","length","useNewBlockValidation","showErrors","setShowErrors","LANG","currentDateText","toDateString","projectOptions","reverse","hoursOptions","optionsList","push","errorList","keys","errorType","handleSubmit","a","startMins","endMins","startDateMs","endDateMs","startTime","toISOString","endTime","Modal","onHide","closeButton","Title","Body","onSubmit","htmlFor","name","Footer","Block","startTimeStr","endTimeStr","blockClass","backgroundClass","style","projectid","BlockList","blocksForDay","key","ScheduleBar","ScheduleBarSection","am","Array","fill","undefined","e","index","DaySchedule","goToTomorrow","goToYesterday","showForm","blocksWithPlaceholders","setBlocksWithPlaceholders","dayString","weekday","dateString","year","makeDateString","newBlocks","currentTime","setHours","forEach","blockDate","placeholderBlock","setMinutes","WeekSchedule","ProjectListItem","selected","onEditClick","onCancelClick","formValue","ProjectList","setProjects","selectedProject","setSelectedProject","setFormValue","showNewProjectForm","setShowNewProjectForm","newProjectFormValue","setNewProjectFormValue","handleCancel","projectItems","newProject","patch","projectTitle","ProgressBar","color","percent","overfilled","background","clone","alpha","outerBarStyle","backgroundColor","toString","innerBarStyle","COLORS","RED","Color","GREEN","BLUE","PURPLE","EGYPT_BLUE","num","denom","Math","round","ReportItem","progress","goal","lightness","overfilledStr","rawWidth","progressPercent","headerWidth","footerWidth","projectStyle","Report","lastWeek","nextWeek","reportData","setReportData","setLoading","error","setError","get","catch","err","finally","report","sessions_total","blocks_total","projectName","secondsToHours","sessionHours","blockHours","class","getFullYear","message","useWeeklyBlocks","today","setSeconds","setMilliseconds","setCurrentDay","setBlocks","days","deltaMs","newDay","current","currentSunday","newSunday","checkForNewWeek","App","setUsername","console","log","useAuthentication","logout","changeDay","setCurrentSession","closest","projectId","getAttribute","session_id","useSessionTracking","toggleSession","setShow","usePopupModal","closeForm","projectList","basename","exact","path","defaults","baseURL","process","withCredentials","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1ccda4be.chunk.js","sourcesContent":["import '../styles/Loading.css'\n\nimport Spinner from 'react-bootstrap/Spinner'\n\nexport default function Loading(props) {\n  return (\n    <div className=\"loading\">\n      <Spinner animation=\"border\" variant=\"primary\" role=\"status\">\n        <span className=\"visually-hidden\">{props.children}</span>\n      </Spinner>\n      <p>{props.children}</p>\n    </div>\n  )\n}","import \"../styles/Logo.css\"\n\nexport default function Logo(props) {\n  const { className, hareOnly } = props;\n\n  const scale = props.scale || 1;\n  const baseWidth = 77;\n  const baseHeight = hareOnly ? 48 : 65\n\n  const width = baseWidth * scale;\n  const height = baseHeight * scale;\n\n  return (\n    <div className={className}>\n      <svg\n      viewBox ={`0 0 ${baseWidth} ${baseHeight}`}\n      width={`${width}px`}\n      height={`${height}px`}\n      >\n        <path\n          d=\"m 57.361851,0.00779235 c -4.01701,0.004 -8.06578,0.19957 -11.98118,1.16335995 -4.78258,0.8796 -9.74801,1.1765 -14.25797,3.14795 -3.09877,1.19352 -6.29356,2.46094 -8.7127,4.81844 -2.7705,2.2294797 -5.60536,4.3862397 -8.32466,6.6743997 -1.40146,0.78769 -2.99375,1.2529 -4.2156301,2.33883 -2.65423,1.86781 -5.22584,4.00714 -6.91635,6.82183 -1.19926,1.11653 -1.52069,3.39482 -0.0633,4.4392 1.14,0.81447 2.47709,1.30863 3.83306,1.62628 2.01304,-0.11472 4.0149701,-0.36991 6.0275101,-0.49143 1.77655,2.23261 3.04142,4.80663 4.40433,7.29772 0.64946,1.21874 -0.25521,2.46118 -1.51411,2.6308 -1.64442,0.46517 -3.28844,-0.29321 -4.92681,-0.42153 -3.3331601,-0.54907 -7.0894401,-0.42228 -9.88205011,1.70372 -1.35316,0.52871 -0.94367,2.25694 0.42280001,2.36933 1.81457,0.30455 3.54713,1.40282 5.44632,1.02542 4.9009101,-0.12947 9.8662201,-0.034 14.6694601,-1.16597 2.42444,0.0281 4.83772,0.38118 7.26575,0.26066 5.15597,-0.0215 10.30789,0.40165 15.46354,0.25118 1.0775,-0.38501 2.03638,0.0291 2.72619,0.86285 2.2857,1.65921 5.2125,2.0065 7.95871,2.07466 2.36194,-0.10072 4.72233,-0.61928 6.85706,-1.64948 0.54924,-0.79125 1.47448,-0.83249 2.33141,-0.69274 3.00451,0.0239 6.19737,0.20899 8.95937,-1.18298 1.73172,-0.95122 3.00509,-2.71784 3.21745,-4.69904 0.4238,-2.23848 0.65319,-4.81244 -0.73532,-6.77443 -1.154,-0.73141 -2.65814,0.0563 -3.88979,0.25806 -0.7944,0.20144 -1.42317,1.18492 -1.91994,1.44538 -1.97553,-1.86041 -3.65461,-4.28702 -6.35613,-5.14173 -3.70559,-1.50739 -7.49919,-3.18272 -11.5784,-3.16668 -4.4822,-0.17203 -9.12094,0.0336 -13.32085,1.74874 -1.15076,0.53642 -1.80113,1.99815 -3.22896,1.81025 -0.98667,0.0139 -2.1518,0.48663 -2.51515,-0.74805 -1.14654,-1.4998 -2.85301,-2.52208 -4.6766,-2.96616 1.89085,-1.73694 4.5842,-1.85861 6.99555,-2.19144 3.94803,-0.27759 7.40536,-2.38347 10.79623,-4.22948 1.84268,-1.04937 3.83523,-1.79162 5.67607,-2.84334 3.18858,-1.66937 6.32016,-3.45256 9.32789,-5.42998 1.38248,-0.78013 3.01035,-0.89313 4.56019,-0.83627 0.80497,-0.005 3.14619,-0.068 2.31047,-1.3126997 -0.85229,-0.56304 -1.87789,-0.84804 -2.86493,-1.09406 -2.92585,-0.61054 -5.92423,-0.20053 -8.88318,-0.33529 -1.33872,0.33717 -0.13302,-1.40167 0.0578,-1.98966 0.96719,-1.89075 2.61018,-3.31646 4.32477,-4.51316995 0.45331,-1.25911 -1.45856,-0.79823 -2.20669,-0.89482 -0.22039,-2e-5 -0.44086,7.9e-4 -0.66118,0.001 z m -1.84718,1.52054995 c -2.07027,1.58057 -3.34944,4.00999 -3.92327,6.51519 -2.26634,0.71083 -4.65987,0.83327 -6.97211,1.3363 -3.50647,0.50854 -7.04454,1.0347697 -10.37484,2.2950497 -3.79102,1.19153 -7.28448,3.33446 -10.00061,6.24259 -0.96349,0.91609 -2.0655,1.70665 -2.84949,2.79563 0.82199,0.75625 2.3656,0.4527 3.25073,0.11744 2.36241,-1.91581 4.35696,-4.29008 7.00151,-5.84978 4.38352,-2.72918 9.52375,-3.90235 14.59819,-4.48859 3.13754,-0.5661197 6.26336,-1.2223397 9.41382,-1.7015397 2.00829,-0.0865 4.02412,0.0118 6.01563,0.28352 -1.66207,0.30713 -3.47483,0.51521 -4.76802,1.7211997 -3.39045,2.23193 -6.98134,4.14837 -10.58296,6.00746 -3.92449,1.47143 -7.21317,4.45604 -11.40713,5.22587 -2.88723,0.39207 -5.81743,0.81946 -8.51264,1.98241 -0.82909,0.65003 -2.74272,1.42207 -2.21036,2.66804 0.82435,0.54629 1.89909,0.53577 2.7622,1.04115 1.29249,0.5971 2.43576,1.58348 3.0745,2.87022 1.01644,0.71336 2.32989,0.16624 3.47565,0.28809 1.72819,-0.0996 3.53372,0.11044 5.19353,-0.45158 1.1247,-0.74386 1.86716,-2.08433 3.27201,-2.369 2.78981,-1.16397 5.86948,-0.70111 8.80272,-0.67326 3.97674,0.24988 7.59229,2.07977 11.19225,3.62042 1.73863,1.14374 3.14838,2.6984 4.5137,4.2502 0.29847,0.96488 -0.11625,2.09014 -0.73993,2.83665 -1.11832,1.33001 -2.22119,2.67487 -3.24344,4.08081 -1.38246,-1.27382 -1.87513,-3.20964 -3.23085,-4.51269 -1.913,-2.27026 -3.94119,-4.49018 -6.38898,-6.1968 -0.99529,-0.46795 -3.21539,-0.78062 -3.22995,0.79238 0.0888,1.48717 1.08473,3.05195 0.26477,4.4924 -1.21004,1.31607 -2.95718,1.96683 -4.51226,2.78964 -1.21562,0.74771 -2.59063,1.23989 -4.03129,1.24509 -3.12787,-0.0112 -6.33407,0.096 -9.3557,-0.85714 -1.48665,-0.44939 -2.87612,-1.14683 -4.23652,-1.88379 -0.83777,-0.47921 -1.79459,-0.32288 -2.67529,-0.0958 -0.6819,0.0251 -1.25028,0.58275 -0.83676,1.20625 -0.31002,1.82039 -1.99921,3.09189 -3.73103,3.44583 -4.30082,1.31904 -8.84919,0.8659 -13.2780201,0.98997 -1.26633,-0.0872 -2.39871,-0.7235 -3.61751,-1.01452 1.04829,-0.78244 2.37176,-1.63369 3.732,-1.18219 3.4993601,0.52572 7.1927501,1.30556 10.6380201,0.0811 1.18583,-0.61006 2.72924,-1.26239 2.96032,-2.7459 -0.46526,-2.52759 -2.26556,-4.47764 -3.34839,-6.73783 -0.90275,-1.44498 -1.81697,-2.8873 -2.86469,-4.23303 -1.41655,-0.22397 -2.74882,0.53257 -3.80994,1.38872 -1.5909901,0.83692 -3.3855201,-0.0286 -4.8210501,-0.79279 -1.10258,-0.47242 -0.97964,-1.92798 -0.1981,-2.63597 1.57739,-2.42276 3.53709,-4.63764 5.9903601,-6.20103 1.45991,-1.04578 2.96079,-2.0997 4.68625,-2.65728 2.23358,-1.78108 4.34572,-3.7157 6.68929,-5.35658 2.46401,-1.9284097 4.75177,-4.2598997 7.7968,-5.2545997 4.28821,-1.91026 8.87702,-3.12162 13.54568,-3.59989 3.46805,-0.5604 6.9352,-1.36469 10.46951,-1.26038 0.0996,0.0212 0.9521,-0.16887 0.41169,0.14231 z m 17.36865,33.3068697 c 0.0367,2.30536 0.3497,4.86675 -1.08692,6.85558 -1.03919,1.30947 -2.73655,2.20449 -4.43547,1.93817 -0.77409,-0.0357 -2.35655,0.006 -2.63063,-0.31995 1.44068,-0.682 1.91811,-2.3697 3.11885,-3.33132 1.65015,-1.74184 3.51339,-3.27865 5.03417,-5.14248 z m -18.65857,1.63553 c 1.89376,1.84451 3.36743,4.07325 4.60172,6.39918 1.14731,0.66685 0.28648,1.98917 -0.58412,2.41876 -1.7177,0.90563 -3.75229,0.60871 -5.54983,0.13333 -1.57252,-0.41737 -3.28366,-1.11929 -4.12892,-2.59456 -0.60015,-1.22762 -0.006,-2.8826 1.30953,-3.34283 1.45745,-0.81343 3.27245,-1.63389 3.7069,-3.41383 -0.0339,-0.51019 0.49391,0.38559 0.64472,0.39995 z\"\n        />\n        <path\n          d=\"m 12.329021,22.078982 c -1.53898,-0.19975 -2.9326201,0.99592 -3.4488701,2.37371 1.03832,0.74091 2.3559401,-0.0447 3.5171501,0.20167 1.10195,-0.23557 1.81943,-1.32642 2.49593,-2.09479 -0.19378,-1.02995 -1.86981,-0.23781 -2.56421,-0.48059 z\"\n        />\n        { !hareOnly && <path\n          d=\"m 41.320781,53.934512 c -1.40125,0.78499 -1.74836,2.50759 -2.81328,3.61549 -0.54628,0.52518 -1.12113,2.32572 -1.85898,1.1312 -0.99802,-1.0459 -1.42941,-2.52936 -2.47688,-3.51771 -1.05875,-0.45875 -2.22973,-0.60244 -3.30927,-1.01111 -1.00454,0.34948 -1.46107,1.68494 -2.24136,2.43888 -0.72305,0.77802 -1.3659,2.08327 -2.17983,2.50056 -1.28091,-0.86629 -2.00461,-2.27914 -3.01922,-3.40477 -1.53291,-0.42713 -3.13117,-0.52765 -4.71406,-0.58619 -1.23892,0.37568 -0.78236,2.05893 -1.65531,2.82457 -0.53006,0.56784 -1.25698,1.56753 -1.88229,1.65653 -1.04478,-1.21346 -1.77582,-2.71889 -3.09471,-3.67928 -1.55435,-0.14566 -3.0901001,-0.46848 -4.6527101,-0.52851 -0.95407,0.82512 -1.33418,2.16121 -2.4715,2.81253 -1.24373,0.96895 -2.76247,1.45994 -4.21143001,2.02862 -0.52278,0.89239 1.31170001,0.81997 1.89302001,1.01211 2.36823,0.30118 4.73041,-0.52072 6.74571,-1.71431 1.0553301,1.08072 1.8212801,2.49002 3.1791401,3.24085 1.97214,0.13451 4.01717,-0.0199 5.87244,-0.73258 1.0757,-0.53612 1.81234,-1.53666 2.82566,-2.1632 1.13214,0.76403 1.84709,1.96098 2.79884,2.91321 1.8464,1.09668 4.1529,0.17238 5.62525,-1.13985 0.89454,-0.36716 1.6536,-1.38208 2.27333,-1.7991 1.96495,1.67864 4.53365,2.97082 7.18297,2.61568 1.7278,-0.57505 2.8921,-2.07087 3.97931,-3.44579 1.10633,0.83674 2.06865,2.1019 3.55441,2.21905 1.94462,0.78768 4.06283,0.29677 6.08162,0.20851 0.64608,-0.41299 1.55284,-2.06258 2.1616,-0.69412 1.18284,1.41226 3.19601,1.18788 4.84478,1.18443 1.32356,-0.094 2.76166,0.29071 3.98817,-0.36572 0.93274,-0.6761 1.95892,-1.22012 2.90053,-1.8892 1.21219,1.00965 2.47732,1.96052 3.82504,2.78277 1.46934,-0.28286 3.02681,-0.0991 4.43605,-0.67576 0.0567,-1.06956 -1.55488,-1.28159 -2.13541,-2.05824 -1.44175,-1.16132 -2.76005,-2.63955 -3.21549,-4.47847 0.14008,-1.18198 -1.39882,-0.37674 -2.05677,-0.47105 -1.14293,0.0913 -2.30712,-0.0929 -3.43396,0.17663 -0.59929,2.03753 -1.93267,4.01717 -3.9945,4.77686 -0.92214,-0.59454 -1.28493,-1.90533 -1.80722,-2.87819 -0.34563,-1.29888 -1.6878,-1.39474 -2.78254,-1.63421 -1.08069,-0.2315 -2.18366,-0.4016 -3.29198,-0.36773 -0.27593,0.98221 0.72671,2.3642 -0.66327,2.90621 -0.91095,0.58095 -2.25552,1.95606 -3.08972,0.60435 -1.09768,-1.02434 -2.11666,-2.14674 -2.9248,-3.41632 -1.13714,-0.26061 -2.30091,-0.40997 -3.39498,-0.83283 -0.26022,-0.0762 -0.52479,-0.14653 -0.7964,-0.1648 z\"\n        />}\n      </svg>\n    </div>\n  )\n}","// Router components\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport Container from \"react-bootstrap/Container\"\nimport Navbar from \"react-bootstrap/Navbar\"\nimport Nav from \"react-bootstrap/Nav\"\nimport Button from \"react-bootstrap/Button\"\nimport '../styles/Header.css';\n\nimport Logo from '../components/Logo'\n\nexport default function Header(props) {\n  const { username, handleLogout } = props;\n\n  return(\n    <Navbar className=\"navbar\" variant=\"dark\" expand=\"sm\">\n      <Container>\n        <LinkContainer to=\"/schedule\">\n          <Navbar.Brand href=\"/\"><Logo className=\"nav-logo\" scale=\"0.75\"/></Navbar.Brand>\n        </LinkContainer>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"me-auto\">\n            <LinkContainer to=\"/schedule\"><Nav.Link>Schedule</Nav.Link></LinkContainer>\n            <LinkContainer to=\"/projects\"><Nav.Link>Projects</Nav.Link></LinkContainer>\n            <LinkContainer to=\"/reports\"><Nav.Link>Reports</Nav.Link></LinkContainer>\n          </Nav>\n          <Navbar.Text>\n            <span className=\"me-2\">Logged in as {username}</span>\n            <Button onClick={handleLogout}>Logout</Button>\n          </Navbar.Text>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  )\n}","import '../styles/StatusBar.css';\n\nexport default function StatusBar(props) {\n  const { currentSession, projects} = props;\n\n  const loading = !projects;\n  const tracking = currentSession && projects && projects[currentSession.project_id]\n\n  const bgColor = () => {\n    if (tracking) return 'bg-success text-light';\n    if (!tracking) return 'bg-secondary text-light';\n  }\n\n  return (\n    <div className={`statusBar ${bgColor()}`}>\n      { loading &&\n        `Loading...`\n      }\n      { tracking &&\n        `Currently tracking ${projects[currentSession.project_id].title}`\n      }\n      { currentSession && !projects[currentSession.project_id] &&\n        `ERROR: Trying to track project ID ${currentSession.project_id}, but it was not found.`\n      }\n      { !currentSession &&\n        `Not currently tracking`\n      }\n    </div>\n  )\n}","import { useState } from 'react';\n\nexport default function useControlledForms(fields) {\n  const [formValues, setFormValues] = useState(fields)\n\n  const handleFormChange = event => {\n    event.preventDefault();\n    setFormValues(prev => {\n      const newVals = {...prev};\n      newVals[event.target.id] = event.target.value;\n      return newVals;\n    })\n  }\n\n  return [formValues, handleFormChange]\n}","import axios from 'axios';\nimport useControlledForms from '../hooks/useControlledForms';\n\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nexport default function Login(props) {\n\n  const { login } = props;\n\n  const [formValues, handleFormChange] = useControlledForms({\n    formLoginUsername: \"\",\n    formLoginPassword: \"\"\n  });\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const { formLoginUsername, formLoginPassword } = formValues;\n    axios.post(`/api/login`, {username: formLoginUsername, rawPassword:formLoginPassword})\n         .then(res => login(res.data.username))\n  }\n\n  return (\n    <Form className=\"loginForm\" >\n      <h4>Login</h4>\n      <Form.Group className=\"mb-3\" controlId=\"formLoginUsername\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control onChange={handleFormChange} type=\"text\" placeholder=\"Username\" />\n      </Form.Group>\n      <Form.Group className=\"mb-3\" controlId=\"formLoginPassword\">\n        <Form.Label>Password</Form.Label>\n        <Form.Control onChange={handleFormChange} type=\"password\" placeholder=\"Password\" />\n      </Form.Group>\n      <Button variant=\"success\" type=\"submit\" onClick={handleSubmit}>\n        Submit\n      </Button>\n    </Form>\n  )\n}","import axios from 'axios';\nimport useControlledForms from '../hooks/useControlledForms';\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nexport default function Register(props) {\n\n  const { login } = props;\n\n  const [formValues, handleFormChange] = useControlledForms({\n    formRegisterUsername: \"\",\n    formRegisterPassword: \"\"\n  });\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const { formRegisterUsername, formRegisterPassword } = formValues;\n    axios.post(`/api/users`, {username: formRegisterUsername, rawPassword: formRegisterPassword})\n         .then(res => login(res.data.username))\n  }\n\n  return (\n    <Form className=\"registerForm\">\n      <h4>Register</h4>\n      <Form.Group className=\"mb-3\" controlId=\"formRegisterUsername\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control onChange={handleFormChange} type=\"text\" placeholder=\"Username\" />\n      </Form.Group>\n      <Form.Group className=\"mb-3\" controlId=\"formRegisterPassword\">\n        <Form.Label>Password</Form.Label>\n        <Form.Control onChange={handleFormChange} type=\"password\" placeholder=\"Password\" />\n      </Form.Group>\n      <Button variant=\"success\" type=\"submit\" onClick={handleSubmit}>\n        Create account\n      </Button>\n    </Form>\n  )\n}","import { useState } from 'react'\nimport Button from 'react-bootstrap/Button'\n\nimport Login from './Login'\nimport Register from './Register'\nimport Logo from './Logo';\n\nimport '../styles/Authentication.css';\n\nexport default function Authentication(props) {\n  const {login} = props\n\n  const [showLogin, setShowLogin] = useState(true)\n  \n  const authComponent = showLogin ? <Login login={login} /> : <Register login={login} />;\n  const switchMsg = showLogin ? \"Don't have an account yet?\" : \"Already have a Capensis account?\";\n  const buttonMsg = showLogin ? \"Sign up\" : \"Sign in\";\n\n  const handleSwitch = event => {\n    event.preventDefault();\n    document.activeElement.blur(); // Clear focus from the button\n    setShowLogin(!showLogin)\n  }\n\n  return (\n    <div className=\"Authentication\">\n      <div id=\"Authentication_background\">\n        <div id=\"Authentication_welcome\">\n          <Logo className=\"auth-logo\" hareOnly scale={2}\n          />\n          <p className=\"appName\">Capensis</p>\n          <p className=\"welcomeMessage\">A super simple scheduler and time-tracker.</p>\n        </div>\n\n        { authComponent }\n\n        <div className=\"Authentication_switch\">\n          <p>{switchMsg}</p>\n          <Button\n            variant=\"primary\"\n            size=\"sm\"\n            onClick={handleSwitch}\n          >{buttonMsg}</Button>\n        </div>\n      </div>\n    </div>\n  )\n}","\nconst msDayMultiplier = 1000*60*60*24;\n\n// Given a Date object, return a Date object of the last Sunday.\nexport function getLastSunday(date) {\n  // Get Sunday for this week.\n  const daysSinceSunday = date.getDay(); // Returns 0 for sunday, 1 for Monday, etc\n  const msSinceSunday = msDayMultiplier * daysSinceSunday;\n  const lastSundayMs = date.valueOf() - msSinceSunday;\n  return new Date(lastSundayMs);\n}\n\nexport function getNextSaturday(date) {\n  const daysUntilSaturday = 6 - date.getDay();\n  const msUntilSaturday = msDayMultiplier * daysUntilSaturday;\n  const nextSaturdayMs = date.valueOf() + msUntilSaturday;\n  return new Date(nextSaturdayMs);\n}\n\n// Set h/min/s/ms of a given date to 0.\nexport function makeZeroDate(date) {\n  date.setHours(0);\n  date.setMinutes(0);\n  date.setSeconds(0);\n  date.setMilliseconds(0);\n}\n\nexport function minutesSinceMidnight (hours, minutes) {\n  return (hours * 60) + minutes;\n}\n\n// Internal helper function to allow getBoundaryMinutes to handle different options\nfunction getFormValuesBoundaryMinutes(values) {\n  const startHours = Number(values.startHour) + Number(values.startAMPM);\n  const startMinutes = Number(values.startMinute)\n  const endHours = Number(values.endHour) + Number(values.endAMPM);\n  const endMinutes = Number(values.endMinute)\n  const startMins = minutesSinceMidnight(startHours, startMinutes);\n  const endMins = minutesSinceMidnight(endHours, endMinutes);\n  return [startMins, endMins]\n}\n\nfunction getBlockBoundaryMinutes(block) {\n  const start = new Date(block.start_time);\n  const end = new Date(block.end_time);\n  const startMins = minutesSinceMidnight(start.getHours(), start.getMinutes())\n  const endMins = minutesSinceMidnight(end.getHours(), end.getMinutes())\n  return [startMins, endMins]\n}\n\nexport function getBoundaryMinutes({values, block}) {\n  if (values) return getFormValuesBoundaryMinutes(values);\n  if (block) return getBlockBoundaryMinutes(block)\n}\n\nexport function getFifteenMinuteUnits(start, end) {\n  const lengthMs = new Date(end) - new Date(start);\n  const lengthMins = lengthMs / 1000 / 60;\n  const fifteenMinuteUnits = lengthMins / 15;\n  return fifteenMinuteUnits;\n}\n\n// Determines if a block's start_time date matches the input date.\nexport function blockIsOnDay(block, day) {\n  return new Date(block.start_time).getDate() === day.getDate();\n}","const SETTINGS = {\n  LANGUAGES: {\n    EN_US: \"EN_US\"\n  }\n}\n\nexport default SETTINGS;","import { getLastSunday, getNextSaturday } from './timeHelpers'\n\nexport function makeTimeString(time) {\n  return new Date(time).toLocaleTimeString([], { hour: 'numeric', minute: '2-digit'});\n}\n\nexport function makeWeekDayString(lang, time) {\n  if (!lang || !time) {\n    return \"\";\n  }\n  return new Date(time).toLocaleDateString(lang, { weekday: 'long' });\n}\n\nexport function makeDateString(lang, time) {\n  if (!lang || !time) {\n    return \"\";\n  }\n  return new Date(time).toLocaleDateString(lang, { month: 'long', year: 'numeric', day:'numeric' });\n}\n\nexport function makeWeekString(lang, time) {\n  if (!lang || !time) {\n    return \"\";\n  }\n  const sun = getLastSunday(time);\n  const sat = getNextSaturday(time);\n\n  const sunStr = sun.toLocaleDateString(lang, { month: 'long', day:'numeric' });\n  const satStr = sat.toLocaleDateString(lang, { month: 'long', day: 'numeric' });\n\n  return(`${sunStr} â€“ ${satStr}`)\n}","import { makeTimeString } from '../../../helpers/stringHelpers'\n\nconst EN_US = {\n  TAG: \"EN-US\",\n  NEW_BLOCK_VALIDATION: {\n    conflict: ({block}) => {\n      const {title, start_time, end_time} = block;\n      const startStr = makeTimeString(start_time)\n      const endStr = makeTimeString(end_time)\n      return `This time conflicts with another block: ${title}, ${startStr} - ${endStr}`\n    },\n    noProject: () => \"You must select a project.\",\n    endBeforeStart: () => \"That block would end on or before its start time.\"\n  }\n}\n\nexport default EN_US;","import EN_US from './languages/EN-US'\n\nconst STRINGS = {\n  EN_US,\n}\n\nexport default STRINGS;","import { useState } from 'react';\nimport axios from 'axios';\n\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\n\nimport useControlledForms from '../hooks/useControlledForms';\nimport useNewBlockValidation from '../hooks/useNewBlockValidation';\n\nimport SETTINGS from '../constants/settings'\nimport STRINGS from '../constants/strings'\n\nimport { getBoundaryMinutes } from '../helpers/timeHelpers'\n\nexport default function NewBlockForm(props) {\n  const { show, handleClose, currentDay, projects, blocks, refreshBlocks } = props;\n\n  const [values, handleChange] = useControlledForms({\n    project: \"\",\n    startHour: \"6\",\n    startMinute: \"00\",\n    startAMPM: \"0\",\n    endHour: \"6\",\n    endMinute: \"00\",\n    endAMPM: \"0\"\n  });\n\n  const [errors, formIsValid] = useNewBlockValidation(values, blocks, currentDay)\n  const [showErrors, setShowErrors] = useState(false);\n\n  const LANG = SETTINGS.LANGUAGES.EN_US;\n  const currentDateText = currentDay && currentDay.toDateString();\n\n  // Make the options lists for the form <select> tags\n  const projectOptions = projects && Object.values(projects).reverse().map(project => (\n    <option value={project.id} key={project.id}>{project.title}</option>\n  ));\n\n  // Note that hoursOptions creates an anonymous function and then\n  // runs it immediately.\n  const hoursOptions = function() {\n    const optionsList = [];\n    for(let hour = 1; hour <= 12; hour++) {\n      // The 12 hour should display as 12, but has a value of 0 for time calculations.\n      // The PM value accounts for the 12-hour offset for noon.\n      // (i.e. 12:00 AM is 00:00 (0 hours for '12' + 0 hours for 'AM'\n      //  and 12:00 PM is 12:00 (0 hours for '12', 12 hours for 'PM'))\n      optionsList.push(\n        <option\n          value={hour === 12 ? 0 : hour}\n          key={hour === 12 ? 0 : hour}\n        >\n            {hour}\n        </option>)\n    }\n    return optionsList;\n  }()\n\n  const makeErrorItem = (errorType) => {\n    return (\n        <li key={errorType}>\n          {STRINGS[LANG].NEW_BLOCK_VALIDATION[errorType](errors[errorType])}\n        </li>\n    )\n  }\n\n  const errorList = Object.keys(errors)\n                          .map(makeErrorItem)\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (!formIsValid) {\n      setShowErrors(true);\n    } else {\n      setShowErrors(false);\n      // Turn the raw values into ISO strings to send\n      const [startMins, endMins] = getBoundaryMinutes({values});\n      const startDateMs = currentDay.valueOf() + (startMins * 60 * 1000);\n      const endDateMs = currentDay.valueOf() + (endMins * 60 * 1000);\n      const startTime = new Date(startDateMs).toISOString();\n      const endTime = new Date(endDateMs).toISOString();\n      axios.post('/api/blocks', { startTime, endTime, project: values.project})\n           .then(refreshBlocks)\n           .then(handleClose)\n    }\n  }\n\n  return (\n    <>\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Schedule a new Block</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          Date: <strong>{currentDateText}</strong>\n        <form onSubmit={handleSubmit}>\n          <div className=\"row row-cols-sm-auto g-5 align-items-center\">\n            <label htmlFor=\"project\">Project</label>\n            <div className=\"col-12\">\n              <select className=\"form-select\" name=\"project\" id=\"project\" value={values.project} onChange={handleChange}>\n                <option value=\"\">Select a project</option>\n                {projectOptions}\n              </select>\n            </div>\n          </div>\n          <div className=\"row row-cols-lg-auto g-2 mt-1 align-items-center\">\n            <label htmlFor=\"startHour\">Starting at:</label>\n            <div className=\"col-12\">\n              <select className=\"form-select\" name=\"startHour\" id=\"startHour\" value={values.startHour} onChange={handleChange}>\n                {hoursOptions}\n              </select>\n            </div>\n            <div className=\"col-12\">\n              <select className=\"form-select\" name=\"startMinute\" id=\"startMinute\" value={values.startMinute} onChange={handleChange}>\n                <option>00</option>\n                <option>15</option>\n                <option>30</option>\n                <option>45</option>\n              </select>\n            </div>\n            <div className=\"col-12\">\n              <select className=\"form-select\" name=\"startAMPM\" id=\"startAMPM\" value={values.startAMPM} onChange={handleChange}>\n                <option value=\"0\">AM</option>\n                <option value=\"12\">PM</option>\n              </select>\n            </div>\n            {showErrors && errors.conflict && errors.conflict.start &&\n             (<small id=\"passwordHelpBlock\" className=\"form-text text-muted\">\n             That start time conflicts with an existing Block!\n             </small>)}\n          </div>\n          <div className=\"row row-cols-lg-auto g-2 mt-1 align-items-center\">\n            <label>Ending at:</label>\n            <div className=\"col-12\">\n              <select className=\"form-select\" name=\"endHour\" id=\"endHour\" value={values.endHour} onChange={handleChange}>\n                {hoursOptions}\n              </select>\n            </div>\n            <div className=\"col-12\">\n              <select className=\"form-select\" name=\"endMinute\" id=\"endMinute\" value={values.endMinute} onChange={handleChange}>\n                <option>00</option>\n                <option>15</option>\n                <option>30</option>\n                <option>45</option>\n              </select>\n            </div>\n            <div className=\"col-12\">\n              <select className=\"form-select\" name=\"endAMPM\" id=\"endAMPM\" value={values.endAMPM} onChange={handleChange}>\n                <option value=\"0\">AM</option>\n                <option value=\"12\">PM</option>\n              </select>\n            </div>\n            {showErrors && errors.conflict && errors.conflict.end &&\n             (<small id=\"passwordHelpBlock\" className=\"form-text text-muted\">\n             That end time conflicts with an existing Block!\n             </small>)}\n          </div>\n        </form>\n        </Modal.Body>\n          {showErrors && errorList.length !== 0 && (\n            <Modal.Footer><ul>{errorList}</ul></Modal.Footer>\n          )}\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n          <Button\n            variant=\"primary\"\n            onClick={handleSubmit}>\n            Submit\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n","import { useEffect, useState } from 'react';\n\nimport { blockIsOnDay, getBoundaryMinutes } from '../helpers/timeHelpers'\n\n\nexport default function useNewBlockValidation(values, blocks, currentDay) {\n\n  const [errors, setErrors] = useState({})\n  const [formIsValid, setFormIsValid] = useState(false)\n\n  // If the values, blocks, or current day change, re-validate everything.\n  useEffect(() => {\n    const [newBlockStart, newBlockEnd] = getBoundaryMinutes({values})\n\n    /* Turns a block into an object as follows:\n    { block: the block in question,\n      start: bool, true if block conflicts with start time value\n      end: bool, true if block conflicts with end time value\n    }\n    */\n    const makeConflictObject = block => {\n      const [blockStartMins, blockEndMins] = getBoundaryMinutes({block});\n      const badStart = (newBlockStart >= blockStartMins &&\n                        newBlockStart < blockEndMins)\n      const badEnd =   (newBlockEnd > blockStartMins &&\n                        newBlockEnd <= blockEndMins);\n      return {block, start: badStart, end: badEnd};\n    }\n\n    // Get a single conflict object (if it exists)\n    // See previous function for object structure\n    const conflict = blocks && blocks.filter(block => blockIsOnDay(block, currentDay))\n    .map(makeConflictObject)\n    .filter(conflict => conflict.start || conflict.end)\n    [0];\n\n    // If there are any validation errors, store them in an object.\n    const newErrors = {};\n    if (!values.project)              newErrors.noProject = true;\n    if (newBlockStart >= newBlockEnd) newErrors.endBeforeStart = true;\n    if (conflict)                     newErrors.conflict = conflict;\n\n    setErrors(newErrors)\n  }, [values, blocks, currentDay])\n\n  useEffect(() => {\n    const valid = Object.values(errors).length === 0;\n    setFormIsValid(valid);\n  }, [errors])\n\n\n  return [errors, formIsValid]\n}","import '../styles/Block.css'\nimport { makeTimeString } from '../helpers/stringHelpers'\n\nexport default function Block(props) {\n  const { title, project_id, length, start_time, end_time } = props;\n\n  const startTimeStr = makeTimeString(start_time)\n  const endTimeStr = makeTimeString(end_time)\n\n  // Is this block a placeholder?\n  const placeholder = project_id === -1;\n\n  const blockClass = placeholder ? \"block_placeholder\" : \"block\"\n  const backgroundClass = placeholder ? \"block_placeholder_background\" : \"block_background\"\n\n  return(\n    <li className={\"list-group-item \" + backgroundClass}\n      style={{height: length + \"rem\"}}\n    >\n      <div\n        className={blockClass}\n        projectid={project_id}\n      >\n        {!placeholder && <h5>{title}</h5>}\n        {startTimeStr} to {endTimeStr}\n      </div>\n    </li>\n  )\n}","import '../styles/BlockList.css'\nimport Block from './Block'\n\nimport { getFifteenMinuteUnits } from '../helpers/timeHelpers'\n\nexport default function BlockList(props) {\n  const { blocks, day } = props;\n\n  const blocksForDay = blocks && day &&\n    blocks\n    .map(block => (\n      <Block\n        {...block}\n        key={block.id}\n        length={getFifteenMinuteUnits(block.start_time, block.end_time)}\n      />\n    ))\n\n  return (\n    <ul className=\"blockList list-group list-group-flush\">\n      { blocksForDay }\n    </ul>\n  )\n}","import '../styles/ScheduleBar.css'\n\nexport default function ScheduleBar(props) {\n\n  const startHour = 6;\n  const endHour = 20;\n\n  const ScheduleBarSection = props => {\n    const { hour } = props;\n    const am = hour < 12;\n    return (\n      <li className=\"ScheduleBarSection list-group-item\"\n        key={hour}>\n        { am || hour === 12 ? hour : hour-12 } { am ? \"AM\" : \"PM\"}\n      </li>\n    )\n  }\n\n  /* Creates the divs that show time of day for a schedule.\n  start: int, first hour of the schedule\n  end: int, last hour of the schedule\n  */\n  const  makeScheduleElements = (start, end) => {\n    const numSections = end - start;\n    const sections = new Array(numSections)\n      .fill(undefined) // Gotta do this first, or .map won't actually do anything\n      .map((e, index) => <ScheduleBarSection key={index} hour={start + index} />);\n    return sections;\n  }\n\n  return (\n    <ul className=\"ScheduleBar list-group list-group-flush\">\n      {makeScheduleElements(startHour, endHour)}\n    </ul>\n  )\n}","import '../styles/DaySchedule.css';\n\nimport Button from 'react-bootstrap/Button';\nimport BlockList from './BlockList'\nimport ScheduleBar from './ScheduleBar'\nimport { useEffect, useState } from 'react';\n\n// Helpers\nimport { \n  makeTimeString,\n  makeWeekDayString,\n  makeDateString } from '../helpers/stringHelpers'\n\n// Constants\nimport SETTINGS from '../constants/settings'\nimport STRINGS from '../constants/strings'\n\nexport default function DaySchedule(props) {\n  const LANG = STRINGS[SETTINGS.LANGUAGES.EN_US].TAG;\n\n  // Props:\n  // blocks is an array of Block components.\n  const { blocks, day, goToTomorrow, goToYesterday, showForm } = props;\n\n  const [blocksWithPlaceholders, setBlocksWithPlaceholders] = useState([]);\n\n  const dayString = makeWeekDayString(LANG, day)\n  const dateString = makeDateString(LANG, day)\n  const earliestHour = 6;\n  const latestHour = 20;\n\n  // Generate placeholder blocks for this day, for padding out the schedule\n  useEffect(() => {\n    const newBlocks = [];\n    let currentTime = new Date(day);\n    currentTime.setHours(earliestHour)\n\n    // Create all placeholder blocks that occur before the current Block\n    blocks.forEach(block => {\n      const blockDate = new Date(block.start_time);\n\n      while(currentTime < blockDate) {\n        // Make the placeholder block data\n        const placeholderBlock = {\n          id: `p${currentTime.getHours()}${currentTime.getMinutes() || \"00\"}`,\n          title: makeTimeString(currentTime),\n          project_id: -1,\n          start_time: currentTime.toISOString()\n        }\n        // Advance the time by 15 minutes\n        currentTime.setMinutes(currentTime.getMinutes() + 15);\n        // Add the ending time to the placeholder block\n        placeholderBlock.end_time = currentTime.toISOString();\n        // Add placeholder to newBlocks\n        newBlocks.push(placeholderBlock);\n      }\n\n      // Put the current Block in newBlocks in its spot\n      newBlocks.push(block)\n      // Update the currentTime to be the end of the current block\n      currentTime = new Date(block.end_time)\n    })\n\n    // Finally, fill in any placeholders that go after the final block of the day\n    while(currentTime.getHours() < latestHour) {\n      // Make the placeholder block data\n      const placeholderBlock = {\n        id: `p${currentTime.getHours()}${currentTime.getMinutes() || \"00\"}`,\n        title: makeTimeString(currentTime),\n        project_id: -1,\n        start_time: currentTime.toISOString()\n      }\n      // Advance the time by 15 minutes\n      currentTime.setMinutes(currentTime.getMinutes() + 15);\n      // Add the ending time to the placeholder block\n      placeholderBlock.end_time = currentTime.toISOString();\n      // Add placeholder to newBlocks\n      newBlocks.push(placeholderBlock);\n    }\n\n    setBlocksWithPlaceholders(newBlocks)\n  }, [blocks, day])\n\n  return(\n    <div className=\"daySchedule\">\n      <div className=\"dayScheduleHeader p-1\">\n        <div className=\"dayScheduleHeader_internal\">\n          <Button\n            variant=\"info\"\n            onClick={goToYesterday}>\n            {`<`}\n          </Button>\n          <Button\n            variant=\"info\"\n            onClick={goToTomorrow}>\n            {`>`}\n          </Button>\n          <div className=\"dayScheduleHeader_date\">\n            <h3>{dayString}</h3>\n            <small className=\"text-muted\">{dateString}</small>\n          </div>\n        </div>\n        <Button variant=\"primary\" onClick={showForm}>\n            New Block\n          </Button>\n      </div>\n      <div className=\"dayScheduleInternal mt-1\">\n        <ScheduleBar />\n        <BlockList\n          blocks={blocksWithPlaceholders}\n          day={day}\n        />\n      </div>\n    </div>\n  )\n}","export default function WeekSchedule(props) {\n\n  return (\n    <div>\n      <p>WeekSchedule component</p>\n    </div>\n  )\n}","export default function ProjectListItem(props) {\n  const { id, title, selected, onEditClick, onCancelClick, onSubmit, formValue, handleChange } = props;\n\n  return (\n    <li key={id} className=\"list-group-item d-flex justify-content-between bg-light\">\n      <span><strong>{title}</strong></span>\n      { selected &&\n        <form className=\"row row-cols-sm-auto g-3 align-items-center\" onSubmit={onSubmit}>\n          <div className=\"col-12\">\n            <label className=\"visually-hidden\" htmlFor=\"newName\">New name: </label>\n            <input\n              type=\"text\"\n              className=\"form-control form-control-sm\"\n              id=\"newName\"\n              value={formValue}\n              onChange={handleChange}\n            ></input>\n          </div>\n          <div className=\"col-12\">\n          <button className=\"btn btn-sm btn-secondary\">Submit</button>\n          </div>\n          <div className=\"col-12\">\n              <button className=\"btn btn-sm btn-danger\" onClick={onCancelClick}>Cancel</button>\n            </div>\n        </form>\n      }\n      { !selected &&\n        <button\n          className=\"btn btn-sm btn-info\" onClick={onEditClick}>Rename</button>\n      }\n    </li>\n  )\n}","import axios from 'axios';\nimport { useState } from 'react'\n\nimport ProjectListItem from './ProjectListItem'\n\nexport default function ProjectList(props) {\n  const { projects, setProjects } = props;\n\n  const [selectedProject, setSelectedProject] = useState(null);\n  const [formValue, setFormValue] = useState(null);\n  const [showNewProjectForm, setShowNewProjectForm] = useState(false);\n  const [newProjectFormValue, setNewProjectFormValue] = useState(\"\");\n\n  const handleSubmit = (event, id) => {\n    event.preventDefault();\n    const title = formValue !== null ? formValue : projects[id].title;\n    setSelectedProject(null);\n    setFormValue(null);\n    const newProject = {...projects[id], title};\n    setProjects(prev => ({\n      ...prev,\n      [id]: newProject\n    }))\n    axios.patch(`/api/projects/${id}`, { title })\n  }\n\n  const handleCancel = event => {\n    event.preventDefault();\n    setSelectedProject(null);\n  }\n\n  const handleChange = event => {\n    setFormValue(event.target.value);\n  }\n\n  const handleNewProjectFormChange = event => {\n    setNewProjectFormValue(event.target.value);\n  }\n\n  const handleNewProjectSubmit = event => {\n    event.preventDefault();\n    axios.post(`/api/projects`, { projectTitle: newProjectFormValue })\n         .then(res => {\n           const newProject = res.data;\n           setProjects(prev => ({\n             ...prev,\n             [newProject.id]: newProject\n           }))\n         })\n         .then(() => {\n          setNewProjectFormValue(\"\");\n          setShowNewProjectForm(false)\n         })\n  }\n\n  const handleNewProjectCancel = event => {\n    event.preventDefault();\n    setNewProjectFormValue(\"\");\n    setShowNewProjectForm(false)\n  }\n\n  const projectItems = projects && Object.values(projects).map(project => (\n    <ProjectListItem\n      {...project}\n      selected={ project.id === selectedProject}\n      onEditClick={() => setSelectedProject(project.id)}\n      onCancelClick={handleCancel}\n      onSubmit={(event) => handleSubmit(event, project.id)}\n      handleChange={handleChange}\n      formValue={formValue === null ? project.title : formValue}\n    />\n  ))\n\n  return (\n    <div className=\"container\">\n      <h3>My Projects</h3>\n\n      <ul className=\"list-group\">\n        {projectItems}\n      </ul>\n      <div className=\"newProject\">\n        { !showNewProjectForm &&\n          <button\n            className=\"btn btn-primary\"\n            onClick={() => setShowNewProjectForm(true)}\n          >\n              Add a Project\n          </button>\n        }\n        { showNewProjectForm &&\n          <form className=\"row row-cols-lg-auto g-3\" onSubmit={handleNewProjectSubmit}>\n            <div className=\"col-12\">\n              <label className=\"visually-hidden\" htmlFor=\"newProject\">New project name:</label>\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                id=\"newProject\"\n                value={newProjectFormValue}\n                onChange={handleNewProjectFormChange}\n              ></input>\n            </div>\n            <div className=\"col-12\">\n              <button className=\"btn btn-success\" type=\"submit\">Submit</button>\n            </div>\n            <div className=\"col-12\">\n              <button className=\"btn btn-danger\" type=\"button\" onClick={handleNewProjectCancel}>Cancel</button>\n            </div>\n          </form>\n        }\n      </div>\n    </div>\n\n  )\n}","import '../styles/ReportItem.css'\nimport '../styles/ProgressBar.css'\n\nexport default function ProgressBar(props) {\n  const { color, style, percent, overfilled } = props;\n  const background = color.clone();\n  background.alpha = .25; // Lighten the background color\n\n  const outerBarStyle = {\n    backgroundColor: `${background.toString()}`\n  }\n\n  const innerBarStyle = {\n    backgroundColor: color.toString(),\n    width: percent\n  }\n\n  return (\n    <div className={`progressbar-outer ${style} ${overfilled}`}\n         style={outerBarStyle}>\n      <div className={`progressbar-inner ${style} ${overfilled}`}\n        style={innerBarStyle}>\n        </div>\n    </div>\n  )\n}","import Color from 'colorjs.io';\n\nconst COLORS = {\n  RED: new Color('#ff0000'),\n  GREEN: new Color('#00ff00'),\n  BLUE: new Color('#0000ff'),\n  PURPLE: new Color('#ff00ff'),\n  EGYPT_BLUE: new Color('#1034A6')\n}\n\nexport default COLORS;","export function percent(num, denom) {\n  const percent = (num/denom) * 100;\n  return Math.round(percent*10) / 10;\n}\n\n// Fudge the numbers a bit for CSS width-niceness.\nexport function fudgePercentage(percent) {\n  if (percent < 1) return 1;\n  if (percent === 100) return 101;\n  return percent;\n}","import '../styles/ReportItem.css';\n\nimport ProgressBar from './ProgressBar'\n\nimport COLORS from '../constants/colors'\n\n// Helpers\nimport { percent, fudgePercentage } from '../helpers/numberHelpers'\n\nexport default function ReportItem(props) {\n  const {color = COLORS.EGYPT_BLUE, title, progress, goal} = props\n\n  const style = color.lightness > 30 ? \"light\" : \"dark\";\n\n  const overfilled = progress > goal;\n  const overfilledStr = overfilled ? 'overfilled' : '';\n\n  const rawWidth = overfilled ? percent(goal, progress) : percent(progress, goal);\n  const progressPercent = `${fudgePercentage(rawWidth)}%`;\n\n  const headerWidth = overfilled ? progressPercent : \"100%\";\n  const footerWidth = overfilled ? \"100%\" : progressPercent;\n\n  const projectStyle = {\n    backgroundColor: color.toString(),\n  }\n\n  return (\n    <div className={`report-item ${style} ${overfilledStr}`}>\n      <div className=\"report-item-header\" style={{width: headerWidth}}>\n        <p className={`report-item-project ${style}`} style={projectStyle}>\n          <strong>{title}</strong>\n        </p>\n        <p className=\"report-item-goal\">\n          <small><strong>Goal:</strong> {goal} hours</small>\n        </p>\n      </div>\n      <ProgressBar color={color} overfilled={overfilledStr} style={style} percent={progressPercent} />\n      <p className=\"report-item-footer\" style={{width: footerWidth}}>\n        <small><strong>Tracked:</strong> {Math.round(progress*100)/100} hours</small>\n      </p>\n    </div>\n  )\n}\n","import axios from \"axios\"\nimport { useEffect, useState } from \"react\"\n\nimport '../styles/Report.css';\n\nimport Button from 'react-bootstrap/Button'\n\nimport Loading from './Loading'\nimport ReportItem from './ReportItem'\n\nimport { makeWeekString } from '../helpers/stringHelpers'\n\nexport default function Report(props) {\n  const { projects, day, lastWeek, nextWeek } = props;\n\n  const [reportData, setReportData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState();\n\n  useEffect(() => {\n    axios.get(`/api/reports/week?date=${day.toISOString()}`)\n         .then(res => setReportData(res.data))\n         .catch(err => setError(err))\n         .finally(() => setLoading(false))\n\n  }, [projects, day])\n\n  const report = reportData.map(project => {\n    // Totals are returned in seconds.\n    const { project_id, sessions_total, blocks_total } = project\n    const projectName = projects[project_id] && projects[project_id].title;\n    const secondsToHours = 1/(60*60);\n    const sessionHours = (sessions_total * secondsToHours) || 0\n    const blockHours = (blocks_total * secondsToHours) || 0\n    return (\n      <ReportItem\n        key={project_id}\n        title={projectName}\n        progress={sessionHours}\n        goal={blockHours}\n      />\n    )\n  })\n\n  return (\n    <div className=\"report\">\n      <div class=\"report-header\">\n          <Button\n            variant=\"info\"\n            onClick={lastWeek}>\n            {`<`}\n          </Button>\n          <Button\n            variant=\"info\"\n            onClick={nextWeek}>\n            {`>`}\n          </Button>\n          <h3>{makeWeekString('EN-US', day)}</h3>\n          <span className=\"text-muted\">{day.getFullYear()}</span>\n        </div>\n      {loading && <Loading>Loading report...</Loading>}\n      {!loading && error && <p>{error.message}</p>}\n      {!loading && !error && reportData.length > 0 && (\n        <ul>\n          {report}\n        </ul>\n        )}\n      {!loading && !error && !reportData.length && (\n      <div className=\"report-empty\">\n        <p>You don't have anything scheduled this week!</p>\n      </div>)}\n    </div>\n  )\n}","export default function Footer() {\n  return(\n    <div className=\"Footer\">\n      Created by Paul Ladd. Check out the project on <a href=\"https://github.com/itspladd/capensis\">GitHub</a>!\n    </div>\n  )\n}","import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nimport { getLastSunday, makeZeroDate } from '../helpers/timeHelpers'\n\n// Ensures that the app always has the Blocks for the current week.\nexport default function useWeeklyBlocks(username) {\n  const today = new Date();\n  makeZeroDate(today);\n\n  const [currentDay, setCurrentDay] = useState(today);\n  const [blocks, setBlocks] = useState([]);\n\n  // Uses an array of block objects from the API to create Block components.\n\n\n  // A function to load blocks from the API and store them in state.\n  const loadUserBlocks = () => {\n    axios.get(`/api/blocks/week`)\n    .then(res => setBlocks(res.data))\n  }\n\n  // Compares two input days. If one is in a different week than the other,\n  // return true.\n  const checkForNewWeek = (current, newDay) => {\n    const currentSunday = getLastSunday(current);\n    const newSunday = getLastSunday(newDay);\n    if (currentSunday.getDate() !== newSunday.getDate()) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Load the current week's blocks any time the username changes\n  useEffect(loadUserBlocks, [username]);\n\n  // Change currentDay by given number of days\n  // i.e. days = 1 gives next day, days = -1 gives prev day\n  // Check for new week and load new blocks if necessary.\n  const changeDay = days => {\n    const msDayMultiplier = 1000*60*60*24;\n    const deltaMs = msDayMultiplier*days;\n    const newDay = new Date(currentDay.valueOf() + deltaMs);\n    const newWeek = checkForNewWeek(currentDay, newDay)\n    if (newWeek) {\n      axios.get(`/api/blocks/week?date=${newDay.toISOString()}`)\n      .then(res => setBlocks(res.data))\n    }\n    setCurrentDay(newDay)\n  }\n\n  const refreshBlocks = () => {\n    axios.get(`/api/blocks/week?date=${currentDay.toISOString()}`)\n      .then(res => setBlocks(res.data))\n  }\n\n  return [blocks, refreshBlocks, currentDay, changeDay];\n}","import '../styles/App.css';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\n\n// Router components\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\n// Components\nimport Loading from './Loading'\nimport Header from './Header';\nimport StatusBar from './StatusBar';\nimport Authentication from './Authentication'\n\nimport NewBlockForm from './NewBlockForm';\nimport DaySchedule from './DaySchedule';\nimport WeekSchedule from './WeekSchedule';\nimport ProjectList from './ProjectList';\nimport Report from './Report';\nimport Footer from './Footer';\n\n// Custom hooks\nimport useAuthentication from '../hooks/useAuthentication'\nimport useWeeklyBlocks from '../hooks/useWeeklyBlocks';\nimport useSessionTracking from '../hooks/useSessionTracking';\nimport usePopupModal from '../hooks/usePopupModal';\n\n// Helper functions\nimport { blockIsOnDay } from '../helpers/timeHelpers';\n\nexport default function App() {\n\n\n  const [loading, username, login, logout] = useAuthentication();\n  const [blocks, refreshBlocks, currentDay, changeDay] = useWeeklyBlocks(username);\n  const [currentSession, toggleSession] = useSessionTracking(username);\n  const [showForm, closeForm, show] = usePopupModal();\n  const [projects, setProjects] = useState({})\n\n  // Load new projects when the username changes\n  useEffect(() => {\n    axios.get('/api/projects')\n         .then(res => {\n           const projectList = {};\n           res.data.projects.forEach(project => projectList[project.id] = project)\n           setProjects(projectList)\n         })\n  }, [username])\n\n  return (\n    <div className=\"App\"\n      onClick={toggleSession}\n    >\n      {/* If we haven't finished trying to log in: */}\n      {loading && <Loading>Loading...</Loading>}\n\n      {/* If there's no valid login: */}\n      {!loading && !username &&\n        <Authentication login={login} />\n      }\n\n      {/* If we've successfully logged in: */}\n      {!loading && username &&\n        <>\n          <Router basename=\"/capensis\">\n            <Header username={username} handleLogout={logout} currentSession={currentSession} />\n            <StatusBar currentSession={currentSession} projects={projects} />\n            <NewBlockForm\n              show={show}\n              handleClose={closeForm}\n              currentDay={currentDay}\n              projects={projects}\n              blocks={blocks}\n              refreshBlocks={refreshBlocks}\n            />\n            <div className=\"App-body mt-1\">\n              <Switch>\n                <Route exact path={[\"/\", \"/schedule\"]}>\n                  <DaySchedule\n                    blocks={blocks.filter(block => blockIsOnDay(block, currentDay))}\n                    day={currentDay}\n                    goToTomorrow={() => changeDay(1)}\n                    goToYesterday={() => changeDay(-1)}\n                    showForm={showForm}\n                  />\n                </Route>\n                <Route exact path=\"/week\" >\n                  <WeekSchedule />\n                </Route>\n                <Route exact path=\"/projects\" >\n                  <ProjectList projects={projects} setProjects={setProjects} />\n                </Route>\n                <Route exact path=\"/reports\" >\n                  <Report\n                    projects={projects}\n                    day={currentDay}\n                    lastWeek={() => changeDay(-7)}\n                    nextWeek={() => changeDay(7)}\n                  />\n                </Route>\n              </Switch>\n            </div>\n          </Router>\n        </>\n      }\n      <Footer />\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nexport default function useAuthentication() {\n  const [loading, setLoading] = useState(true);\n  const [username, setUsername] = useState(null);\n\n  // Attempt to authenticate the user if they've logged in previously.\n  useEffect(() => {\n    console.log('authenticating')\n    axios.post('/api/authenticate')\n      .then(res => {\n        setUsername(res.data.username)\n        setLoading(false);\n      })\n  }, []);\n\n  const login = username => {\n    setUsername(username);\n  }\n\n  const logout = event => {\n    event.preventDefault();\n    axios.post(`/api/logout`)\n         .then(res => setUsername(res.data.username))\n  }\n\n  return [loading, username, login, logout];\n}\n","import axios from 'axios';\nimport { useState, useEffect } from 'react';\n\nexport default function useSessionTracking(username) {\n  const [currentSession, setCurrentSession] = useState(null);\n\n  useEffect(() => {\n    // When the username changes, ping the server to see if there's an open session.\n    // If there is, load it into the state.\n    axios.get(`/api/sessions/current`)\n         .then(res => {\n           if(res.data[0]) setCurrentSession(res.data[0]);\n         })\n  }, [username])\n\n  const toggleSession = event => {\n    // Try to find the nearest \"block\" class element.\n    const block = event.target.closest('.block')\n\n    // If there is one, then the user clicked on a block.\n    if (block) {\n      // Get the project ID from the block. Cast it to a number for comparison later.\n      const projectId = Number(block.getAttribute('projectid'))\n      // If we have a session running already, ping the API to stop it.\n      if (currentSession) {\n        axios.patch(`/api/sessions`, { session_id: currentSession.id })\n      }\n\n      // If the input matches the currently-tracked session, just stop\n      // the current session without starting a new one.\n      if (currentSession && projectId === currentSession.project_id) {\n        setCurrentSession(null);\n      } else {\n        // Otherwise, ping the API to start a new session and start tracking.\n        axios.post(`/api/sessions`, { project_id: projectId })\n            .then(res => setCurrentSession(res.data))\n      }\n    }\n\n  }\n\n  return [currentSession, toggleSession];\n}","import { useState } from 'react'\n\nexport default function usePopupModal() {\n\n  const [show, setShow] = useState(false);\n\n  const showModal = () => setShow(true);\n  const closeModal = () => setShow(false);\n\n  return [showModal, closeModal, show]\n}","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport axios from 'axios';\n\nif (process.env.REACT_APP_API_URL) {\n  axios.defaults.baseURL = process.env.REACT_APP_API_URL;\n  axios.defaults.withCredentials = true;\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}