{"version":3,"sources":["components/Loading.jsx","helpers/imageHelpers.js","components/Logo.jsx","reducer/context.js","components/Header.jsx","components/StatusBar.jsx","hooks/useControlledForms.js","components/Login.jsx","components/Register.jsx","components/Authentication.jsx","components/PageHeader.jsx","helpers/timeHelpers.js","constants/strings/languages/EN-US.js","constants/strings/index.js","helpers/stringHelpers.js","components/IconButton.jsx","components/Block.jsx","components/BlockList.jsx","components/ScheduleBar.jsx","helpers/boolHelpers.js","hooks/usePopupBlockForm.js","hooks/useNewBlockValidation.js","constants/settings.js","helpers/tagHelpers.js","components/BlockFormModal.jsx","components/DaySchedule.jsx","components/WeekSchedule.jsx","components/ProjectListItem.jsx","components/ProjectList.jsx","helpers/timingHelpers.js","constants/statuses.js","components/TabButton.jsx","components/SuccessIcon.jsx","components/SessionComponents/PureSessionItem.jsx","components/SessionComponents/SessionItem.jsx","components/SessionComponents/SessionList.jsx","helpers/projectHelpers.js","components/SessionComponents/Sessions.jsx","components/ProgressBar.jsx","constants/colors.js","helpers/numberHelpers.js","components/ReportItem.jsx","components/Report.jsx","components/Footer.jsx","assets/github_logo_light.png","components/App.jsx","helpers/api/api.js","helpers/api/auth.js","helpers/api/users.js","helpers/api/blocks.js","helpers/api/sessions.js","helpers/api/projects.js","helpers/api/reports.js","helpers/apiHelpers.js","constants/actions.js","reducer/appStateReducer.js","reducer/useAppData.js","index.js"],"names":["Loading","props","iconOnly","className","Spinner","animation","variant","role","children","getSvgSizeObj","scale","dimensions","offset","baseW","baseH","map","base","scaledW","scaledH","x","y","viewBox","width","height","Logo","hareOnly","sizeAttributes","d","ReducerState","createContext","ReducerActions","Header","state","useContext","actions","Navbar","expand","Container","to","Brand","href","Toggle","Collapse","id","Nav","Link","Text","user","username","Button","onClick","event","preventDefault","auth","logout","StatusBar","trackedSession","projects","tracking","loaded","data","projectExists","project_id","projectName","title","useControlledForms","fields","useState","formValues","setFormValues","prev","newVals","target","value","Login","login","formLoginUsername","formLoginPassword","handleFormChange","Form","Group","controlId","Label","Control","onChange","type","placeholder","Register","register","formRegisterUsername","formRegisterPassword","Authentication","showLogin","setShowLogin","authComponent","switchMsg","buttonMsg","document","activeElement","blur","PageHeader","nav","back","forward","subtitle","actionButtons","Object","keys","label","size","length","defaultProps","msDayMultiplier","getLastSunday","date","daysSinceSunday","getDay","msSinceSunday","lastSundayMs","valueOf","Date","getHM24","time","obj","getHours","getMinutes","getHMO12","noonZero","h","m","h24","to12H","result","Array","from","arguments","hour","minutesSinceMidnight","hours","minutes","getBoundaryMinutes","values","block","startHours","Number","startHour","startAMPM","startMinutes","startMinute","endHours","endHour","endAMPM","endMinutes","endMinute","getFormValuesBoundaryMinutes","start","start_time","end","end_time","getBlockBoundaryMinutes","getFifteenMinuteUnits","startDate","endDate","lengthHours","blockIsOnDay","day","getDate","timeStringSorter","timeStr1","timeStr2","STRINGS","EN_US","TAG","NEW_BLOCK_VALIDATION","conflicts","conflictList","conflict","startStr","makeTimeString","endStr","unshift","noProject","endBeforeStart","FORM_VALID","FORM_ERRORS","FORM_EDITING","FORM_NEW","makeNonBreaking","str","split","join","String","fromCharCode","timeArr","amPm","toLocaleTimeString","minute","makeHHMMTimeString","now","hourCycle","makeWeekDayString","lang","toLocaleDateString","weekday","makeDateString","month","year","makeWeekString","sun","sat","daysUntilSaturday","msUntilSaturday","nextSaturdayMs","getNextSaturday","sunStr","satStr","amOrPm","makeShortIntervalString","hour1","hour2","startH24","startM","endH24","endM","AMPM1","AMPM2","startH12","endH12","IconButton","fill","path","Block","spacer","toggle","edit","deleteBlock","interval","lengthStr","blockClass","classNames","project","tiny","short","handleClick","e","style","stopPropagation","BlockList","blocks","toggleSession","editBlock","dataActions","blocksForDay","key","ScheduleBar","ScheduleBarSection","undefined","index","truthyOrLengthy","a","isArray","defaultFormValues","usePopupBlockForm","currentDay","show","setShow","blockId","setBlockId","showErrors","setShowErrors","handleChange","setValues","currentBlockId","errors","setErrors","formIsValid","setFormIsValid","useEffect","newBlockStart","newBlockEnd","filter","blockStartMins","blockEndMins","newErrors","valid","useNewBlockValidation","showModal","closeModal","editing","new","close","change","submit","startMins","endMins","setHours","startTime","toISOString","endTime","blockData","scheduleBlock","then","SETTINGS","LANGUAGES","makeErrorTag","errorString","makeErrorList","i","makeErrorListRecurs","header","recursive","slice","LANG","BlockFormModal","currentDateText","toDateString","errorStrings","errorType","errorData","errorList","projectOptions","reverse","makeProjectOptions","hoursOptions","optionsList","push","makeHoursOptions","Modal","onHide","centered","closeButton","Title","Body","onSubmit","htmlFor","name","Footer","DaySchedule","blocksWithPlaceholders","setBlocksWithPlaceholders","blockFormState","blockFormActions","dayString","dateString","newBlocks","currentTime","finalTime","forEach","blockDate","placeholderBlock","setMinutes","headerActions","changeDay","WeekSchedule","ProjectListItem","selected","onEditClick","onCancelClick","formValue","ProjectList","selectedProject","setSelectedProject","setFormValue","showNewProjectForm","setShowNewProjectForm","newProjectFormValue","setNewProjectFormValue","handleCancel","projectItems","updateProject","handleSubmit","addProject","delayAction","callback","delay","Promise","resolve","reject","setTimeout","STATUSES","NEW","ACTIVE","STABLE","EDITING","LOADING","DELETING","CONFIRM","SUCCESS","FAILURE","PROJECT","TabButton","SuccessIcon","PureSessionItem","ref","status","active","refDay","deleteItem","setStatus","handleToggle","scrollRef","useRef","inputRef","useImperativeHandle","focusTime","current","focus","scroll","scrollIntoView","duration","startH","makeDurationFromHHMM","statusComponents","stable","loading","deleting","success","failure","outerClassName","ListGroupItem","as","forwardRef","SessionItem","checkListDelete","times","handleTimeChange","setTimes","sessionItemRef","statusTimer","clearTimeout","endH","editSession","catch","ERROR","deleteSession","handleDelete","SessionList","sessions","checkDelete","sessionList","session","ListGroup","Item","projectHasSessions","Sessions","sessionListsByProject","projectsWithSessions","untrackedProjects","projectsWithoutSessions","lastWeek","nextWeek","ProgressBar","color","percent","overfilled","background","clone","alpha","outerBarStyle","backgroundColor","toString","innerBarStyle","COLORS","RED","Color","GREEN","BLUE","PURPLE","EGYPT_BLUE","num","denom","Math","round","ReportItem","progress","goal","lightness","overfilledStr","rawWidth","progressPercent","headerWidth","footerWidth","projectStyle","Report","reports","empty","report","sessions_total","blocks_total","secondsToHours","sessionHours","blockHours","getFullYear","repoLink","src","alt","App","userLoaded","loggedIn","basename","exact","apiResponseHandler","config","axios","res","api","get","url","method","post","patch","del","check","rawPassword","add","getWeek","getActive","stop","users","ACTIONS","SET","SET_WEEKLY_STATUS","SET_DATA_STATUS","CLEAR","DELETE","SET_ALL","initialState","setSeconds","setMilliseconds","appStateReducer","action","A","projectsArr","p","payload","dataType","Error","findIndex","b","sort","b1","b2","s","s1","s2","useAppData","useReducer","dispatch","days","sunday","deltaMs","currentSunday","newSunday","all","dateActions","yesterday","tomorrow","authActions","load","apiPromises","startNew","getWeeklyReport","AppWithContext","Provider","defaults","baseURL","process","withCredentials","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8e690620.chunk.js","sourcesContent":["import '../styles/Loading.css'\n\nimport Spinner from 'react-bootstrap/Spinner'\n\nexport default function Loading(props) {\n\n  const { iconOnly } = props;\n\n  return (\n    <div className=\"loading\">\n      <Spinner animation=\"border\" variant=\"primary\" role=\"status\">\n        <span className=\"visually-hidden\">{props.children}</span>\n      </Spinner>\n      {!iconOnly && props.children && <p>{props.children}</p>}\n    </div>\n  )\n}","export function getSvgSizeObj(scale, dimensions, offset=[0,0]) {\n  const [baseW, baseH] = dimensions;\n  const [scaledW, scaledH] = dimensions.map(base => base * scale);\n  const [x, y] = offset;\n\n  const viewBox = `${x} ${y} ${baseW} ${baseH}`;\n  const width = `${scaledW}px`;\n  const height = `${scaledH}px`;\n\n  return { viewBox, width, height }\n}","import \"../styles/Logo.css\"\n\nimport { getSvgSizeObj } from '../helpers/imageHelpers'\n\nexport default function Logo(props) {\n  const { className, hareOnly, scale = 1 } = props;\n\n  const baseWidth = 77;\n  const baseHeight = hareOnly ? 48 : 65\n\n  const sizeAttributes = getSvgSizeObj(scale, [baseWidth, baseHeight])\n\n  return (\n    <div className={className}>\n      <svg {...sizeAttributes}\n      >\n        <path\n          d=\"m 57.361851,0.00779235 c -4.01701,0.004 -8.06578,0.19957 -11.98118,1.16335995 -4.78258,0.8796 -9.74801,1.1765 -14.25797,3.14795 -3.09877,1.19352 -6.29356,2.46094 -8.7127,4.81844 -2.7705,2.2294797 -5.60536,4.3862397 -8.32466,6.6743997 -1.40146,0.78769 -2.99375,1.2529 -4.2156301,2.33883 -2.65423,1.86781 -5.22584,4.00714 -6.91635,6.82183 -1.19926,1.11653 -1.52069,3.39482 -0.0633,4.4392 1.14,0.81447 2.47709,1.30863 3.83306,1.62628 2.01304,-0.11472 4.0149701,-0.36991 6.0275101,-0.49143 1.77655,2.23261 3.04142,4.80663 4.40433,7.29772 0.64946,1.21874 -0.25521,2.46118 -1.51411,2.6308 -1.64442,0.46517 -3.28844,-0.29321 -4.92681,-0.42153 -3.3331601,-0.54907 -7.0894401,-0.42228 -9.88205011,1.70372 -1.35316,0.52871 -0.94367,2.25694 0.42280001,2.36933 1.81457,0.30455 3.54713,1.40282 5.44632,1.02542 4.9009101,-0.12947 9.8662201,-0.034 14.6694601,-1.16597 2.42444,0.0281 4.83772,0.38118 7.26575,0.26066 5.15597,-0.0215 10.30789,0.40165 15.46354,0.25118 1.0775,-0.38501 2.03638,0.0291 2.72619,0.86285 2.2857,1.65921 5.2125,2.0065 7.95871,2.07466 2.36194,-0.10072 4.72233,-0.61928 6.85706,-1.64948 0.54924,-0.79125 1.47448,-0.83249 2.33141,-0.69274 3.00451,0.0239 6.19737,0.20899 8.95937,-1.18298 1.73172,-0.95122 3.00509,-2.71784 3.21745,-4.69904 0.4238,-2.23848 0.65319,-4.81244 -0.73532,-6.77443 -1.154,-0.73141 -2.65814,0.0563 -3.88979,0.25806 -0.7944,0.20144 -1.42317,1.18492 -1.91994,1.44538 -1.97553,-1.86041 -3.65461,-4.28702 -6.35613,-5.14173 -3.70559,-1.50739 -7.49919,-3.18272 -11.5784,-3.16668 -4.4822,-0.17203 -9.12094,0.0336 -13.32085,1.74874 -1.15076,0.53642 -1.80113,1.99815 -3.22896,1.81025 -0.98667,0.0139 -2.1518,0.48663 -2.51515,-0.74805 -1.14654,-1.4998 -2.85301,-2.52208 -4.6766,-2.96616 1.89085,-1.73694 4.5842,-1.85861 6.99555,-2.19144 3.94803,-0.27759 7.40536,-2.38347 10.79623,-4.22948 1.84268,-1.04937 3.83523,-1.79162 5.67607,-2.84334 3.18858,-1.66937 6.32016,-3.45256 9.32789,-5.42998 1.38248,-0.78013 3.01035,-0.89313 4.56019,-0.83627 0.80497,-0.005 3.14619,-0.068 2.31047,-1.3126997 -0.85229,-0.56304 -1.87789,-0.84804 -2.86493,-1.09406 -2.92585,-0.61054 -5.92423,-0.20053 -8.88318,-0.33529 -1.33872,0.33717 -0.13302,-1.40167 0.0578,-1.98966 0.96719,-1.89075 2.61018,-3.31646 4.32477,-4.51316995 0.45331,-1.25911 -1.45856,-0.79823 -2.20669,-0.89482 -0.22039,-2e-5 -0.44086,7.9e-4 -0.66118,0.001 z m -1.84718,1.52054995 c -2.07027,1.58057 -3.34944,4.00999 -3.92327,6.51519 -2.26634,0.71083 -4.65987,0.83327 -6.97211,1.3363 -3.50647,0.50854 -7.04454,1.0347697 -10.37484,2.2950497 -3.79102,1.19153 -7.28448,3.33446 -10.00061,6.24259 -0.96349,0.91609 -2.0655,1.70665 -2.84949,2.79563 0.82199,0.75625 2.3656,0.4527 3.25073,0.11744 2.36241,-1.91581 4.35696,-4.29008 7.00151,-5.84978 4.38352,-2.72918 9.52375,-3.90235 14.59819,-4.48859 3.13754,-0.5661197 6.26336,-1.2223397 9.41382,-1.7015397 2.00829,-0.0865 4.02412,0.0118 6.01563,0.28352 -1.66207,0.30713 -3.47483,0.51521 -4.76802,1.7211997 -3.39045,2.23193 -6.98134,4.14837 -10.58296,6.00746 -3.92449,1.47143 -7.21317,4.45604 -11.40713,5.22587 -2.88723,0.39207 -5.81743,0.81946 -8.51264,1.98241 -0.82909,0.65003 -2.74272,1.42207 -2.21036,2.66804 0.82435,0.54629 1.89909,0.53577 2.7622,1.04115 1.29249,0.5971 2.43576,1.58348 3.0745,2.87022 1.01644,0.71336 2.32989,0.16624 3.47565,0.28809 1.72819,-0.0996 3.53372,0.11044 5.19353,-0.45158 1.1247,-0.74386 1.86716,-2.08433 3.27201,-2.369 2.78981,-1.16397 5.86948,-0.70111 8.80272,-0.67326 3.97674,0.24988 7.59229,2.07977 11.19225,3.62042 1.73863,1.14374 3.14838,2.6984 4.5137,4.2502 0.29847,0.96488 -0.11625,2.09014 -0.73993,2.83665 -1.11832,1.33001 -2.22119,2.67487 -3.24344,4.08081 -1.38246,-1.27382 -1.87513,-3.20964 -3.23085,-4.51269 -1.913,-2.27026 -3.94119,-4.49018 -6.38898,-6.1968 -0.99529,-0.46795 -3.21539,-0.78062 -3.22995,0.79238 0.0888,1.48717 1.08473,3.05195 0.26477,4.4924 -1.21004,1.31607 -2.95718,1.96683 -4.51226,2.78964 -1.21562,0.74771 -2.59063,1.23989 -4.03129,1.24509 -3.12787,-0.0112 -6.33407,0.096 -9.3557,-0.85714 -1.48665,-0.44939 -2.87612,-1.14683 -4.23652,-1.88379 -0.83777,-0.47921 -1.79459,-0.32288 -2.67529,-0.0958 -0.6819,0.0251 -1.25028,0.58275 -0.83676,1.20625 -0.31002,1.82039 -1.99921,3.09189 -3.73103,3.44583 -4.30082,1.31904 -8.84919,0.8659 -13.2780201,0.98997 -1.26633,-0.0872 -2.39871,-0.7235 -3.61751,-1.01452 1.04829,-0.78244 2.37176,-1.63369 3.732,-1.18219 3.4993601,0.52572 7.1927501,1.30556 10.6380201,0.0811 1.18583,-0.61006 2.72924,-1.26239 2.96032,-2.7459 -0.46526,-2.52759 -2.26556,-4.47764 -3.34839,-6.73783 -0.90275,-1.44498 -1.81697,-2.8873 -2.86469,-4.23303 -1.41655,-0.22397 -2.74882,0.53257 -3.80994,1.38872 -1.5909901,0.83692 -3.3855201,-0.0286 -4.8210501,-0.79279 -1.10258,-0.47242 -0.97964,-1.92798 -0.1981,-2.63597 1.57739,-2.42276 3.53709,-4.63764 5.9903601,-6.20103 1.45991,-1.04578 2.96079,-2.0997 4.68625,-2.65728 2.23358,-1.78108 4.34572,-3.7157 6.68929,-5.35658 2.46401,-1.9284097 4.75177,-4.2598997 7.7968,-5.2545997 4.28821,-1.91026 8.87702,-3.12162 13.54568,-3.59989 3.46805,-0.5604 6.9352,-1.36469 10.46951,-1.26038 0.0996,0.0212 0.9521,-0.16887 0.41169,0.14231 z m 17.36865,33.3068697 c 0.0367,2.30536 0.3497,4.86675 -1.08692,6.85558 -1.03919,1.30947 -2.73655,2.20449 -4.43547,1.93817 -0.77409,-0.0357 -2.35655,0.006 -2.63063,-0.31995 1.44068,-0.682 1.91811,-2.3697 3.11885,-3.33132 1.65015,-1.74184 3.51339,-3.27865 5.03417,-5.14248 z m -18.65857,1.63553 c 1.89376,1.84451 3.36743,4.07325 4.60172,6.39918 1.14731,0.66685 0.28648,1.98917 -0.58412,2.41876 -1.7177,0.90563 -3.75229,0.60871 -5.54983,0.13333 -1.57252,-0.41737 -3.28366,-1.11929 -4.12892,-2.59456 -0.60015,-1.22762 -0.006,-2.8826 1.30953,-3.34283 1.45745,-0.81343 3.27245,-1.63389 3.7069,-3.41383 -0.0339,-0.51019 0.49391,0.38559 0.64472,0.39995 z\"\n        />\n        <path\n          d=\"m 12.329021,22.078982 c -1.53898,-0.19975 -2.9326201,0.99592 -3.4488701,2.37371 1.03832,0.74091 2.3559401,-0.0447 3.5171501,0.20167 1.10195,-0.23557 1.81943,-1.32642 2.49593,-2.09479 -0.19378,-1.02995 -1.86981,-0.23781 -2.56421,-0.48059 z\"\n        />\n        { !hareOnly && <path\n          d=\"m 41.320781,53.934512 c -1.40125,0.78499 -1.74836,2.50759 -2.81328,3.61549 -0.54628,0.52518 -1.12113,2.32572 -1.85898,1.1312 -0.99802,-1.0459 -1.42941,-2.52936 -2.47688,-3.51771 -1.05875,-0.45875 -2.22973,-0.60244 -3.30927,-1.01111 -1.00454,0.34948 -1.46107,1.68494 -2.24136,2.43888 -0.72305,0.77802 -1.3659,2.08327 -2.17983,2.50056 -1.28091,-0.86629 -2.00461,-2.27914 -3.01922,-3.40477 -1.53291,-0.42713 -3.13117,-0.52765 -4.71406,-0.58619 -1.23892,0.37568 -0.78236,2.05893 -1.65531,2.82457 -0.53006,0.56784 -1.25698,1.56753 -1.88229,1.65653 -1.04478,-1.21346 -1.77582,-2.71889 -3.09471,-3.67928 -1.55435,-0.14566 -3.0901001,-0.46848 -4.6527101,-0.52851 -0.95407,0.82512 -1.33418,2.16121 -2.4715,2.81253 -1.24373,0.96895 -2.76247,1.45994 -4.21143001,2.02862 -0.52278,0.89239 1.31170001,0.81997 1.89302001,1.01211 2.36823,0.30118 4.73041,-0.52072 6.74571,-1.71431 1.0553301,1.08072 1.8212801,2.49002 3.1791401,3.24085 1.97214,0.13451 4.01717,-0.0199 5.87244,-0.73258 1.0757,-0.53612 1.81234,-1.53666 2.82566,-2.1632 1.13214,0.76403 1.84709,1.96098 2.79884,2.91321 1.8464,1.09668 4.1529,0.17238 5.62525,-1.13985 0.89454,-0.36716 1.6536,-1.38208 2.27333,-1.7991 1.96495,1.67864 4.53365,2.97082 7.18297,2.61568 1.7278,-0.57505 2.8921,-2.07087 3.97931,-3.44579 1.10633,0.83674 2.06865,2.1019 3.55441,2.21905 1.94462,0.78768 4.06283,0.29677 6.08162,0.20851 0.64608,-0.41299 1.55284,-2.06258 2.1616,-0.69412 1.18284,1.41226 3.19601,1.18788 4.84478,1.18443 1.32356,-0.094 2.76166,0.29071 3.98817,-0.36572 0.93274,-0.6761 1.95892,-1.22012 2.90053,-1.8892 1.21219,1.00965 2.47732,1.96052 3.82504,2.78277 1.46934,-0.28286 3.02681,-0.0991 4.43605,-0.67576 0.0567,-1.06956 -1.55488,-1.28159 -2.13541,-2.05824 -1.44175,-1.16132 -2.76005,-2.63955 -3.21549,-4.47847 0.14008,-1.18198 -1.39882,-0.37674 -2.05677,-0.47105 -1.14293,0.0913 -2.30712,-0.0929 -3.43396,0.17663 -0.59929,2.03753 -1.93267,4.01717 -3.9945,4.77686 -0.92214,-0.59454 -1.28493,-1.90533 -1.80722,-2.87819 -0.34563,-1.29888 -1.6878,-1.39474 -2.78254,-1.63421 -1.08069,-0.2315 -2.18366,-0.4016 -3.29198,-0.36773 -0.27593,0.98221 0.72671,2.3642 -0.66327,2.90621 -0.91095,0.58095 -2.25552,1.95606 -3.08972,0.60435 -1.09768,-1.02434 -2.11666,-2.14674 -2.9248,-3.41632 -1.13714,-0.26061 -2.30091,-0.40997 -3.39498,-0.83283 -0.26022,-0.0762 -0.52479,-0.14653 -0.7964,-0.1648 z\"\n        />}\n      </svg>\n    </div>\n  )\n}","import { createContext } from 'react'\n\n// Context providers\nexport const ReducerState = createContext(null)\nexport const ReducerActions = createContext(null)","import { useContext } from 'react'\n\n// Router components\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport Container from \"react-bootstrap/Container\"\nimport Navbar from \"react-bootstrap/Navbar\"\nimport Nav from \"react-bootstrap/Nav\"\nimport Button from \"react-bootstrap/Button\"\nimport '../styles/Header.css';\n\nimport Logo from '../components/Logo'\n\n// Context\nimport { ReducerState, ReducerActions } from '../reducer/context'\n\nexport default function Header() {\n  const state = useContext(ReducerState)\n  const actions = useContext(ReducerActions)\n\n  const handleLogout = event => {\n    event.preventDefault();\n    actions.auth.logout();\n  }\n\n  return(\n    <Navbar className=\"navbar\" variant=\"dark\" expand=\"sm\">\n      <Container>\n        <LinkContainer to=\"/schedule\">\n          <Navbar.Brand href=\"/\"><Logo className=\"nav-logo\" scale=\"0.75\"/></Navbar.Brand>\n        </LinkContainer>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"me-auto\">\n            <LinkContainer to=\"/schedule\"><Nav.Link>Schedule</Nav.Link></LinkContainer>\n            <LinkContainer to=\"/projects\"><Nav.Link>Projects</Nav.Link></LinkContainer>\n            <LinkContainer to=\"/sessions\"><Nav.Link>Sessions</Nav.Link></LinkContainer>\n            <LinkContainer to=\"/reports\"><Nav.Link>Reports</Nav.Link></LinkContainer>\n          </Nav>\n          <Navbar.Text>\n            <span className=\"me-2\">Logged in as {state.user.username}</span>\n            <Button onClick={handleLogout}>Logout</Button>\n          </Navbar.Text>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  )\n}","import { useContext } from 'react'\n\n// Context\nimport { ReducerState } from '../reducer/context'\n\nimport '../styles/StatusBar.css';\n\nexport default function StatusBar() {\n  const state = useContext(ReducerState)\n\n  const { trackedSession, projects, loaded } = state;\n  const { tracking } = loaded.data\n\n  const projectExists = trackedSession && projects[trackedSession.project_id];\n  const projectName = projectExists && projects[trackedSession.project_id].title\n\n  const bgColor = () => {\n    if (trackedSession) return 'bg-success text-light';\n    if (!trackedSession) return 'bg-secondary text-light';\n  }\n\n  return (\n    <div className={`statusBar ${bgColor()}`}>\n      { !tracking &&\n        `Loading...`\n      }\n      { trackedSession && projectExists &&\n        `Currently tracking ${projectName}`\n      }\n      { trackedSession && !projectExists &&\n        `ERROR: Trying to track project ID ${trackedSession.project_id}, but it was not found.`\n      }\n      { !trackedSession &&\n        `Not currently tracking`\n      }\n    </div>\n  )\n}","import { useState } from 'react';\n\nexport default function useControlledForms(fields) {\n  const [formValues, setFormValues] = useState(fields)\n\n  const handleFormChange = event => {\n    event.preventDefault();\n    setFormValues(prev => {\n      const newVals = {...prev};\n      newVals[event.target.id] = event.target.value;\n      return newVals;\n    })\n  }\n\n  return [formValues, handleFormChange, setFormValues]\n}","import useControlledForms from '../hooks/useControlledForms';\n\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nimport { useContext } from 'react';\nimport { ReducerActions } from '../reducer/context'\n\nexport default function Login() {\n\n  const { login } = useContext(ReducerActions).auth\n\n  const [formValues, handleFormChange] = useControlledForms({\n    formLoginUsername: \"\",\n    formLoginPassword: \"\"\n  });\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const { formLoginUsername, formLoginPassword } = formValues;\n    login(formLoginUsername, formLoginPassword)\n  }\n\n  return (\n    <Form className=\"loginForm\" >\n      <h4>Login</h4>\n      <Form.Group className=\"mb-3\" controlId=\"formLoginUsername\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control onChange={handleFormChange} type=\"text\" placeholder=\"Username\" />\n      </Form.Group>\n      <Form.Group className=\"mb-3\" controlId=\"formLoginPassword\">\n        <Form.Label>Password</Form.Label>\n        <Form.Control onChange={handleFormChange} type=\"password\" placeholder=\"Password\" />\n      </Form.Group>\n      <Button variant=\"success\" type=\"submit\" onClick={handleSubmit}>\n        Submit\n      </Button>\n    </Form>\n  )\n}","import useControlledForms from '../hooks/useControlledForms';\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nimport { ReducerActions } from '../reducer/context'\nimport { useContext } from 'react';\n\nexport default function Register() {\n\n  const { register } = useContext(ReducerActions).auth\n\n  const [formValues, handleFormChange] = useControlledForms({\n    formRegisterUsername: \"\",\n    formRegisterPassword: \"\"\n  });\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const { formRegisterUsername, formRegisterPassword } = formValues;\n    register(formRegisterUsername, formRegisterPassword)\n  }\n\n  return (\n    <Form className=\"registerForm\">\n      <h4>Register</h4>\n      <Form.Group className=\"mb-3\" controlId=\"formRegisterUsername\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control onChange={handleFormChange} type=\"text\" placeholder=\"Username\" />\n      </Form.Group>\n      <Form.Group className=\"mb-3\" controlId=\"formRegisterPassword\">\n        <Form.Label>Password</Form.Label>\n        <Form.Control onChange={handleFormChange} type=\"password\" placeholder=\"Password\" />\n      </Form.Group>\n      <Button variant=\"success\" type=\"submit\" onClick={handleSubmit}>\n        Create account\n      </Button>\n    </Form>\n  )\n}","import { useState } from 'react'\n\nimport Login from './Login'\nimport Register from './Register'\nimport Logo from './Logo';\n\nimport '../styles/Authentication.css';\n\n\nexport default function Authentication() {\n\n  const [showLogin, setShowLogin] = useState(true)\n\n  const authComponent = showLogin ? <Login /> : <Register />;\n  const switchMsg = showLogin ? \"Don't have an account yet?\" : \"Already have a Capensis account?\";\n  const buttonMsg = showLogin ? \"Make one!\" : \"Sign in!\";\n\n  const handleSwitch = event => {\n    event.preventDefault();\n    document.activeElement.blur(); // Clear focus from the button\n    setShowLogin(!showLogin)\n  }\n\n  return (\n    <div className=\"authentication\">\n      <div id=\"auth_welcome\">\n        <div className=\"app_name\">\n          <Logo className=\"auth-logo\" hareOnly scale={2}/>\n          <p>Capensis</p>\n        </div>\n        <p id=\"app_description\">A super simple scheduler and time-tracker.</p>\n      </div>\n      <section id=\"auth_body\">\n        { authComponent }\n\n        <div className=\"authentication_switch\">\n          <p className=\"text-muted\">{switchMsg}</p>\n          <button onClick={handleSwitch}>{buttonMsg}</button>\n        </div>\n      </section>\n    </div>\n  )\n}","import Button from 'react-bootstrap/Button';\nimport PropTypes from 'prop-types'\nimport '../styles/PageHeader.css'\n\nfunction PageHeader({ nav, back, forward, title, subtitle, actions }) {\n\n  // Make any action buttons passed in through props\n  const actionButtons = Object.keys(actions).map(label => (\n    <Button key={label} size=\"sm\" onClick={actions[label]}>\n      {label}\n    </Button>\n  ))\n\n  return(\n    <header className=\"page_header p-1\">\n      <div>\n        {nav &&\n        <nav>\n          <Button\n          variant=\"info\"\n          onClick={back}>\n          {`<`}\n          </Button>\n          <Button\n            variant=\"info\"\n            onClick={forward}>\n            {`>`}\n          </Button>\n        </nav>\n        }\n        <div className=\"page_header_title\">\n          <h3>{title}</h3>\n          {subtitle && <small className=\"text-muted\">{subtitle}</small>}\n        </div>\n      </div>\n      <div className=\"page_header_actions\">\n        { actionButtons.length !== 0 && actionButtons }\n      </div>\n    </header>\n  )\n}\n\nPageHeader.propTypes = {\n  title: PropTypes.string,\n  subtitle: PropTypes.string,\n  nav: PropTypes.bool,\n  back: PropTypes.func,\n  forward: PropTypes.func,\n  actions: PropTypes.objectOf(PropTypes.func),\n}\n\nPageHeader.defaultProps = {\n  title: \"Untitled Page\",\n  actions: {}\n}\n\nexport default PageHeader;","\nconst msDayMultiplier = 1000*60*60*24;\n\n// Given a Date object, return a Date object of the last Sunday.\nexport function getLastSunday(date) {\n  // Get Sunday for this week.\n  const daysSinceSunday = date.getDay(); // Returns 0 for sunday, 1 for Monday, etc\n  const msSinceSunday = msDayMultiplier * daysSinceSunday;\n  const lastSundayMs = date.valueOf() - msSinceSunday;\n  return new Date(lastSundayMs);\n}\n\nexport function getNextSaturday(date) {\n  const daysUntilSaturday = 6 - date.getDay();\n  const msUntilSaturday = msDayMultiplier * daysUntilSaturday;\n  const nextSaturdayMs = date.valueOf() + msUntilSaturday;\n  return new Date(nextSaturdayMs);\n}\n\nexport function getTimeIntervalUnits(start, end) {\n  const startMs = new Date(start).valueOf();\n  const endMs = new Date(end).valueOf();\n  const ms = endMs - startMs;\n  const sRemaining = Math.floor(ms / 1000);\n  const s = sRemaining % 60;\n  const minsRemaining = (sRemaining - s) / 60;\n  const m = minsRemaining % 60;\n  const h = (minsRemaining - m) / 60;\n\n  return [h, m, s]\n}\n\nexport function getHM24(time) {\n  const obj = new Date(time);\n  let h, m;\n  h = obj.getHours();\n  m = obj.getMinutes();\n  return [h, m];\n}\n\n/**\n * Returns the hour, minute, and offset for the input time in 12h format.\n * @param {*} time The time to convert\n * @param {Boolean} noonZero (optional) Indicates if noon should be returned as a zero value with a 12-hour offset\n * @returns {Array} The hour, minute, and offset (0 for AM, 12 for PM)\n */\nexport function getHMO12(time, noonZero) {\n  const obj = new Date(time);\n  const h24 = obj.getHours();\n  let h, m, hOffset;\n  h = to12H(h24);\n  m = obj.getMinutes();\n  hOffset = h24 > 12 ? 12 : 0;\n  if (noonZero && h24 === 0) {\n    return [0, m, 0]\n  }\n  if (noonZero && h24 === 12) {\n    return [0, m, 12];\n  }\n  return [h, m, hOffset];\n}\n\n\n\n// Turn an arbitrary number of input arguments to their 12h versions\nexport function to12H() {\n  const result = Array.from(arguments).map(hour => {\n    if (hour === 0) {\n      return 12;\n    }\n    if (hour > 12) {\n      return hour - 12;\n    }\n    return hour\n  })\n\n  return result.length === 1 ? result[0] : result;\n}\n\n// Set h/min/s/ms of a given date to 0.\nexport function makeZeroDate(date) {\n  date.setHours(0);\n  date.setMinutes(0);\n  date.setSeconds(0);\n  date.setMilliseconds(0);\n  return date;\n}\n\nexport function makeNoonDate(date) {\n  date.setHours(12);\n  date.setMinutes(0);\n  date.setSeconds(0);\n  date.setMilliseconds(0);\n  return date;\n}\n\nexport function minutesSinceMidnight (hours, minutes) {\n  return (hours * 60) + minutes;\n}\n\n// Internal helper function to allow getBoundaryMinutes to handle different options\nfunction getFormValuesBoundaryMinutes(values) {\n  const startHours = Number(values.startHour) + Number(values.startAMPM);\n  const startMinutes = Number(values.startMinute)\n  const endHours = Number(values.endHour) + Number(values.endAMPM);\n  const endMinutes = Number(values.endMinute)\n  const startMins = minutesSinceMidnight(startHours, startMinutes);\n  const endMins = minutesSinceMidnight(endHours, endMinutes);\n  return [startMins, endMins]\n}\n\nfunction getBlockBoundaryMinutes(block) {\n  const start = new Date(block.start_time);\n  const end = new Date(block.end_time);\n  const startMins = minutesSinceMidnight(start.getHours(), start.getMinutes())\n  const endMins = minutesSinceMidnight(end.getHours(), end.getMinutes())\n  return [startMins, endMins]\n}\n\nexport function getBoundaryMinutes({values, block}) {\n  if (values) return getFormValuesBoundaryMinutes(values);\n  if (block) return getBlockBoundaryMinutes(block)\n}\n\nexport function getFifteenMinuteUnits(start, end) {\n  const startDate = new Date(start);\n  const endDate = new Date(end);\n  const lengthHours = endDate.getHours() - startDate.getHours();\n  const lengthMins = (endDate.getMinutes() - startDate.getMinutes()) + (lengthHours * 60)\n  const fifteenMinuteUnits = lengthMins / 15;\n  return fifteenMinuteUnits;\n}\n\n// Determines if a block's start_time date matches the input date.\nexport function blockIsOnDay(block, day) {\n  return new Date(block.start_time).getDate() === day.getDate();\n}\n\nexport function timeStringSorter(timeStr1, timeStr2) {\n  const ms1 = new Date(timeStr1).valueOf()\n  const ms2 = new Date(timeStr2).valueOf()\n  return ms1 - ms2;\n}","import { makeTimeString } from '../../../helpers/stringHelpers'\n\nconst EN_US = {\n  TAG: \"EN-US\",\n  NEW_BLOCK_VALIDATION: {\n    conflicts: (conflicts) => {\n      const conflictList = conflicts.map(conflict => {\n        const {title, start_time, end_time} = conflict.block;\n        const startStr = makeTimeString(start_time)\n        const endStr = makeTimeString(end_time)\n        return `${title}, ${startStr} - ${endStr}`\n      })\n      conflictList.length && conflictList.unshift(\"That time conflicts with other block(s):\");\n      return conflictList;\n    },\n    noProject: () => \"You must select a project.\",\n    endBeforeStart: () => \"That block would end on or before its start time.\"\n  },\n  FORM_VALID: \"Looks good!\",\n  FORM_ERRORS: \"The following errors were found:\",\n  FORM_EDITING: \"Edit Block\",\n  FORM_NEW: \"Schedule New Block\"\n}\n\nexport default EN_US;","import EN_US from './languages/EN-US'\n\nconst STRINGS = {\n  EN_US,\n}\n\nexport default STRINGS;","import { getLastSunday, getNextSaturday, getHM24, to12H } from './timeHelpers'\nimport STRINGS from '../constants/strings'\n\n/**\n * Returns the input string with all spaces replaced with non-breaking spaces.\n */\nexport function makeNonBreaking(str) {\n  return str.split(\" \").join(String.fromCharCode(160));\n}\n\n// Gives time in H:MM AM/PM format, for humans to read.\nexport function makeTimeString(time) {\n  if (time.length === 5) {\n    const timeArr = time.split(\":\");\n    let h = Number(timeArr[0]);\n    let amPm = h >= 12 ? \"pm\" : \"am\"\n\n    // turn 0h (12am) into 12h\n    if (h === 0) timeArr[0] = 12;\n\n    // -12 hours if we're at 13:00 or onward\n    if (h > 12) timeArr[0] = (h -12);\n    return `${timeArr.join(\":\")} ${amPm}`\n  }\n  return new Date(time).toLocaleTimeString([], { hour: 'numeric', minute: '2-digit'})\n}\n\n// Give time in HH:MM without AM or PM.\nexport function makeHHMMTimeString(time) {\n  time = time || Date.now();\n  return new Date(time).toLocaleTimeString([],\n    {\n      hourCycle: \"h23\",\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n}\n\nexport function makeWeekDayString(lang, time) {\n  if (!lang || !time) {\n    return \"\";\n  }\n  return new Date(time).toLocaleDateString(lang, { weekday: 'long' });\n}\n\nexport function makeShortWeekdayString(lang, time) {\n  if (!lang || !time) {\n    return \"\";\n  }\n  return new Date(time).toLocaleDateString(lang, { weekday: 'short' });\n}\n\nexport function makeDateString(lang, time) {\n  if (!lang || !time) {\n    return \"\";\n  }\n  return new Date(time).toLocaleDateString(lang, { month: 'long', year: 'numeric', day:'numeric' });\n}\n\nexport function makeShortDateString(lang, time) {\n  if (!lang || !time) {\n    return \"\";\n  }\n  return new Date(time).toLocaleDateString(lang, { month: '2-digit', year: '2-digit', day:'numeric' });\n}\n\nexport function makeWeekString(lang, time) {\n  if (!lang || !time) {\n    return \"\";\n  }\n  const sun = getLastSunday(time);\n  const sat = getNextSaturday(time);\n\n  const sunStr = sun.toLocaleDateString(lang, { month: 'long', day:'numeric' });\n  const satStr = sat.toLocaleDateString(lang, { month: 'long', day: 'numeric' });\n\n  return(`${makeNonBreaking(sunStr)}  ${makeNonBreaking(satStr)}`)\n}\n\nexport function makeDurationFromHHMM(start, end) {\n  // Get numbers from HH:MM strings\n  const [startH, startM] = start.split(':').map(str => Number(str))\n  const [endH, endM] = end.split(':').map(str => Number(str))\n  let h = endH - startH;\n  let m = endM - startM;\n  // Account for negative minutes value\n  // e.g. 2h -40m becomes 1h 20m (same number of minutes but in normal time terms)\n  if (m < 0) {\n    h--;\n    m += 60;\n  }\n  const hours = h ? `${h}h ` : '';\n  const mins = `${m}m`\n  return hours + mins\n}\n\n// Takes in a 24h hour and returns AM or PM.\nexport function amOrPm(hour) {\n  return hour < 12 ? \"am\" : \"pm\"\n}\n\n/* Return an array containing the two AM/PM strings to add to\n  the start and end of a time interval.\n*/\nexport function intervalAMPM(hour1, hour2) {\n  if (amOrPm(hour1) === amOrPm(hour2)) {\n    return [\"\", amOrPm(hour1)];\n  }\n  return [\"am\", \"pm\"]\n}\n\nexport function makeShortIntervalString(start, end) {\n  const [startH24, startM] = getHM24(start);\n  const [endH24, endM] = getHM24(end);\n  const [AMPM1, AMPM2] = intervalAMPM(startH24, endH24);\n  const [startH12, endH12] = to12H(startH24, endH24);\n\n  const startStr = `${startH12}${startM ? \":\" + startM : \"\"}${AMPM1}`\n  const endStr = `${endH12}${endM ? \":\" + endM : \"\"}${AMPM2}`\n  return `${startStr}  ${endStr}`\n}\n\nexport function makeErrorString(errorType, errorData, LANG) {\n  return STRINGS[LANG].NEW_BLOCK_VALIDATION[errorType](errorData)\n}","import { getSvgSizeObj } from '../helpers/imageHelpers'\n\nimport '../styles/IconButton.css'\n\nexport default function IconButton(props) {\n  const {fill, dimensions, offset, scale = 1, onClick} = props;\n\n  const path = props.children;\n\n  const sizeAttributes = getSvgSizeObj(scale, dimensions, offset)\n\n  return (\n    <button className={\"icon-button\"} onClick={onClick}>\n      <svg fill={fill} {...sizeAttributes}>\n        {path}\n      </svg>\n    </button>\n  )\n}","import '../styles/Block.css'\nimport classNames from 'classnames'\nimport { makeShortIntervalString } from '../helpers/stringHelpers'\nimport { getHMO12 } from '../helpers/timeHelpers'\n\nimport IconButton from './IconButton'\n\nexport default function Block(props) {\n  const { id, title, spacer, length, start_time, end_time, toggle, edit, deleteBlock } = props;\n\n  const interval = makeShortIntervalString(start_time, end_time);\n\n  // Is this block a placeholder?\n\n  const lengthStr = spacer ? \"1rem\" : `${length}rem`\n\n  const blockClass = classNames(\"block\", \"list-group-item\", {\n    spacer,\n    project: !spacer,\n    tiny: length === 1,\n    short: length === 2,\n    \"hour-end\": spacer &&\n                getHMO12(end_time)[1] === 0, // if we're a spacer and end-time minutes are 0\n    \"hour-start\": spacer &&\n                getHMO12(start_time)[1] === 0,\n  });\n\n  const handleClick = spacer ? (e) => {e.preventDefault()} : toggle\n\n  const handleEdit = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    edit();\n  }\n\n  const handleDelete = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    deleteBlock(id)\n  }\n\n  return(\n    <li\n      id={id}\n      className={blockClass}\n      style={{height: lengthStr}}\n      onClick={handleClick}\n    >\n        {!spacer &&\n        <>\n          <div className={\"block-body\"}>\n            <p>{title}</p>\n            <span className=\"text-muted\">{interval}</span>\n          </div>\n          <div className={\"block-controls\"}>\n            <IconButton\n              fill=\"green\"\n              dimensions={[24, 24]}\n              onClick={handleEdit}>\n              <path d=\"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z\"/>\n            </IconButton>\n            <IconButton\n              fill=\"red\"\n              dimensions={[24, 24]}\n              onClick={handleDelete}>\n              <path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"/>\n            </IconButton>\n          </div>\n        </>\n        }\n    </li>\n  )\n}","import '../styles/BlockList.css'\nimport Block from './Block'\n\nimport { getFifteenMinuteUnits } from '../helpers/timeHelpers'\n\nexport default function BlockList(props) {\n  const { blocks, day, toggleSession, editBlock, dataActions } = props;\n\n  const blocksForDay = blocks && day &&\n    blocks\n    .map(block => (\n      <Block\n        {...block}\n        edit={() => editBlock(block)}\n        key={block.id}\n        spacer={block.project_id === -1}\n        toggle={() => toggleSession(block.project_id)}\n        length={getFifteenMinuteUnits(block.start_time, block.end_time)}\n        deleteBlock={dataActions.deleteBlock}\n      />\n    ))\n\n  return (\n    <div className = \"blockList\">\n      <ul className=\"list-group list-group-flush\">\n        { blocksForDay }\n      </ul>\n    </div>\n  )\n}","import '../styles/ScheduleBar.css'\nimport { amOrPm } from '../helpers/stringHelpers'\nimport { to12H } from '../helpers/timeHelpers'\n\nexport default function ScheduleBar(props) {\n\n  const startHour = 0;\n  const endHour = 24;\n\n  const ScheduleBarSection = props => {\n    const { hour } = props;\n    return (\n      <li className=\"ScheduleBarSection list-group-item text-muted\"\n        key={hour}>\n        { to12H(hour) }{ amOrPm(hour)}\n      </li>\n    )\n  }\n\n  /* Creates the divs that show time of day for a schedule.\n  start: int, first hour of the schedule\n  end: int, last hour of the schedule\n  */\n  const  makeScheduleElements = (start, end) => {\n    const numSections = end - start;\n    const sections = new Array(numSections)\n      .fill(undefined) // Gotta do this first, or .map won't actually do anything\n      .map((e, index) => <ScheduleBarSection key={index} hour={start + index} />);\n    return sections;\n  }\n\n  return (\n    <ul className=\"ScheduleBar list-group list-group-flush\">\n      {makeScheduleElements(startHour, endHour)}\n    </ul>\n  )\n}","/**\n * Returns true if the input is a truthy value or an array or object with length > 0.\n * @param {*} a The value you to check.\n * @returns {boolean} True if a is truthy or is an array/object with length > 0, false otherwise.\n */\nexport function truthyOrLengthy(a) {\n  // If falsy, return false.\n  if (!a) return false;\n  // If array, check its length.\n  if (Array.isArray(a)) return a.length > 0;\n  // If object, check the number of values.\n  if (typeof a === 'object') return Object.values(a).length > 0;\n\n  // If it's not falsy and it's not an array or object, return true.\n  return true;\n}\n\n/**\n * Recursively searches an object and its nested objects for any false boolean value.\n * @param {Object} data \n * @returns {boolean} True if and only if all values in the input object and nested objects are true.\n */\nexport function allTrue(data) {\n  for (const key in data) {\n    const item = data[key]\n    if (typeof item === 'object' && !allTrue(item)) {\n      return false;\n    }\n    if (item === false) {\n      return false;\n    }\n  }\n\n  return true;\n}","import { useState } from 'react'\n\nimport useControlledForms from './useControlledForms'\nimport useNewBlockValidation from './useNewBlockValidation'\n\nimport { getBoundaryMinutes, getHMO12 } from '../helpers/timeHelpers'\n\nconst defaultFormValues = {\n  project: \"\",\n  startHour: \"6\",\n  startMinute: \"00\",\n  startAMPM: \"0\",\n  endHour: \"6\",\n  endMinute: \"00\",\n  endAMPM: \"0\"\n}\n\nexport default function usePopupBlockForm(blocks, currentDay, dataActions) {\n\n  const [show, setShow] = useState(false);\n  const [blockId, setBlockId] = useState(null);\n  const [showErrors, setShowErrors] = useState(false);\n  const [values, handleChange, setValues] = useControlledForms(defaultFormValues);\n\n  // Remove the currently-editing block (if we have one) from the list of conflicts\n  const [errors, formIsValid] = useNewBlockValidation(values, blocks, currentDay, blockId)\n\n  const showModal = () => setShow(true);\n  const closeModal = () => setShow(false);\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (!formIsValid) {\n      setShowErrors(true);\n    } else {\n      setShowErrors(false);\n      // Turn the raw values into ISO strings to send\n      const [startMins, endMins] = getBoundaryMinutes({values});\n      const startDate = new Date(currentDay);\n      const endDate = new Date(currentDay);\n      startDate.setHours(0, startMins);\n      endDate.setHours(0, endMins);\n      const startTime = startDate.toISOString();\n      const endTime = endDate.toISOString();\n      const blockData = { startTime, endTime, project: values.project };\n      if (blockId) blockData.id = blockId;\n\n      // If we have a block ID saved, we're updating an existing block.\n      // If not, we're creating a new block.\n      const method = blockId ? dataActions.editBlock : dataActions.scheduleBlock;\n      method(blockData)\n           .then(closeModal)\n    }\n  }\n\n  const newBlock = () => {\n    setValues(defaultFormValues);\n    setBlockId(null);\n    showModal();\n  }\n\n  const editBlock = block => {\n    const { id, start_time, end_time, project_id } = block;\n    const [startHour, startMinute, startAMPM] = getHMO12(start_time, true)\n    const [endHour, endMinute, endAMPM] = getHMO12(end_time, true)\n    setValues({\n      startHour,\n      startMinute,\n      startAMPM,\n      endHour,\n      endMinute,\n      endAMPM,\n      project: project_id\n    })\n    setBlockId(id);\n    showModal();\n  }\n\n  const state = {\n    show,\n    values,\n    errors,\n    showErrors,\n    editing: !!blockId,\n    valid: formIsValid\n  }\n\n  const actions = {\n    new: newBlock,\n    edit: editBlock,\n    close: closeModal,\n    change: handleChange,\n    submit: handleSubmit\n  }\n\n  return [state, actions]\n}","import { useEffect, useState } from 'react';\n\nimport { blockIsOnDay, getBoundaryMinutes } from '../helpers/timeHelpers'\nimport { truthyOrLengthy } from '../helpers/boolHelpers'\n\nexport default function useNewBlockValidation(values, blocks, currentDay, currentBlockId) {\n\n  const [errors, setErrors] = useState({})\n  const [formIsValid, setFormIsValid] = useState(false)\n  // If the values, blocks, or current day change, re-validate everything.\n  useEffect(() => {\n    const [newBlockStart, newBlockEnd] = getBoundaryMinutes({ values })\n\n    /* Turns a block into an object as follows:\n    { block: the block in question,\n      start: bool, true if block conflicts with start time value\n      end: bool, true if block conflicts with end time value\n    }\n    */\n    const makeConflictObject = block => {\n      const [blockStartMins, blockEndMins] = getBoundaryMinutes({ block });\n      const badStart = (newBlockStart >= blockStartMins &&\n        newBlockStart < blockEndMins)\n      const badEnd = (newBlockEnd > blockStartMins &&\n        newBlockEnd <= blockEndMins);\n      return { block, start: badStart, end: badEnd };\n    }\n\n    const potentialConflicts = blocks\n      .filter(block => blockIsOnDay(block, currentDay))\n      .filter(block => block.id !== currentBlockId)\n\n    // Get a single conflict object (if it exists)\n    // See previous function for object structure\n    const conflicts = potentialConflicts\n      .map(makeConflictObject)\n      .filter(conflict => conflict.start || conflict.end);\n\n    // If there are any validation errors, store them in an object.\n    const newErrors = {\n      noProject: !values.project, // True if no project is selected\n      endBeforeStart: newBlockStart >= newBlockEnd, // True if end time is earlier than start time\n      conflicts\n    };\n\n    setErrors(newErrors)\n  }, [values, blocks, currentDay, currentBlockId])\n\n  useEffect(() => {\n    const valid = Object.values(errors).filter(truthyOrLengthy).length === 0;\n    setFormIsValid(valid);\n  }, [errors])\n\n\n  return [errors, formIsValid]\n}","const SETTINGS = {\n  LANGUAGES: {\n    EN_US: \"EN_US\"\n  }\n}\n\nexport default SETTINGS;","import { Fragment } from 'react'\n\nexport function makeErrorTag(errorString, index) {\n  return (\n  <li key={`e${index}`} className=\"form-text text-muted\">\n    <small>{ errorString }</small>\n  </li>\n  )\n}\n\n/**\n *  Returns a nested <ul> structure from an array of errors, which can also contain arrays of sub-errors.\n * @param {Array} e A list of errors to turn into a single <ul> element.\n * @param {String} h The header text for the error list or sub-list.\n * @param {Boolean} recursive Do not set.\n */\nexport const makeErrorList = function() {\n  let i = 0;\n  const makeErrorListRecurs = (errors, header, recursive) => {\n    return (\n      <Fragment key={i++}>\n        {!recursive && <small>{header}</small>}\n        { recursive && makeErrorTag(header)}\n        <ul className=\"error_list\">\n          { errors.map((e, i) => {\n            if(Array.isArray(e)) return makeErrorListRecurs(e.slice(1), e[0], true);\n            return makeErrorTag(e,i);\n          })}\n        </ul>\n      </Fragment>\n    )\n  }\n  const starter = (e, h) => makeErrorListRecurs(e, h)\n  return starter;\n}();\n\n/**\n * Creates drop-down option tags for the hours of the day\n */\nexport function makeHoursOptions() {\n  const optionsList = [];\n  for(let hour = 1; hour <= 12; hour++) {\n    // The 12 hour should display as 12, but has a value of 0 for time calculations.\n    // The PM value accounts for the 12-hour offset for noon.\n    // (i.e. 12:00 AM is 00:00 (0 hours for '12' + 0 hours for 'AM'\n    //  and 12:00 PM is 12:00 (0 hours for '12', 12 hours for 'PM'))\n    optionsList.push(\n      <option\n        value={hour === 12 ? 0 : hour}\n        key={hour === 12 ? 0 : hour}\n      >\n          {hour}\n      </option>)\n  }\n  return optionsList;\n}\n\n/**\n * Creates a selectable drop-down list from an object of projects\n * @param {Object} projects\n */\nexport function makeProjectOptions(projects) {\n  return Object.values(projects)\n    .reverse()\n    .map(project => (\n      <option value={project.id} key={project.id}>{project.title}</option>\n    ))\n};","import Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\n\nimport SETTINGS from '../constants/settings';\nimport STRINGS from '../constants/strings';\n\nimport { truthyOrLengthy } from '../helpers/boolHelpers';\nimport { makeErrorString } from '../helpers/stringHelpers';\nimport { makeErrorList, makeHoursOptions, makeProjectOptions } from '../helpers/tagHelpers'\n\nimport '../styles/modal.css'\nimport '../styles/BlockFormModal.css'\n\nconst LANG = SETTINGS.LANGUAGES.EN_US;\n\nexport default function BlockFormModal(props) {\n  const {\n    currentDay,\n    projects = {},\n    state,\n    actions\n  } = props;\n\n  const { errors = {}, show, showErrors, valid, values = {}, editing } = state || {};\n  const { submit, close, change } = actions || {};\n\n  const currentDateText = currentDay && currentDay.toDateString();\n\n  // Populate the list of errors.\n  const errorStrings = Object.keys(errors)\n    .filter(key => truthyOrLengthy(errors[key])) // Strip out empty errors\n    .map(key => makeErrorString(key, errors[key], LANG))\n  const errorList = makeErrorList(errorStrings, STRINGS[LANG].FORM_ERRORS)\n\n  const projectOptions = makeProjectOptions(projects)\n  const hoursOptions = makeHoursOptions();\n\n  const title = editing ? STRINGS[LANG].FORM_EDITING : STRINGS[LANG].FORM_NEW\n\n  return (\n    <Modal className=\"block_form_modal\" show={show} onHide={close} centered>\n      <Modal.Header closeButton>\n        <Modal.Title>{title}</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <form className=\"block_form\" onSubmit={submit}>\n          <fieldset>\n            <legend>Date:</legend><strong>{currentDateText}</strong>\n          </fieldset>\n          <fieldset>\n            <legend>Project:</legend>\n            <label className=\"visually-hidden\" htmlFor=\"project\">Project:</label>\n            <select className=\"form-select\" name=\"project\" id=\"project\" value={values.project} onChange={change}>\n              <option value=\"\">Select a project</option>\n              {projectOptions}\n            </select>\n          </fieldset>\n          <fieldset>\n            <legend>Starting at:</legend>\n            <ul>\n              <label className=\"visually-hidden\" htmlFor=\"startHour\">Start hour</label>\n              <select className=\"form-select\" name=\"startHour\" id=\"startHour\" value={values.startHour} onChange={change}>\n                {hoursOptions}\n              </select>\n              <label className=\"visually-hidden\" htmlFor=\"startMinute\">Start minute</label>\n              <select className=\"form-select\" name=\"startMinute\" id=\"startMinute\" value={values.startMinute} onChange={change}>\n                <option>00</option>\n                <option>15</option>\n                <option>30</option>\n                <option>45</option>\n              </select>\n              <label className=\"visually-hidden\" htmlFor=\"startAMPM\">Start AM/PM</label>\n              <select className=\"form-select\" name=\"startAMPM\" id=\"startAMPM\" value={values.startAMPM} onChange={change}>\n                <option value=\"0\">AM</option>\n                <option value=\"12\">PM</option>\n              </select>\n            </ul>\n          </fieldset>\n          <fieldset>\n            <legend>Ending at:</legend>\n            <ul>\n              <label className=\"visually-hidden\" htmlFor=\"endHour\">End hour</label>\n              <select className=\"form-select\" name=\"endHour\" id=\"endHour\" value={values.endHour} onChange={change}>\n                {hoursOptions}\n              </select>\n              <label className=\"visually-hidden\" htmlFor=\"endMinute\">End minute</label>\n              <select className=\"form-select\" name=\"endMinute\" id=\"endMinute\" value={values.endMinute} onChange={change}>\n                <option>00</option>\n                <option>15</option>\n                <option>30</option>\n                <option>45</option>\n              </select>\n              <label className=\"visually-hidden\" htmlFor=\"endAMPM\">End AM/PM</label>\n              <select className=\"form-select\" name=\"endAMPM\" id=\"endAMPM\" value={values.endAMPM} onChange={change}>\n                <option value=\"0\">AM</option>\n                <option value=\"12\">PM</option>\n              </select>\n            </ul>\n          </fieldset>\n          { showErrors &&\n              <section>\n                {valid ?\n                  <small>{STRINGS[LANG].FORM_VALID}</small>\n                  :\n                  errorList\n                }\n              </section>\n            }\n        </form>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={close}>\n          Close\n        </Button>\n        <Button\n          variant=\"primary\"\n          onClick={submit}>\n          Submit\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n","\nimport '../styles/DaySchedule.css';\n\nimport PageHeader from '../components/PageHeader'\nimport BlockList from './BlockList'\nimport ScheduleBar from './ScheduleBar'\nimport { useEffect, useState, useContext } from 'react';\n\n// Popup modal hook and component\nimport usePopupBlockForm from '../hooks/usePopupBlockForm';\nimport BlockFormModal from './BlockFormModal';\n\n// Helpers\nimport { \n  makeTimeString,\n  makeWeekDayString,\n  makeDateString } from '../helpers/stringHelpers'\nimport { blockIsOnDay } from '../helpers/timeHelpers';\n\n// Constants\nimport SETTINGS from '../constants/settings'\nimport STRINGS from '../constants/strings'\n\nimport { ReducerState, ReducerActions } from '../reducer/context'\n\nexport default function DaySchedule(props) {\n  const LANG = STRINGS[SETTINGS.LANGUAGES.EN_US].TAG;\n\n  const state = useContext(ReducerState)\n  const actions = useContext(ReducerActions)\n\n  const [blocksWithPlaceholders, setBlocksWithPlaceholders] = useState([]);\n  const [blockFormState, blockFormActions] = usePopupBlockForm(state.blocks, state.day, actions.data);\n\n  const dayString = makeWeekDayString(LANG, state.day)\n  const dateString = makeDateString(LANG, state.day)\n  const earliestHour = 0;\n  const latestHour = 23;\n  const latestMinutes = 59;\n\n  // Generate placeholder blocks for this day, for padding out the schedule\n  useEffect(() => {\n    const newBlocks = [];\n    let currentTime = new Date(state.day);\n    currentTime.setHours(earliestHour);\n    const finalTime = new Date(state.day);\n    finalTime.setHours(latestHour, latestMinutes);\n\n    // Create all placeholder blocks that occur before the current Block\n    state.blocks\n      .filter(block => blockIsOnDay(block, state.day))\n      .forEach(block => {\n      const blockDate = new Date(block.start_time);\n\n      while(currentTime < blockDate) {\n        // Make the placeholder block data\n        const placeholderBlock = {\n          id: `p${currentTime.getHours()}${currentTime.getMinutes() || \"00\"}`,\n          title: makeTimeString(currentTime),\n          project_id: -1,\n          start_time: currentTime.toISOString()\n        }\n        // Advance the time by 15 minutes\n        currentTime.setMinutes(currentTime.getMinutes() + 15);\n        // Add the ending time to the placeholder block\n        placeholderBlock.end_time = currentTime.toISOString();\n        // Add placeholder to newBlocks\n        newBlocks.push(placeholderBlock);\n      }\n\n      // Put the current Block in newBlocks in its spot\n      newBlocks.push(block)\n      // Update the currentTime to be the end of the current block\n      currentTime = new Date(block.end_time)\n    })\n\n    // Finally, fill in any placeholders that go after the final block of the day\n    while(currentTime < finalTime) {\n      // Make the placeholder block data\n      const placeholderBlock = {\n        id: `p${currentTime.getHours()}${currentTime.getMinutes() || \"00\"}`,\n        title: makeTimeString(currentTime),\n        project_id: -1,\n        start_time: currentTime.toISOString()\n      }\n      // Advance the time by 15 minutes\n      currentTime.setMinutes(currentTime.getMinutes() + 15);\n      // Add the ending time to the placeholder block\n      placeholderBlock.end_time = currentTime.toISOString();\n      // Add placeholder to newBlocks\n      newBlocks.push(placeholderBlock);\n    }\n\n    setBlocksWithPlaceholders(newBlocks)\n  }, [state.blocks, state.day])\n\n  const headerActions = {\n    \"New Block\": blockFormActions.new\n  }\n\n  return(\n    <div className=\"daySchedule\">\n      {/* BlockFormModal is a popup modal, so it's always here,\n      but only displayed if \"show\" is true */}\n      <BlockFormModal\n        state={blockFormState}\n        actions={blockFormActions}\n        currentDay={state.day}\n        projects={state.projects}\n      />\n      <PageHeader\n        nav\n        back={() => actions.date.changeDay(-1)}\n        forward={() => actions.date.changeDay(1)}\n        title={dayString}\n        subtitle={dateString}\n        actions={headerActions}\n      />\n      <div className=\"dayScheduleInternal mt-1\">\n        <ScheduleBar />\n        <BlockList\n          blocks={blocksWithPlaceholders}\n          day={state.day}\n          toggleSession={actions.data.toggleSession}\n          dataActions={actions.data}\n          editBlock={blockFormActions.edit}\n        />\n      </div>\n    </div>\n  )\n}","export default function WeekSchedule(props) {\n\n  return (\n    <div>\n      <p>WeekSchedule component</p>\n    </div>\n  )\n}","export default function ProjectListItem(props) {\n  const { id, title, selected, onEditClick, onCancelClick, onSubmit, formValue, handleChange } = props;\n\n  return (\n    <li key={id} className=\"list-group-item d-flex justify-content-between bg-light\">\n      <span><strong>{title}</strong></span>\n      { selected &&\n        <form className=\"row row-cols-sm-auto g-3 align-items-center\" onSubmit={onSubmit}>\n          <div className=\"col-12\">\n            <label className=\"visually-hidden\" htmlFor=\"newName\">New name: </label>\n            <input\n              type=\"text\"\n              className=\"form-control form-control-sm\"\n              id=\"newName\"\n              value={formValue}\n              onChange={handleChange}\n            ></input>\n          </div>\n          <div className=\"col-12\">\n          <button className=\"btn btn-sm btn-secondary\">Submit</button>\n          </div>\n          <div className=\"col-12\">\n              <button className=\"btn btn-sm btn-danger\" onClick={onCancelClick}>Cancel</button>\n            </div>\n        </form>\n      }\n      { !selected &&\n        <button\n          className=\"btn btn-sm btn-info\" onClick={onEditClick}>Rename</button>\n      }\n    </li>\n  )\n}","import { useState, useContext } from 'react'\n\nimport PageHeader from '../components/PageHeader'\nimport ProjectListItem from './ProjectListItem'\n\nimport '../styles/ProjectList.css'\n\n// Context\nimport { ReducerState, ReducerActions } from '../reducer/context'\n\nexport default function ProjectList() {\n  const state = useContext(ReducerState)\n  const actions = useContext(ReducerActions)\n\n  const { projects } = state;\n\n  const [selectedProject, setSelectedProject] = useState(null);\n  const [formValue, setFormValue] = useState(null);\n  const [showNewProjectForm, setShowNewProjectForm] = useState(false);\n  const [newProjectFormValue, setNewProjectFormValue] = useState(\"\");\n\n  const newProject = () => {\n    setShowNewProjectForm(true);\n  }\n\n  const handleSubmit = (event, id) => {\n    event.preventDefault();\n    const title = formValue !== null ? formValue : projects[id].title;\n    actions.data.updateProject({ id, title })\n      .then(() => {\n        setSelectedProject(null);\n        setFormValue(null);\n      })\n  }\n\n  const handleCancel = event => {\n    event.preventDefault();\n    setSelectedProject(null);\n  }\n\n  const handleChange = event => {\n    setFormValue(event.target.value);\n  }\n\n  const handleNewProjectFormChange = event => {\n    setNewProjectFormValue(event.target.value);\n  }\n\n  const handleNewProjectSubmit = event => {\n    event.preventDefault();\n    actions.data.addProject({ title: newProjectFormValue })\n      .then(() => {\n        setNewProjectFormValue(\"\");\n        setShowNewProjectForm(false)\n      })\n  }\n\n  const handleNewProjectCancel = event => {\n    event.preventDefault();\n    setNewProjectFormValue(\"\");\n    setShowNewProjectForm(false)\n  }\n\n  const projectItems = projects && Object.values(projects).map(project => (\n    <ProjectListItem\n      {...project}\n      key={project.id}\n      selected={ project.id === selectedProject}\n      onEditClick={() => setSelectedProject(project.id)}\n      onCancelClick={handleCancel}\n      onSubmit={(event) => handleSubmit(event, project.id)}\n      handleChange={handleChange}\n      formValue={formValue === null ? project.title : formValue}\n    />\n  ))\n\n  const headerActions = {\n    \"New Project\": newProject\n  }\n\n  return (\n    <div className=\"projects\">\n      <PageHeader\n        title=\"Projects\"\n        actions={headerActions}\n      />\n\n      <ul className=\"list-group\">\n        {projectItems}\n      </ul>\n      <div className=\"newProject\">\n        { showNewProjectForm &&\n          <form className=\"row row-cols-lg-auto g-3\" onSubmit={handleNewProjectSubmit}>\n            <div className=\"col-12\">\n              <label className=\"visually-hidden\" htmlFor=\"newProject\">New project name:</label>\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                id=\"newProject\"\n                value={newProjectFormValue}\n                onChange={handleNewProjectFormChange}\n              ></input>\n            </div>\n            <div className=\"col-12\">\n              <button className=\"btn btn-success\" type=\"submit\">Submit</button>\n            </div>\n            <div className=\"col-12\">\n              <button className=\"btn btn-danger\" type=\"button\" onClick={handleNewProjectCancel}>Cancel</button>\n            </div>\n          </form>\n        }\n      </div>\n    </div>\n\n  )\n}","export function delayAction(callback = () => {}, delay = 500) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(callback())\n    }, delay)\n  })\n}","const STATUSES = {\n  NEW: \"new\",\n  ACTIVE: \"active\",\n  STABLE: \"stable\",\n  EDITING: \"editing\",\n  LOADING: \"loading\",\n  DELETING: \"deleting\",\n  CONFIRM: \"confirm\",\n  SUCCESS: \"success\",\n  FAILURE: \"failure\",\n  PROJECT: \"project\",\n}\n\nexport default STATUSES;","import Button from 'react-bootstrap/Button'\nimport '../styles/TabButton.css'\n\nexport default function TabButton(props) {\n  return <Button className=\"tab\" {...props}>{props.children}</Button>\n}","import '../styles/SuccessIcon.css'\n\nexport default function SuccessIcon(props) {\n  return (\n    <div className=\"success-icon\">\n      <span className=\"visually-hidden\">Success!</span>\n    </div>\n  )\n}","import { forwardRef, useRef, useImperativeHandle } from 'react'\nimport ListGroupItem from 'react-bootstrap/ListGroupItem'\nimport classNames from 'classnames'\n\nimport { makeDurationFromHHMM, makeWeekDayString, makeDateString, makeTimeString } from '../../helpers/stringHelpers'\n\nimport STATUSES from '../../constants/statuses'\n\nimport TabButton from '../TabButton'\nimport Loading from '../Loading'\nimport SuccessIcon from '../SuccessIcon'\n\nimport '../../styles/SessionItem.css'\n\nconst LANG = \"EN-US\"\n\nfunction PureSessionItem (props, ref) {\n  const {\n    status,\n    title,\n    project,\n    active,\n    start,\n    end,\n    refDay,\n    onChange,\n    submit,\n    deleteItem,\n    setStatus,\n    handleToggle\n  } = props;\n\n  const scrollRef = useRef(null);\n  const inputRef = useRef(null);\n\n  useImperativeHandle(ref, () => ({\n    focusTime: () => {\n      inputRef.current.focus();\n    },\n    scroll: () => {\n      scrollRef.current.scrollIntoView(false);\n    }\n  }));\n\n  const duration = `${makeDurationFromHHMM(start, end)}${active ? \", active\" : \"\"}`;\n  const weekday = makeWeekDayString(LANG, refDay);\n  const date = makeDateString(LANG, refDay);\n\n  // Statuses and their components\n  const statusComponents = {\n    active: <TabButton variant=\"outline-dark\" size=\"sm\" onClick={handleToggle}>Stop</TabButton>,\n    stable: (\n      <>\n      <TabButton variant=\"outline-secondary\" size=\"sm\" onClick={() => setStatus(STATUSES.EDITING)}>Edit</TabButton>\n      <TabButton variant=\"outline-danger\" size=\"sm\" onClick={deleteItem}>Delete</TabButton>\n      </>\n    ),\n    editing: (\n      <>\n        <TabButton onClick={submit} variant=\"success\" size=\"sm\" type=\"submit\">Save</TabButton>\n        <TabButton onClick={() => setStatus(STATUSES.STABLE)} variant=\"danger\" size=\"sm\" >Cancel</TabButton>\n      </>\n    ),\n    loading: <Loading iconOnly>Saving...</Loading>,\n    deleting: \"\",\n    success: <SuccessIcon />,\n    failure: \"Submit failed.\"\n  }\n\n  const outerClassName = classNames(\"session-item\", {\n    [status]: true,\n    active,\n    project\n  })\n\n  return (\n    <ListGroupItem as=\"a\" {...(project && {onClick: handleToggle})} className={outerClassName}>\n      <div ref={scrollRef} className=\"session-item-content\">\n        {project && <strong className=\"session-item-title\">{title}</strong>}\n        { project ?\n         <span className=\"text-muted\">Click to start tracking</span>\n        :\n        <>\n        <div className=\"session-item-date\">\n            <strong>{weekday}</strong>\n            <span className=\"text-muted\">{date}</span>\n        </div>\n        <div className=\"session-item-time\">\n          {/* If we're in the editing status, show the form. Otherwise, just display the times. */}\n          {status === STATUSES.EDITING ?\n            <form>\n              <fieldset>\n                <label htmlFor=\"start\">Start</label>\n                <input ref={inputRef} id=\"start\" type=\"time\" onChange={onChange} value={start}/>\n              </fieldset>\n              <fieldset>\n                <label htmlFor=\"end\">End</label>\n                <input id=\"end\" type=\"time\" onChange={onChange} value={end}/>\n                <span className=\"text-muted\">({duration})</span>\n              </fieldset>\n            </form>\n            :\n            <>\n              <span>{makeTimeString(start)} to {makeTimeString(end)}</span>\n              <span className=\"text-muted\">({duration})</span>\n            </>\n          }\n        </div>\n        </>\n        }\n      </div>\n      <div className={`session-item-status ${status}`}>\n        {statusComponents[status]}\n      </div>\n  </ListGroupItem>)\n  }\n\n// eslint-disable-next-line no-func-assign\nexport default PureSessionItem = forwardRef(PureSessionItem);","import { useEffect, useState, useRef, useContext } from 'react'\n\n// Helpers\nimport { delayAction } from '../../helpers/timingHelpers'\nimport { makeHHMMTimeString, } from '../../helpers/stringHelpers'\n\n// Hooks\nimport useControlledForms from '../../hooks/useControlledForms'\n\n// Components\nimport PureSessionItem from './PureSessionItem'\n\n// Constants\nimport STATUSES from '../../constants/statuses'\n\n// Context\nimport { ReducerState, ReducerActions } from '../../reducer/context'\n\nexport default function SessionItem(props) {\n  const {\n    id,\n    start_time,\n    end_time,\n    checkListDelete,\n    title = \"\",\n  } = props;\n\n  const state = useContext(ReducerState)\n  const actions = useContext(ReducerActions)\n\n  const [status, setStatus] = useState(STATUSES.NEW);\n  const [times, handleTimeChange, setTimes] = useControlledForms({\n    start: makeHHMMTimeString(start_time),\n    end: makeHHMMTimeString(end_time)\n  })\n  const sessionItemRef = useRef(null)\n\n  const active = start_time && !end_time;\n  const project = !start_time && !end_time;\n\n  // If this is an \"active\" session, set the status to \"active\" after the load animation.\n  // Otherwise, set it to stable.\n  useEffect(() => {\n    const statusTimer = active ?\n      setTimeout(() => setStatus(STATUSES.ACTIVE), 500)\n      :\n      setTimeout(() => setStatus(STATUSES.STABLE), 500)\n    return function cleanup() {\n      clearTimeout(statusTimer)\n    }\n  }, [active])\n\n  // When the incoming times change, update the state.\n  // This usually happens if refreshData fires outside the context of these\n  // components.\n  useEffect(() => {\n    setTimes({\n      start: makeHHMMTimeString(start_time),\n      end: makeHHMMTimeString(end_time)\n    })\n    end_time && status !== STATUSES.SUCCESS && setStatus(STATUSES.STABLE)\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [start_time, end_time])\n\n  useEffect(() => {\n    document.activeElement.blur();\n    status === STATUSES.EDITING && sessionItemRef.current.focusTime();\n  }, [status])\n\n  const handleSubmit = (event, id) => {\n    event.preventDefault();\n    // Validate the times\n    const [startH, startM] = times.start.split(\":\");\n    const [endH, endM] = times.end.split(\":\");\n    const start = new Date(start_time);\n    const end = new Date(start_time);\n    start.setHours(startH, startM);\n    end.setHours(endH, endM);\n    if (start < end) {\n      // Update the submitting state\n      setStatus(() => STATUSES.LOADING)\n      actions.data.editSession(id, start.toISOString(), end.toISOString()) // Give the submitting animation time to run\n        .then(() => sessionItemRef.current.scroll())\n        .then(() => setStatus(STATUSES.SUCCESS))\n        .then(() => delayAction(() => setStatus(STATUSES.STABLE), 2500))\n        .catch(() => setStatus(STATUSES.ERROR))\n    }\n  }\n\n  const handleDelete = (event, id) => {\n    event.preventDefault();\n    setStatus(STATUSES.DELETING)\n    checkListDelete()\n    delayAction(() => actions.data.deleteSession(id)) // Gives the delete animation time to run\n      .catch(() => setStatus(STATUSES.ERROR))\n  }\n\n  const handleToggle = event => {\n    event.preventDefault();\n    if (project) {\n      actions.data.toggleSession(id)\n      setStatus(STATUSES.DELETING)\n    }\n    if (active) {\n      actions.data.toggleSession(state.trackedSession.project_id)\n      setStatus(STATUSES.STABLE)\n    }\n  }\n\n  return (\n    <PureSessionItem\n      status={status}\n      title={title}\n      active={active}\n      project={project}\n      refDay={start_time}\n      start={times.start}\n      end={times.end}\n      onChange={handleTimeChange}\n      submit={(e) => handleSubmit(e, id)}\n      deleteItem={(e) => handleDelete(e, id)}\n      handleToggle={handleToggle}\n      setStatus={setStatus}\n      ref={sessionItemRef}\n    >\n    </PureSessionItem>\n  )\n}","import { useState } from 'react'\n\nimport '../../styles/SessionList.css'\nimport classNames from 'classnames'\n\nimport ListGroup from 'react-bootstrap/ListGroup'\n\nimport SessionItem from './SessionItem'\nimport STATUSES from '../../constants/statuses'\n\nexport default function SessionList(props) {\n  const { title, sessions } = props;\n\n  const [status, setStatus] = useState();\n\n  // Allows SessionItems to delete this list if they're the last one to delete\n  const checkDelete = () => {\n    if (sessions.length === 1) setStatus(STATUSES.DELETING);\n  }\n\n  const sessionList = sessions.map(session => {\n    return (\n      <SessionItem\n        {...session}\n        key = {session.id}\n        checkListDelete = {checkDelete}\n      />\n    )\n  })\n\n  const className = classNames(\"session-item\", \"header\", {\n    [status]: true\n  })\n\n  return (\n    <ListGroup className=\"session-list\">\n      <ListGroup.Item className={className}>\n      { title }\n      </ListGroup.Item>\n      { sessionList }\n    </ListGroup>\n  )\n}","export function projectsWithSessions(projects, sessions) {\n  return Object.values(projects)\n    .filter(project => projectHasSessions(project, sessions))\n}\n\nexport function projectsWithoutSessions(projects, sessions) {\n  return Object.values(projects)\n    .filter(project => !projectHasSessions(project, sessions))\n}\n\nexport function projectHasSessions(project, sessions) {\n  return sessions\n  .filter(session => session.project_id === project.id)\n  .length > 0;\n}","import { useContext } from 'react'\n\nimport SessionList from './SessionList'\nimport PageHeader from '../PageHeader'\n\nimport { makeWeekString } from '../../helpers/stringHelpers'\nimport { projectsWithSessions, projectsWithoutSessions } from '../../helpers/projectHelpers'\n\nimport '../../styles/SessionsPage.css'\n\n// Context\nimport { ReducerState, ReducerActions } from '../../reducer/context'\n\nexport default function Sessions () {\n  const state = useContext(ReducerState)\n  const actions = useContext(ReducerActions)\n\n  const { projects, sessions, day } = state;\n\n  const sessionListsByProject = projectsWithSessions(projects, sessions)\n    .map(project => (\n      <SessionList\n      key={project.id}\n      title={project.title}\n      sessions={sessions.filter(session => session.project_id === project.id)}\n      />\n    ))\n\n  const untrackedProjects = projectsWithoutSessions(projects, sessions)\n\n  return (\n    <section className={`sessions`}>\n      <PageHeader\n        nav\n        back={actions.date.lastWeek}\n        forward={actions.date.nextWeek}\n        title=\"Sessions\"\n        subtitle={makeWeekString('EN-US', day)}\n      />\n      <article>\n        { sessionListsByProject }\n        { untrackedProjects.length > 0 &&\n          <SessionList\n            title={\"Untracked Projects\"}\n            sessions={untrackedProjects}\n          />\n        }\n      </article>\n    </section>\n  )\n}","import '../styles/ReportItem.css'\nimport '../styles/ProgressBar.css'\n\nexport default function ProgressBar(props) {\n  const { color, style, percent, overfilled } = props;\n  const background = color.clone();\n  background.alpha = .25; // Lighten the background color\n\n  const outerBarStyle = {\n    backgroundColor: `${background.toString()}`\n  }\n\n  const innerBarStyle = {\n    backgroundColor: color.toString(),\n    width: percent\n  }\n\n  return (\n    <div className={`progressbar-outer ${style} ${overfilled}`}\n         style={outerBarStyle}>\n      <div className={`progressbar-inner ${style} ${overfilled}`}\n        style={innerBarStyle}>\n        </div>\n    </div>\n  )\n}","import Color from 'colorjs.io';\n\nconst COLORS = {\n  RED: new Color('#ff0000'),\n  GREEN: new Color('#00ff00'),\n  BLUE: new Color('#0000ff'),\n  PURPLE: new Color('#ff00ff'),\n  EGYPT_BLUE: new Color('#1034A6')\n}\n\nexport default COLORS;","export function percent(num, denom) {\n  const percent = (num/denom) * 100;\n  return Math.round(percent*10) / 10;\n}\n\n// Fudge the numbers a bit for CSS width-niceness.\nexport function fudgePercentage(percent) {\n  if (percent < 1) return 1;\n  if (percent === 100) return 101;\n  return percent;\n}","import '../styles/ReportItem.css';\n\nimport ProgressBar from './ProgressBar'\n\nimport COLORS from '../constants/colors'\n\n// Helpers\nimport { percent, fudgePercentage } from '../helpers/numberHelpers'\n\nexport default function ReportItem(props) {\n  const {color = COLORS.EGYPT_BLUE, title, progress, goal} = props\n\n  const style = color.lightness > 30 ? \"light\" : \"dark\";\n\n  const overfilled = progress > goal;\n  const overfilledStr = overfilled ? 'overfilled' : '';\n\n  const rawWidth = overfilled ? percent(goal, progress) : percent(progress, goal);\n  const progressPercent = `${fudgePercentage(rawWidth)}%`;\n\n  const headerWidth = overfilled ? progressPercent : \"100%\";\n  const footerWidth = overfilled ? \"100%\" : progressPercent;\n\n  const projectStyle = {\n    backgroundColor: color.toString(),\n  }\n\n  return (\n    <div className={`report-item ${style} ${overfilledStr}`}>\n      <div className=\"report-item-header\" style={{width: headerWidth}}>\n        <p className={`report-item-project ${style}`} style={projectStyle}>\n          <strong>{title}</strong>\n        </p>\n        <p className=\"report-item-goal\">\n          <small><strong>Goal:</strong> {goal} hours</small>\n        </p>\n      </div>\n      <ProgressBar color={color} overfilled={overfilledStr} style={style} percent={progressPercent} />\n      <p className=\"report-item-footer\" style={{width: footerWidth}}>\n        <small><strong>Tracked:</strong> {Math.round(progress*100)/100} hours</small>\n      </p>\n    </div>\n  )\n}\n","import { useContext } from \"react\"\n\nimport '../styles/Report.css';\n\nimport Loading from './Loading'\nimport PageHeader from './PageHeader'\nimport ReportItem from './ReportItem'\n\nimport { makeWeekString } from '../helpers/stringHelpers'\n\n// Context\nimport { ReducerState, ReducerActions } from '../reducer/context'\n\nexport default function Report() {\n  const state = useContext(ReducerState)\n  const actions = useContext(ReducerActions)\n\n  const { loaded, day, reports, projects } = state\n  const loading = !loaded.data.reports\n  const empty = !reports.length\n\n  const report = reports.map(project => {\n    // Totals are returned in seconds.\n    const { project_id, sessions_total, blocks_total } = project\n    const projectName = projects[project_id] && projects[project_id].title;\n    const secondsToHours = 1/(60*60);\n    const sessionHours = (sessions_total * secondsToHours) || 0\n    const blockHours = (blocks_total * secondsToHours) || 0\n    return (\n      <ReportItem\n        key={project_id}\n        title={projectName}\n        progress={sessionHours}\n        goal={blockHours}\n      />\n    )\n  })\n\n  return (\n    <div className=\"report\">\n      <PageHeader\n        nav\n        back={actions.date.lastWeek}\n        forward={actions.date.nextWeek}\n        title=\"Report\"\n        subtitle={`${makeWeekString('EN-US', day)}, ${day.getFullYear()}`}\n      />\n      {loading && <Loading>Loading report...</Loading>}\n      {!loading && !empty > 0 && (\n        <ul>\n          {report}\n        </ul>\n        )}\n      {!loading && empty && (\n      <div className=\"report-empty\">\n        <p>You don't have anything scheduled this week!</p>\n      </div>)}\n    </div>\n  )\n}","import '../styles/Footer.css'\nimport github_logo_light from '../assets/github_logo_light.png'\n\nconst repoLink = \"https://github.com/itspladd/capensis\"\n\nexport default function Footer() {\n  return(\n    <div id=\"footer\">\n      <p>Created by <a href=\"https://pladd.dev\">Paul Ladd</a></p>\n      <div>\n        <p>Hosted on <a href={repoLink}>Github</a></p>\n        <a href={repoLink}>\n          <img src={github_logo_light} alt=\"GitHub logo\"/>\n        </a>\n      </div>\n    </div>\n  )\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwOUY4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwOUU4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJBOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJCOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jUqS1wAAApVJREFUeNq0l89rE1EQx3e3gVJoSPzZeNEWPKgHoa0HBak0iHiy/4C3WvDmoZ56qJ7txVsPQu8qlqqHIhRKJZceesmhioQEfxTEtsoSpdJg1u/ABJ7Pmc1m8zLwgWTmzcw3L+/te+tHUeQltONgCkyCi2AEDHLsJ6iBMlgHL8FeoqokoA2j4CloRMmtwTmj7erHBXPgCWhG6a3JNXKdCiDl1cidVbXZkJoXQRi5t5BrxwoY71FzU8S4JuAIqFkJ2+BFSlEh525b/hr3+k/AklDkNsf6wTT4yv46KIMNpsy+iMdMc47HNWxbsgVcUn7FmLAzzoFAWDsBx+wVP6bUpp5ewI+DOeUx0Wd9D8F70BTGNjkWtqnhmT1JQAHcUgZd8Lo3rQb1LAT8eJVUfgGvHQigGp+V2Z0iAUUl8QH47kAA1XioxIo+bRN8OG8F/oBjwv+Z1nJgX5jpdzQDw0LCjsPmrcW7I/iHScCAEDj03FtD8A0EyuChHgg4KTlJQF3wZ7WELppnBX+dBFSVpJsOBWi1qiRgSwnOgoyD5hmuJdkWCVhTgnTvW3AgYIFrSbZGh0UW/Io5Vp+DQoK7o80pztWMemZbgxeNwCNwDbw1fIfgGZjhU6xPaJgBV8BdsMw5cbZoHsenwYFxkZzl83xTSKTiviCAfCsJLysH3POfC8m8NegyGAGfLP/VmGmfSChgXroR0RSWjEFv2J/nG84cuKFMf4sTCZqXuJd4KaXFVjEG3+tw4eXbNK/YC9oXXs3O8NY8y99L4BXY5cvLY/Bb2VZ58EOJVcB18DHJq9lRsKr8inyKGVjlmh29mtHs3AHfuhCwy1vXT/Nu2GKQt+UHsGdctyX6eQyNvc+5sfX9Dl7Pe2J/BRgAl2CpwmrsHR0AAAAASUVORK5CYII=\"","import '../styles/App.css';\nimport { useContext } from 'react'\n\n// Router components\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\n// Components\nimport Loading from './Loading'\nimport Header from './Header';\nimport StatusBar from './StatusBar';\nimport Authentication from './Authentication'\n\nimport DaySchedule from './DaySchedule';\nimport WeekSchedule from './WeekSchedule';\nimport ProjectList from './ProjectList';\nimport Sessions from './SessionComponents/Sessions';\nimport Report from './Report';\nimport Footer from './Footer';\n\n// Context\nimport { ReducerState } from '../reducer/context'\n\nexport default function App() {\n  const state = useContext(ReducerState)\n  const userLoaded = state.loaded.user;\n  const loggedIn = state.user;\n\n  return (\n    <div className=\"App\">\n      {/* If we haven't finished trying to log in: */}\n      { !userLoaded && <Loading>Loading...</Loading>}\n\n      {/* If there's no valid login: */}\n      { userLoaded && !loggedIn &&\n        <Authentication />\n      }\n\n      {/* If we've successfully logged in: */}\n      { loggedIn &&\n        <>\n          <Router basename=\"/capensis\">\n            <Header />\n            <StatusBar />\n\n            <div className=\"App-body\">\n              <Switch>\n                <Route exact path={[\"/\", \"/schedule\"]}>\n                  <DaySchedule />\n                </Route>\n                <Route exact path=\"/week\" >\n                  <WeekSchedule />\n                </Route>\n                <Route exact path=\"/projects\" >\n                  <ProjectList />\n                </Route>\n                <Route exact path=\"/sessions\">\n                  <Sessions />\n                </Route>\n                <Route exact path=\"/reports\" >\n                  <Report />\n                </Route>\n              </Switch>\n            </div>\n          </Router>\n        </>\n      }\n      <Footer />\n    </div>\n  );\n}\n","import axios from 'axios'\n\n// All API functions invoke this handler.\n// Error handling and response extraction should happen here.\nfunction apiResponseHandler(config) {\n  return axios(config)\n    .then(res => res.data)\n}\n\nfunction get(url, data) {\n  return apiResponseHandler({ method: 'get', url, data })\n}\n\nfunction post(url, data) {\n  return apiResponseHandler({ method: 'post', url, data })\n}\n\nfunction patch(url, data) {\n  return apiResponseHandler({ method: 'patch', url, data })\n}\n\nfunction del(url, data) {\n  return apiResponseHandler({ method: 'delete', url, data })\n}\n\nconst api = {\n  get,\n  post,\n  patch,\n  del\n}\n\nexport default api;","import api from './api'\n\nexport function check() {\n  return api.post(`/api/auth`)\n}\n\nexport function login(username, rawPassword) {\n  return api.post(`/api/auth/login`, { username, rawPassword })\n}\n\nexport function logout() {\n  return api.post(`/api/auth/logout`);\n}","import api from './api'\n\nexport function add(username, rawPassword) {\n  return api.post(`/api/users`, { username, rawPassword })\n}","import api from './api'\n\nexport function get() {\n  return api.get('/api/blocks/week')\n}\n\nexport function getWeek(date) {\n  return api.get(`/api/blocks/week?date=${date.toISOString()}`)\n}\n\nexport function add(block) {\n  return api.post(`/api/blocks`, block)\n}\n\nexport function edit(block) {\n  return api.patch(`/api/blocks/${block.id}`, block)\n}\n\nexport function del(id) {\n  return api.del(`/api/blocks/${id}`)\n}","import api from './api'\n\nexport function get() {\n  return api.get('/api/sessions/week')\n}\n\nexport function getWeek(date) {\n  return api.get(`/api/sessions/week?date=${date.toISOString()}`)\n}\n\nexport function getActive() {\n  return api.get('/api/sessions/current')\n}\n\nexport function add(project_id) {\n  return api.post(`/api/sessions`, { project_id })\n}\n\nexport function stop(id) {\n  return api.patch(`/api/sessions`, { id })\n}\n\nexport function edit(session) {\n  return api.patch(`/api/sessions/${session.id}`, session)\n}\n\nexport function del(id) {\n  return api.del(`/api/sessions/${id}`)\n}","import api from './api'\n\nexport function get() {\n  return api.get('/api/projects')\n}\n\nexport function add(project) {\n  return api.post(`/api/projects`, { project })\n}\n\nexport function edit(project) {\n  return api.patch(`/api/projects/${project.id}`, { project })\n}","import api from './api'\n\nexport function get() {\n  return api.get(`/api/reports/week`)\n}\n\nexport function getWeek(date) {\n  return api.get(`/api/reports/week?date=${date.toISOString()}`)\n}","import * as auth from './api/auth'\nimport * as users from './api/users'\nimport * as blocks from './api/blocks'\nimport * as sessions from './api/sessions'\nimport * as projects from './api/projects'\nimport * as reports from './api/reports'\n\nconst api = {\n  auth,\n  users,\n  blocks,\n  sessions,\n  projects,\n  reports\n}\n\nexport default api;","const SET_DATA = \"SET_APP_DATA\"\n\nconst DAY = {\n  SET: \"SET_DAY\"\n}\n\nconst LOAD = {\n  SET: \"SET_LOADED\",\n  SET_WEEKLY_STATUS: \"SET_WEEKLY_LOADING\",\n  SET_DATA_STATUS: \"SET_DATA_LOADING\"\n}\n\nconst USER = {\n  SET: \"SET_USER\",\n  CLEAR: \"CLEAR_USER\"\n}\n\nconst PROJECTS = {\n  SET: \"SET_PROJECT\",\n  DELETE: \"DELETE_PROJECT\"\n}\n\nconst BLOCKS = {\n  SET_ALL: \"SET_BLOCKS\",\n  SET: \"SET_BLOCK\",\n  DELETE: \"DELETE_BLOCK\",\n}\n\nconst SESSIONS = {\n  SET_ALL: \"SET_SESSIONS\",\n  SET: \"SET_SESSION\",\n  DELETE: \"DELETE_SESSION\"\n}\n\nconst REPORTS = {\n  SET: \"SET_REPORT\"\n}\n\nconst TRACKING = {\n  SET: \"SET_TRACKING\"\n}\n\nexport const ACTIONS = {\n  SET_DATA,\n  DAY,\n  LOAD,\n  USER,\n  PROJECTS,\n  BLOCKS,\n  SESSIONS,\n  REPORTS,\n  TRACKING\n}","import { makeNoonDate, timeStringSorter } from '../helpers/timeHelpers'\n\nimport { ACTIONS as A } from '../constants/actions'\n\n// Initial state to be used by the reducer.\nexport const initialState = {\n  loaded: {\n    user: false,\n    data: {\n      projects: false,\n      sessions: false,\n      blocks: false,\n      reports: false,\n      tracking: false\n    }\n  },\n  day: makeNoonDate(new Date()),\n  trackedSession: null,\n  user: null,\n  projects: {},\n  blocks: [],\n  sessions: [],\n  reports: []\n}\n\n// This reducer function contains helper functions for each possible action.\n// Actions are defined above.\nexport function appStateReducer(state, action) {\n  /********** DATA ***********************/\n\n  const setAppData = ({ projectsArr, blocks, sessions, trackedSession, reports }) => {\n    // Turn the projects array to an object for easier usage in state\n    const projects = {}\n    projectsArr.forEach(p => projects[p.id] = p)\n\n    // Set all in the state\n    return { ...state, projects, blocks, sessions, trackedSession, reports }\n  }\n\n  const setDay = ({ day }) => {\n    return { ...state, day }\n  }\n\n  const setUser = ({ user }) => {\n    if (!user) {\n      return { ...state, user: null }\n    }\n    return { ...state, user: { ...user }, loaded: { ...state.loaded, user: true }}\n  }\n\n  const clearUser = () => {\n    return { ...state, user: null}\n  }\n\n  const setLoaded = ({ payload }) => {\n    for (const dataType in payload) {\n      if (state.loaded[dataType] === undefined) {\n        throw new Error(\"setLoaded called with invalid data type:\", dataType)\n      }\n    }\n\n    const loaded = { ...state.loaded, ...payload }\n    return { ...state, loaded }\n  }\n\n  const setWeeklyLoadStatus = ({ status }) => {\n    const sessions = status;\n    const blocks = status;\n    const reports = status;\n    const data = { ...state.loaded.data, sessions, blocks, reports }\n    return { ...state, loaded: { ...state.loaded, data }}\n  }\n\n  // Set all data-related loading statuses to the payload value\n  const setDataLoadStatus = ({ status }) => {\n    const data = { ...state.loaded.data };\n    for (const type in data) {\n      data[type] = status;\n    }\n\n    return { ...state, loaded: { ...state.loaded, data }}\n  }\n\n  const setProject = ({ project }) => {\n    const projects = { ...state.projects }\n    projects[project.id] = project;\n\n    return { ...state, projects}\n  }\n\n  const deleteProject = ({ id }) => {\n    const projects = { ...state.projects }\n    delete projects[id];\n\n    return { ...state, projects}\n  }\n\n  const setBlocks = ({ blocks }) => {\n    return { ...state, blocks }\n  }\n\n  const setBlock = ({ block }) => {\n    const blocks = [...state.blocks]\n    const index = blocks.findIndex(b => b.id === block.id)\n    block.title = state.projects[block.project_id].title\n    // If the block isn't already in the array, add it and sort.\n    if (index === -1) {\n      blocks.push({...block});\n      blocks.sort((b1, b2) => timeStringSorter(b1.start_time, b2.start_time))\n      return { ...state, blocks };\n    }\n\n    // If the block was already in the array, edit it in place.\n    blocks[index] = {...block};\n    return { ...state, blocks }\n  }\n\n  const deleteBlock = ({ id }) => {\n    const blocks = state.blocks.filter(b => b.id !== id);\n    return { ...state, blocks }\n  }\n\n  const setTrackedSession = ({ trackedSession }) => {\n    return { ...state, trackedSession }\n  }\n\n  const setSession = ({ session }) => {\n    if (!Array.isArray(session)) {\n      session = [session]\n    }\n    const sessions = [...state.sessions];\n\n    session.forEach(session => {\n      const index = sessions.findIndex(s => s.id === session.id);\n\n      // If the session isn't already in the array, add it and sort.\n      if (index === -1) {\n        sessions.push({...session});\n        sessions.sort((s1, s2) => timeStringSorter(s1.start_time, s2.start_time))\n        return { ...state, sessions };\n      }\n\n      // If the session was already in the array, edit it in place.\n      sessions[index] = {...session};\n    })\n    return { ...state, sessions }\n  }\n\n  const deleteSession = ({ id }) => {\n    const sessions = state.sessions.filter(s => s.id !== id);\n    return { ...state, sessions }\n  }\n\n  const setSessions = ({ sessions }) => {\n    return { ...state, sessions }\n  }\n\n  const setReports = ({ reports }) => {\n    return { ...state, reports }\n  }\n\n  const actions = {\n    [A.SET_DATA]: setAppData,\n    [A.DAY.SET]: setDay,\n    [A.LOAD.SET]: setLoaded,\n    [A.LOAD.SET_WEEKLY_STATUS]: setWeeklyLoadStatus,\n    [A.LOAD.SET_DATA_STATUS]: setDataLoadStatus,\n    [A.USER.SET]: setUser,\n    [A.USER.CLEAR]: clearUser,\n    [A.PROJECTS.SET]: setProject,\n    [A.PROJECTS.DELETE]: deleteProject,\n    [A.BLOCKS.SET_ALL]: setBlocks,\n    [A.BLOCKS.SET]: setBlock,\n    [A.BLOCKS.DELETE]: deleteBlock,\n    [A.SESSIONS.SET_ALL]: setSessions,\n    [A.SESSIONS.SET]: setSession,\n    [A.SESSIONS.DELETE]: deleteSession,\n    [A.REPORTS.SET]: setReports,\n    [A.TRACKING.SET]: setTrackedSession,\n  }\n\n  return actions[action.type]({ ...action })\n}","import { useEffect, useReducer } from 'react';\nimport api from '../helpers/apiHelpers'\n\nimport { initialState, appStateReducer } from './appStateReducer'\n\nimport { ACTIONS as A } from '../constants/actions'\n\nimport { getLastSunday } from '../helpers/timeHelpers'\n\nexport default function useAppData() {\n\n  const [state, dispatch] = useReducer(appStateReducer, initialState);\n\n  /********** LOADING WRAPPER ******/\n  // Takes in other functions as a callback. \n\n  /********** DATE/TIME ************/\n  /**\n   * Changes the current day by the input number of days.\n   * Use a negative number to move to a previous day.\n   * Use a positive number to move to a future day.\n   * @param {number} days\n   */\n  const changeDay = days => {\n    const msDayMultiplier = 1000*60*60*24;\n    const deltaMs = msDayMultiplier*days;\n    const day = new Date(state.day.valueOf() + deltaMs);\n\n    // Check for a new week\n    const currentSunday = getLastSunday(state.day);\n    const newSunday = getLastSunday(day);\n    const newWeek = currentSunday.getDate() !== newSunday.getDate();\n\n    // If we moved to a new week, load new weekly data from API.\n    if (newWeek) loadWeek(newSunday)\n\n    dispatch({ type: A.DAY.SET, day })\n  }\n  const yesterday = () => changeDay(-1);\n  const tomorrow = () => changeDay(1);\n  const lastWeek = () => changeDay(-7);\n  const nextWeek = () => changeDay(7);\n\n  const dateActions = {\n    changeDay,\n    yesterday,\n    tomorrow,\n    lastWeek,\n    nextWeek\n  }\n\n  /********** AUTHENTICATION ************/\n  const authenticate = () => {\n    // Attempt to authenticate a previously-logged-in user.\n    return api.auth.check()\n      // If the API returns a user object, update the state.\n      .then(user => {\n        dispatch({ type: A.USER.SET, user });\n      })\n  }\n\n  const register = (username, rawPassword) => {\n    return api.users.add(username, rawPassword)\n      .then(user => dispatch({ type: A.USER.SET, user }))\n  }\n\n  const login = (username, rawPassword) => {\n    return api.auth.login(username, rawPassword)\n      .then(user => dispatch({ type: A.USER.SET, user }))\n  }\n\n  const logout = () => {\n    return api.auth.logout()\n      .then(() => dispatch({ type: A.USER.CLEAR }))\n  }\n\n  const authActions = {\n    register,\n    login,\n    logout,\n  }\n  /***************************************/\n\n  /********** DATA ***********************/\n  const load = () => {\n    if (!state.user) {\n      return dispatch({ type: A.LOAD.SET_DATA_STATUS, status: true });\n    }\n\n    return Promise.all([\n      api.projects.get(),\n      api.blocks.get(),\n      api.sessions.get(),\n      api.sessions.getActive(),\n      api.reports.get()\n    ])\n      .then(all => {\n        const [projectsArr, blocks, sessions, trackedSession, reports] = all;\n        dispatch({ type: A.SET_DATA, projectsArr, blocks, sessions, trackedSession, reports })\n      })\n      .then(() => dispatch({ type: A.LOAD.SET_DATA_STATUS, status: true }))\n  }\n\n  function loadWeek(sunday) {\n    dispatch({ type: A.LOAD.SET_WEEKLY_STATUS, status: false })\n    return Promise.all([\n      api.blocks.getWeek(sunday),\n      api.sessions.getWeek(sunday),\n      api.reports.getWeek(sunday)\n    ])\n      .then(all => {\n        const [blocks, sessions, reports] = all;\n        dispatch({ type: A.BLOCKS.SET_ALL, blocks })\n        dispatch({ type: A.SESSIONS.SET_ALL, sessions })\n        dispatch({ type: A.REPORTS.SET, reports })\n        dispatch({ type: A.LOAD.SET_WEEKLY_STATUS, status: true })\n      })\n  }\n\n  const addProject = project => {\n    return api.projects.add(project)\n      .then(project => dispatch({ type: A.PROJECTS.SET, project }))\n  }\n\n  const updateProject = project => {\n    return api.projects.edit(project)\n      .then(project => dispatch({ type: A.PROJECTS.SET, project }))\n  }\n\n  const scheduleBlock = block => {\n    return api.blocks.add(block)\n      .then(block => dispatch({ type: A.BLOCKS.SET, block }))\n  }\n\n  const editBlock = block => {\n    return api.blocks.edit(block)\n      .then(block => dispatch({ type: A.BLOCKS.SET, block }))\n  }\n\n  const deleteBlock = id => {\n    return api.blocks.del(id)\n      .then(block => dispatch({ type: A.BLOCKS.DELETE, id: block.id }))\n  }\n\n  const toggleSession = project_id => {\n    const { trackedSession } = state;\n    const apiPromises = []\n    const startNew =\n      !trackedSession ||\n      trackedSession.project_id !== project_id;\n\n    // If there's an existing session, stop it.\n    trackedSession && apiPromises.push(api.sessions.stop(trackedSession.id))\n\n    // If we should start a new session, do so.\n    startNew && apiPromises.push(api.sessions.add(project_id))\n\n    // Also update any changed sessions.\n    return Promise.all(apiPromises)\n      .then(all => {\n        // Whichever promise is last in the array is what should be tracked.\n        // Or if we didn't start a new one, the new tracking is null.\n        const trackedSession = startNew ? all[all.length - 1] : null;\n        dispatch({ type: A.TRACKING.SET, trackedSession })\n\n        // Update any sessions that changed as a result of this toggle\n        dispatch({ type: A.SESSIONS.SET, session: all })\n      })\n  }\n\n  const editSession = (id, start_time, end_time) => {\n    return api.sessions.edit({ id, start_time, end_time })\n      .then(session => dispatch({ type: A.SESSIONS.SET, session }))\n  }\n\n  const deleteSession = (id) => {\n    return api.sessions.del(id)\n      .then(({id}) => dispatch({ type: A.SESSIONS.DELETE, id }))\n  }\n\n  const getWeeklyReport = date => {\n    return api.reports.getWeek(date)\n  }\n\n  const dataActions = {\n    load,\n    addProject,\n    updateProject,\n    scheduleBlock,\n    editBlock,\n    deleteBlock,\n    toggleSession,\n    editSession,\n    deleteSession,\n    getWeeklyReport\n  }\n\n  const actions = {\n    date: dateActions,\n    data: dataActions,\n    auth: authActions\n  }\n\n  /********** EFFECTS ***********************/\n  // When the app is first loaded, check for existing credentials.\n  useEffect(authenticate, []);\n\n  // When the user changes, load all of their data.\n  useEffect(load, [state.user])\n  /***************************************/\n\n  return {\n    state,\n    actions,\n    dateActions,\n    authActions,\n    dataActions\n  }\n}","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { ReducerState, ReducerActions } from './reducer/context'\nimport axios from 'axios';\n\nimport useAppData from './reducer/useAppData'\n\nif (process.env.REACT_APP_API_URL) {\n  axios.defaults.baseURL = process.env.REACT_APP_API_URL;\n  axios.defaults.withCredentials = true;\n}\n\nfunction AppWithContext() {\n  const { state, actions } = useAppData();\n  return (\n    <ReducerState.Provider value={state}>\n      <ReducerActions.Provider value={actions}>\n        <App />\n      </ReducerActions.Provider>\n    </ReducerState.Provider>\n  )\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppWithContext />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}