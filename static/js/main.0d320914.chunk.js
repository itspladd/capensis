(this.webpackJsonpcapensis=this.webpackJsonpcapensis||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);n(43);var c=n(1),a=n.n(c),r=n(18),s=n.n(r),i=(n(48),n(3)),o=(n(49),n(7)),l=n.n(o),j=n(21),u=n(8),d=(n(69),n(39)),b=n(0);function h(){return Object(b.jsxs)("div",{className:"loading",children:[Object(b.jsx)(d.a,{animation:"border",variant:"primary",role:"status",children:Object(b.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(b.jsx)("p",{children:"Loading..."})]})}n(71);function m(e){var t=e.username,n=e.handleLogout;e.currentSession;return Object(b.jsx)("div",{className:"Header navbar navbar-expand-sm navbar-light bg-info",children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsx)(j.b,{className:"navbar-brand",to:"/",children:"Capensis"}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(b.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(j.c,{className:"nav-link",to:"/schedule",children:"Schedule"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(j.c,{to:"/projects",className:"nav-link",children:"Projects"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(j.c,{className:"nav-link",to:"/reports",children:"Reports"})})]})}),Object(b.jsxs)("div",{className:"d-flex",children:[Object(b.jsxs)("span",{className:"navbar-text me-2",children:["Logged in as ",t]}),Object(b.jsx)("button",{className:"btn btn-outline-dark",onClick:n,children:"Logout"})]})]})})}n(80);function O(e){var t=e.currentSession,n=e.projects,c=!n,a=t&&n&&n[t.project_id];return Object(b.jsxs)("div",{className:"statusBar mb-2 border-top border-info ".concat(a?"bg-success text-light":a?void 0:"bg-secondary text-light"),children:[c&&"Loading...",a&&"Currently tracking ".concat(n[t.project_id].title),t&&!n[t.project_id]&&"ERROR: Trying to track project ID ".concat(t.project_id,", but it was not found."),!t&&"Not currently tracking"]})}var f=n(16),p=n(2);function x(e){var t=Object(c.useState)(e),n=Object(i.a)(t,2),a=n[0],r=n[1];return[a,function(e){e.preventDefault(),r((function(t){var n=Object(p.a)({},t);return n[e.target.id]=e.target.value,n}))}]}var v=n(12);function g(e){var t=e.login,n=x({formLoginUsername:"",formLoginPassword:""}),c=Object(i.a)(n,2),a=c[0],r=c[1];return Object(b.jsxs)(v.a,{className:"loginForm",children:[Object(b.jsx)("h4",{children:"Login"}),Object(b.jsxs)(v.a.Group,{className:"mb-3",controlId:"formLoginUsername",children:[Object(b.jsx)(v.a.Label,{children:"Username"}),Object(b.jsx)(v.a.Control,{onChange:r,type:"text",placeholder:"Username"})]}),Object(b.jsxs)(v.a.Group,{className:"mb-3",controlId:"formLoginPassword",children:[Object(b.jsx)(v.a.Label,{children:"Password"}),Object(b.jsx)(v.a.Control,{onChange:r,type:"password",placeholder:"Password"})]}),Object(b.jsx)(f.a,{variant:"success",type:"submit",onClick:function(e){e.preventDefault();var n=a.formLoginUsername,c=a.formLoginPassword;l.a.post("/api/login",{username:n,rawPassword:c}).then((function(e){return t(e.data.username)}))},children:"Submit"})]})}function N(e){var t=e.login,n=x({formRegisterUsername:"",formRegisterPassword:""}),c=Object(i.a)(n,2),a=c[0],r=c[1];return Object(b.jsxs)(v.a,{className:"registerForm",children:[Object(b.jsx)("h4",{children:"Register"}),Object(b.jsxs)(v.a.Group,{className:"mb-3",controlId:"formRegisterUsername",children:[Object(b.jsx)(v.a.Label,{children:"Username"}),Object(b.jsx)(v.a.Control,{onChange:r,type:"text",placeholder:"Username"})]}),Object(b.jsxs)(v.a.Group,{className:"mb-3",controlId:"formRegisterPassword",children:[Object(b.jsx)(v.a.Label,{children:"Password"}),Object(b.jsx)(v.a.Control,{onChange:r,type:"password",placeholder:"Password"})]}),Object(b.jsx)(f.a,{variant:"success",type:"submit",onClick:function(e){e.preventDefault();var n=a.formRegisterUsername,c=a.formRegisterPassword;l.a.post("/api/users",{username:n,rawPassword:c}).then((function(e){return t(e.data.username)}))},children:"Create account"})]})}n(81);function S(e){var t=e.login,n=Object(c.useState)(!0),a=Object(i.a)(n,2),r=a[0],s=a[1],o=r?Object(b.jsx)(g,{login:t}):Object(b.jsx)(N,{login:t}),l=r?"Don't have an account yet?":"Already have a Capensis account?",j=r?"Sign up":"Sign in";return Object(b.jsx)("div",{className:"Authentication",children:Object(b.jsxs)("div",{id:"Authentication_background",children:[Object(b.jsxs)("div",{id:"Authentication_welcome",children:[Object(b.jsx)("p",{className:"appName",children:"Capensis"}),Object(b.jsx)("p",{className:"welcomeMessage",children:"A super simple scheduler and time-tracker."})]}),o,Object(b.jsxs)("div",{className:"Authentication_switch",children:[Object(b.jsx)("p",{children:l}),Object(b.jsx)(f.a,{variant:"primary",size:"sm",onClick:function(e){e.preventDefault(),document.activeElement.blur(),s(!r)},children:j})]})]})})}var w=n(29),k=n.n(w),C=n(42),y=n(22);function M(e){var t=864e5*e.getDay(),n=e.valueOf()-t;return new Date(n)}function _(e,t){return 60*e+t}function D(e){var t=e.values,n=e.block;return t?function(e){var t=Number(e.startHour)+Number(e.startAMPM),n=Number(e.startMinute),c=Number(e.endHour)+Number(e.endAMPM),a=Number(e.endMinute);return[_(t,n),_(c,a)]}(t):n?function(e){var t=new Date(e.start_time),n=new Date(e.end_time);return[_(t.getHours(),t.getMinutes()),_(n.getHours(),n.getMinutes())]}(n):void 0}function P(e,t){return new Date(e.start_time).getDate()===t.getDate()}var A={LANGUAGES:{EN_US:"EN_US"}};function L(e){return new Date(e).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}var E={EN_US:{TAG:"EN-US",NEW_BLOCK_VALIDATION:{conflict:function(e){var t=e.block,n=t.title,c=t.start_time,a=t.end_time,r=L(c),s=L(a);return"This time conflicts with another block: ".concat(n,", ").concat(r," - ").concat(s)},noProject:function(){return"You must select a project."},endBeforeStart:function(){return"That block would end on or before its start time."}}}};function H(e){var t=e.show,n=e.handleClose,a=e.currentDay,r=e.projects,s=e.blocks,o=e.refreshBlocks,j=x({project:"",startHour:"6",startMinute:"00",startAMPM:"0",endHour:"6",endMinute:"00",endAMPM:"0"}),u=Object(i.a)(j,2),d=u[0],h=u[1],m=function(e,t,n){var a=Object(c.useState)({}),r=Object(i.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)(!1),j=Object(i.a)(l,2),u=j[0],d=j[1];return Object(c.useEffect)((function(){var c=D({values:e}),a=Object(i.a)(c,2),r=a[0],s=a[1],l=t&&t.filter((function(e){return P(e,n)})).map((function(e){var t=D({block:e}),n=Object(i.a)(t,2),c=n[0],a=n[1];return{block:e,start:r>=c&&r<a,end:s>c&&s<=a}})).filter((function(e){return e.start||e.end}))[0],j={};e.project||(j.noProject=!0),r>=s&&(j.endBeforeStart=!0),l&&(j.conflict=l),o(j)}),[e,t,n]),Object(c.useEffect)((function(){var e=0===Object.values(s).length;d(e)}),[s]),[s,u]}(d,s,a),O=Object(i.a)(m,2),p=O[0],v=O[1],g=Object(c.useState)(!1),N=Object(i.a)(g,2),S=N[0],w=N[1],M=A.LANGUAGES.EN_US,_=a&&a.toDateString(),L=r&&Object.values(r).reverse().map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.title},e.id)})),H=function(){for(var e=[],t=1;t<=12;t++)e.push(Object(b.jsx)("option",{value:12===t?0:t,children:t},12===t?0:t));return e}(),T=Object.keys(p).map((function(e){return Object(b.jsx)("li",{children:E[M].NEW_BLOCK_VALIDATION[e](p[e])},e)})),U=function(){var e=Object(C.a)(k.a.mark((function e(t){var c,r,s,j,u,b,h,m;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),v?(w(!1),c=D({values:d}),r=Object(i.a)(c,2),s=r[0],j=r[1],u=a.valueOf()+60*s*1e3,b=a.valueOf()+60*j*1e3,h=new Date(u).toISOString(),m=new Date(b).toISOString(),l.a.post("/api/blocks",{startTime:h,endTime:m,project:d.project}).then(o).then(n)):w(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(y.a,{show:t,onHide:n,children:[Object(b.jsx)(y.a.Header,{closeButton:!0,children:Object(b.jsx)(y.a.Title,{children:"Schedule a new Block"})}),Object(b.jsxs)(y.a.Body,{children:["Date: ",Object(b.jsx)("strong",{children:_}),Object(b.jsxs)("form",{onSubmit:U,children:[Object(b.jsxs)("div",{className:"row row-cols-sm-auto g-5 align-items-center",children:[Object(b.jsx)("label",{htmlFor:"project",children:"Project"}),Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("select",{className:"form-select",name:"project",id:"project",value:d.project,onChange:h,children:[Object(b.jsx)("option",{value:"",children:"Select a project"}),L]})})]}),Object(b.jsxs)("div",{className:"row row-cols-lg-auto g-2 mt-1 align-items-center",children:[Object(b.jsx)("label",{htmlFor:"startHour",children:"Starting at:"}),Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("select",{className:"form-select",name:"startHour",id:"startHour",value:d.startHour,onChange:h,children:H})}),Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("select",{className:"form-select",name:"startMinute",id:"startMinute",value:d.startMinute,onChange:h,children:[Object(b.jsx)("option",{children:"00"}),Object(b.jsx)("option",{children:"15"}),Object(b.jsx)("option",{children:"30"}),Object(b.jsx)("option",{children:"45"})]})}),Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("select",{className:"form-select",name:"startAMPM",id:"startAMPM",value:d.startAMPM,onChange:h,children:[Object(b.jsx)("option",{value:"0",children:"AM"}),Object(b.jsx)("option",{value:"12",children:"PM"})]})}),S&&p.conflict&&p.conflict.start&&Object(b.jsx)("small",{id:"passwordHelpBlock",className:"form-text text-muted",children:"That start time conflicts with an existing Block!"})]}),Object(b.jsxs)("div",{className:"row row-cols-lg-auto g-2 mt-1 align-items-center",children:[Object(b.jsx)("label",{children:"Ending at:"}),Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("select",{className:"form-select",name:"endHour",id:"endHour",value:d.endHour,onChange:h,children:H})}),Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("select",{className:"form-select",name:"endMinute",id:"endMinute",value:d.endMinute,onChange:h,children:[Object(b.jsx)("option",{children:"00"}),Object(b.jsx)("option",{children:"15"}),Object(b.jsx)("option",{children:"30"}),Object(b.jsx)("option",{children:"45"})]})}),Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("select",{className:"form-select",name:"endAMPM",id:"endAMPM",value:d.endAMPM,onChange:h,children:[Object(b.jsx)("option",{value:"0",children:"AM"}),Object(b.jsx)("option",{value:"12",children:"PM"})]})}),S&&p.conflict&&p.conflict.end&&Object(b.jsx)("small",{id:"passwordHelpBlock",className:"form-text text-muted",children:"That end time conflicts with an existing Block!"})]})]})]}),S&&0!==T.length&&Object(b.jsx)(y.a.Footer,{children:Object(b.jsx)("ul",{children:T})}),Object(b.jsxs)(y.a.Footer,{children:[Object(b.jsx)(f.a,{variant:"secondary",onClick:n,children:"Close"}),Object(b.jsx)(f.a,{variant:"primary",onClick:U,children:"Submit"})]})]})})}n(83),n(84),n(85);function T(e){var t=e.title,n=e.project_id,c=e.length,a=e.start_time,r=e.end_time,s=L(a),i=L(r),o=-1===n,l=o?"block_placeholder":"block",j=o?"block_placeholder_background":"block_background";return Object(b.jsx)("li",{className:"list-group-item "+j,style:{height:c+"rem"},children:Object(b.jsxs)("div",{className:l,projectid:n,children:[!o&&Object(b.jsx)("h5",{children:t}),s," to ",i]})})}function U(e){var t=e.blocks,n=e.day,a=t&&n&&t.map((function(e){return Object(c.createElement)(T,Object(p.a)(Object(p.a)({},e),{},{key:e.id,length:(t=e.start_time,n=e.end_time,(new Date(n)-new Date(t))/1e3/60/15)}));var t,n}));return Object(b.jsx)("ul",{className:"blockList list-group list-group-flush",children:a})}n(86);function I(e){var t,n,c=function(e){var t=e.hour,n=t<12;return Object(b.jsxs)("li",{className:"ScheduleBarSection list-group-item",children:[n||12===t?t:t-12," ",n?"AM":"PM"]},t)};return Object(b.jsx)("ul",{className:"ScheduleBar list-group list-group-flush",children:(t=6,n=20,new Array(n-t).fill(void 0).map((function(e,n){return Object(b.jsx)(c,{hour:t+n})})))})}function B(e){var t,n,a=E[A.LANGUAGES.EN_US].TAG,r=e.blocks,s=e.day,o=e.goToTomorrow,l=e.goToYesterday,j=e.showForm,u=Object(c.useState)([]),d=Object(i.a)(u,2),h=d[0],m=d[1],O=(n=s,(t=a)&&n?new Date(n).toLocaleDateString(t,{weekday:"long"}):""),p=function(e,t){return e&&t?new Date(t).toLocaleDateString(e,{month:"long",year:"numeric",day:"numeric"}):""}(a,s);return Object(c.useEffect)((function(){var e=[],t=new Date(s);for(t.setHours(6),r.forEach((function(n){for(var c=new Date(n.start_time);t<c;){var a={id:"p".concat(t.getHours()).concat(t.getMinutes()||"00"),title:L(t),project_id:-1,start_time:t.toISOString()};t.setMinutes(t.getMinutes()+15),a.end_time=t.toISOString(),e.push(a)}e.push(n),t=new Date(n.end_time)}));t.getHours()<20;){var n={id:"p".concat(t.getHours()).concat(t.getMinutes()||"00"),title:L(t),project_id:-1,start_time:t.toISOString()};t.setMinutes(t.getMinutes()+15),n.end_time=t.toISOString(),e.push(n)}m(e)}),[r,s]),Object(b.jsxs)("div",{className:"daySchedule",children:[Object(b.jsxs)("div",{className:"dayScheduleHeader",children:[Object(b.jsxs)("div",{className:"dayScheduleHeader_internal",children:[Object(b.jsx)(f.a,{variant:"info",onClick:l,children:"<"}),Object(b.jsx)(f.a,{variant:"info",onClick:o,children:">"}),Object(b.jsxs)("div",{className:"dayScheduleHeader_date",children:[Object(b.jsx)("h3",{children:O}),Object(b.jsx)("small",{className:"text-muted",children:p})]})]}),Object(b.jsx)(f.a,{variant:"primary",onClick:j,children:"New Block"})]}),Object(b.jsxs)("div",{className:"dayScheduleInternal mt-1",children:[Object(b.jsx)(I,{}),Object(b.jsx)(U,{blocks:h,day:s})]})]})}function F(e){return Object(b.jsx)("div",{children:Object(b.jsx)("p",{children:"WeekSchedule component"})})}var R=n(11);function G(e){var t=e.id,n=e.title,c=e.selected,a=e.onEditClick,r=e.onCancelClick,s=e.onSubmit,i=e.formValue,o=e.handleChange;return Object(b.jsxs)("li",{className:"list-group-item d-flex justify-content-between bg-light",children:[Object(b.jsx)("span",{children:Object(b.jsx)("strong",{children:n})}),c&&Object(b.jsxs)("form",{className:"row row-cols-sm-auto g-3 align-items-center",onSubmit:s,children:[Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("label",{className:"visually-hidden",htmlFor:"newName",children:"New name: "}),Object(b.jsx)("input",{type:"text",className:"form-control form-control-sm",id:"newName",value:i,onChange:o})]}),Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("button",{className:"btn btn-sm btn-secondary",children:"Submit"})}),Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("button",{className:"btn btn-sm btn-danger",onClick:r,children:"Cancel"})})]}),!c&&Object(b.jsx)("button",{className:"btn btn-sm btn-info",onClick:a,children:"Rename"})]},t)}function V(e){var t=e.projects,n=e.setProjects,a=Object(c.useState)(null),r=Object(i.a)(a,2),s=r[0],o=r[1],j=Object(c.useState)(null),u=Object(i.a)(j,2),d=u[0],h=u[1],m=Object(c.useState)(!1),O=Object(i.a)(m,2),f=O[0],x=O[1],v=Object(c.useState)(""),g=Object(i.a)(v,2),N=g[0],S=g[1],w=function(e){e.preventDefault(),o(null)},k=function(e){h(e.target.value)},C=t&&Object.values(t).map((function(e){return Object(b.jsx)(G,Object(p.a)(Object(p.a)({},e),{},{selected:e.id===s,onEditClick:function(){return o(e.id)},onCancelClick:w,onSubmit:function(c){return function(e,c){e.preventDefault();var a=null!==d?d:t[c].title;o(null),h(null);var r=Object(p.a)(Object(p.a)({},t[c]),{},{title:a});n((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(R.a)({},c,r))})),l.a.patch("/api/projects/".concat(c),{title:a})}(c,e.id)},handleChange:k,formValue:null===d?e.title:d}))}));return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h3",{children:"My Projects"}),Object(b.jsx)("ul",{className:"list-group",children:C}),Object(b.jsxs)("div",{className:"newProject",children:[!f&&Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){return x(!0)},children:"Add a Project"}),f&&Object(b.jsxs)("form",{className:"row row-cols-lg-auto g-3",onSubmit:function(e){e.preventDefault(),l.a.post("/api/projects",{projectTitle:N}).then((function(e){var t=e.data;n((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(R.a)({},t.id,t))}))})).then((function(){S(""),x(!1)}))},children:[Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("label",{className:"visually-hidden",htmlFor:"newProject",children:"New project name:"}),Object(b.jsx)("input",{className:"form-control",type:"text",id:"newProject",value:N,onChange:function(e){S(e.target.value)}})]}),Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("button",{className:"btn btn-success",type:"submit",children:"Submit"})}),Object(b.jsx)("div",{className:"col-12",children:Object(b.jsx)("button",{className:"btn btn-danger",type:"button",onClick:function(e){e.preventDefault(),S(""),x(!1)},children:"Cancel"})})]})]})]})}function W(e){var t=e.projects,n=Object(c.useState)([]),a=Object(i.a)(n,2),r=a[0],s=a[1];Object(c.useEffect)((function(){l.a.get("/api/reports/week").then((function(e){return s(e.data)}))}),[t]);var o=r.map((function(e){var n=e.project_id,c=e.sessions_total,a=e.blocks_total,r=t[n].title,s=1/3600,i=c*s||0,o=a*s||0;return Object(b.jsxs)("li",{children:[r,": ",i.toPrecision(1)," / ",o," hours"]},n)}));return Object(b.jsx)("div",{className:"reports",children:Object(b.jsx)("ul",{children:o})})}function Y(){return Object(b.jsx)("div",{className:"Footer",children:"Created by Pladd"})}function J(e){var t,n=new Date;(t=n).setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);M(n);var a=Object(c.useState)(n),r=Object(i.a)(a,2),s=r[0],o=r[1],j=Object(c.useState)([]),u=Object(i.a)(j,2),d=u[0],b=u[1];Object(c.useEffect)((function(){l.a.get("/api/blocks/week").then((function(e){return b(e.data)}))}),[e]);return[d,function(){l.a.get("/api/blocks/week?date=".concat(s.toISOString())).then((function(e){return b(e.data)}))},s,function(e){var t=864e5*e,n=new Date(s.valueOf()+t);(function(e,t){var n=M(e),c=M(t);return n.getDate()!==c.getDate()})(s,n)&&l.a.get("/api/blocks/week?date=".concat(n.toISOString())).then((function(e){return b(e.data)})),o(n)}]}function K(){var e=function(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),s=Object(i.a)(r,2),o=s[0],j=s[1];return Object(c.useEffect)((function(){console.log("authenticating"),l.a.post("/api/authenticate").then((function(e){j(e.data.username),a(!1)}))}),[]),[n,o,function(e){j(e)},function(e){e.preventDefault(),l.a.post("/api/logout").then((function(e){return j(e.data.username)}))}]}(),t=Object(i.a)(e,4),n=t[0],a=t[1],r=t[2],s=t[3],o=J(a),d=Object(i.a)(o,4),f=d[0],p=d[1],x=d[2],v=d[3],g=function(e){var t=Object(c.useState)(null),n=Object(i.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){l.a.get("/api/sessions/current").then((function(e){e.data[0]&&r(e.data[0])}))}),[e]),[a,function(e){var t=e.target.closest(".block");if(t){var n=Number(t.getAttribute("projectid"));a&&l.a.patch("/api/sessions",{session_id:a.id}),a&&n===a.project_id?r(null):l.a.post("/api/sessions",{project_id:n}).then((function(e){return r(e.data)}))}}]}(a),N=Object(i.a)(g,2),w=N[0],k=N[1],C=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1];return[function(){return a(!0)},function(){return a(!1)},n]}(),y=Object(i.a)(C,3),M=y[0],_=y[1],D=y[2],A=Object(c.useState)({}),L=Object(i.a)(A,2),E=L[0],T=L[1];return Object(c.useEffect)((function(){l.a.get("/api/projects").then((function(e){var t={};e.data.projects.forEach((function(e){return t[e.id]=e})),T(t)}))}),[a]),Object(b.jsxs)("div",{className:"App",onClick:k,children:[n&&Object(b.jsx)(h,{}),!n&&!a&&Object(b.jsx)(S,{login:r}),!n&&a&&Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(j.a,{basename:"/capensis",children:[Object(b.jsx)(m,{username:a,handleLogout:s,currentSession:w}),Object(b.jsx)(O,{currentSession:w,projects:E}),Object(b.jsx)(H,{show:D,handleShow:M,handleClose:_,currentDay:x,projects:E,blocks:f,refreshBlocks:p}),Object(b.jsx)("div",{className:"App-body",children:Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{exact:!0,path:["/","/schedule"],children:Object(b.jsx)(B,{blocks:f.filter((function(e){return P(e,x)})),day:x,goToTomorrow:function(){return v(1)},goToYesterday:function(){return v(-1)},showForm:M})}),Object(b.jsx)(u.a,{exact:!0,path:"/week",children:Object(b.jsx)(F,{})}),Object(b.jsx)(u.a,{exact:!0,path:"/projects",children:Object(b.jsx)(V,{projects:E,setProjects:T})}),Object(b.jsx)(u.a,{exact:!0,path:"/reports",children:Object(b.jsx)(W,{projects:E})})]})})]})}),Object(b.jsx)(Y,{})]})}l.a.defaults.baseURL="https://capensis-api.herokuapp.com",l.a.defaults.withCredentials=!0,s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(K,{})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.0d320914.chunk.js.map