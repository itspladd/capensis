{"version":3,"sources":["components/Loading.jsx","helpers/imageHelpers.js","components/Logo.jsx","components/Header.jsx","components/StatusBar.jsx","hooks/useControlledForms.js","components/Login.jsx","components/Register.jsx","components/Authentication.jsx","constants/settings.js","helpers/timeHelpers.js","helpers/stringHelpers.js","constants/strings/languages/EN-US.js","constants/strings/index.js","helpers/boolHelpers.js","helpers/tagHelpers.js","components/BlockFormModal.jsx","components/PageHeader.jsx","components/IconButton.jsx","components/Block.jsx","components/BlockList.jsx","components/ScheduleBar.jsx","components/DaySchedule.jsx","components/WeekSchedule.jsx","components/ProjectListItem.jsx","components/ProjectList.jsx","helpers/timingHelpers.js","constants/statuses.js","components/TabButton.jsx","components/SuccessIcon.jsx","components/SessionComponents/PureSessionItem.jsx","components/SessionComponents/SessionItem.jsx","components/SessionComponents/SessionList.jsx","helpers/projectHelpers.js","components/SessionComponents/Sessions.jsx","components/ProgressBar.jsx","constants/colors.js","helpers/numberHelpers.js","components/ReportItem.jsx","components/Report.jsx","components/Footer.jsx","assets/github_logo_light.png","hooks/useSessionTracking.js","hooks/usePopupBlockForm.js","hooks/useNewBlockValidation.js","components/App.jsx","hooks/useDay.js","hooks/useWeek.js","hooks/useAuthentication.js","hooks/useWeeklyData.js","index.js"],"names":["Loading","props","iconOnly","className","Spinner","animation","variant","role","children","getSvgSizeObj","scale","dimensions","offset","baseW","baseH","map","base","scaledW","scaledH","x","y","viewBox","width","height","Logo","hareOnly","sizeAttributes","d","Header","username","handleLogout","Navbar","expand","Container","to","Brand","href","Toggle","Collapse","id","Nav","Link","Text","Button","onClick","StatusBar","currentProject","projects","loading","tracking","title","useControlledForms","fields","useState","formValues","setFormValues","event","preventDefault","prev","newVals","target","value","Login","login","formLoginUsername","formLoginPassword","handleFormChange","Form","Group","controlId","Label","Control","onChange","type","placeholder","axios","post","rawPassword","then","res","data","Register","formRegisterUsername","formRegisterPassword","Authentication","showLogin","setShowLogin","authComponent","switchMsg","buttonMsg","document","activeElement","blur","SETTINGS","LANGUAGES","EN_US","msDayMultiplier","getLastSunday","date","daysSinceSunday","getDay","msSinceSunday","lastSundayMs","valueOf","Date","getHM24","time","obj","getHours","getMinutes","getHMO12","noonZero","h","m","h24","to12H","result","Array","from","arguments","hour","length","minutesSinceMidnight","hours","minutes","getBoundaryMinutes","values","block","startHours","Number","startHour","startAMPM","startMinutes","startMinute","endHours","endHour","endAMPM","endMinutes","endMinute","getFormValuesBoundaryMinutes","start","start_time","end","end_time","getBlockBoundaryMinutes","getFifteenMinuteUnits","startDate","endDate","lengthHours","blockIsOnDay","day","getDate","makeNonBreaking","str","split","join","String","fromCharCode","makeTimeString","timeArr","amPm","toLocaleTimeString","minute","makeHHMMTimeString","now","hourCycle","makeWeekDayString","lang","toLocaleDateString","weekday","makeDateString","month","year","makeWeekString","sun","sat","daysUntilSaturday","msUntilSaturday","nextSaturdayMs","getNextSaturday","sunStr","satStr","amOrPm","makeShortIntervalString","hour1","hour2","startH24","startM","endH24","endM","AMPM1","AMPM2","startH12","endH12","startStr","endStr","STRINGS","TAG","NEW_BLOCK_VALIDATION","conflicts","conflictList","conflict","unshift","noProject","endBeforeStart","FORM_VALID","FORM_ERRORS","FORM_EDITING","FORM_NEW","truthyOrLengthy","a","isArray","Object","makeErrorTag","errorString","index","makeErrorList","i","makeErrorListRecurs","errors","header","recursive","e","slice","LANG","BlockFormModal","currentDay","state","actions","show","showErrors","valid","editing","submit","close","change","currentDateText","toDateString","errorStrings","keys","filter","key","errorType","errorData","errorList","projectOptions","reverse","project","makeProjectOptions","hoursOptions","optionsList","push","makeHoursOptions","Modal","onHide","centered","closeButton","Title","Body","onSubmit","htmlFor","name","Footer","PageHeader","nav","back","forward","subtitle","actionButtons","label","size","defaultProps","IconButton","fill","path","Block","spacer","toggle","edit","refreshData","interval","lengthStr","blockClass","classNames","tiny","short","handleClick","style","stopPropagation","delete","BlockList","blocks","toggleSession","editBlock","blocksForDay","project_id","ScheduleBar","ScheduleBarSection","undefined","DaySchedule","goToTomorrow","goToYesterday","newBlock","blocksWithPlaceholders","setBlocksWithPlaceholders","dayString","dateString","useEffect","newBlocks","currentTime","setHours","finalTime","forEach","blockDate","placeholderBlock","toISOString","setMinutes","headerActions","WeekSchedule","ProjectListItem","selected","onEditClick","onCancelClick","formValue","handleChange","ProjectList","setProjects","selectedProject","setSelectedProject","setFormValue","showNewProjectForm","setShowNewProjectForm","newProjectFormValue","setNewProjectFormValue","handleCancel","projectItems","newProject","patch","handleSubmit","projectTitle","delayAction","callback","delay","Promise","resolve","reject","setTimeout","STATUSES","NEW","ACTIVE","STABLE","EDITING","LOADING","DELETING","CONFIRM","SUCCESS","FAILURE","PROJECT","TabButton","SuccessIcon","PureSessionItem","ref","status","active","refDay","deleteItem","setStatus","handleToggle","scrollRef","useRef","inputRef","useImperativeHandle","focusTime","current","focus","scroll","scrollIntoView","duration","startH","makeDurationFromHHMM","statusComponents","stable","deleting","success","failure","outerClassName","ListGroupItem","as","forwardRef","SessionItem","checkListDelete","times","handleTimeChange","setTimes","sessionItemRef","statusTimer","clearTimeout","endH","catch","ERROR","handleDelete","SessionList","sessions","checkDelete","sessionList","session","ListGroup","Item","projectHasSessions","Sessions","lastWeek","nextWeek","sessionListsByProject","projectsWithSessions","untrackedProjects","projectsWithoutSessions","ProgressBar","color","percent","overfilled","background","clone","alpha","outerBarStyle","backgroundColor","toString","innerBarStyle","COLORS","RED","Color","GREEN","BLUE","PURPLE","EGYPT_BLUE","num","denom","Math","round","ReportItem","progress","goal","lightness","overfilledStr","rawWidth","progressPercent","headerWidth","footerWidth","projectStyle","Report","reportData","setReportData","setLoading","error","setError","get","err","finally","report","sessions_total","blocks_total","projectName","secondsToHours","sessionHours","blockHours","getFullYear","message","repoLink","src","alt","useSessionTracking","currentId","setCurrentId","setCurrentProject","updateSession","useCallback","array","extractResponse","clearSession","differentProject","startTracking","defaultFormValues","usePopupBlockForm","setShow","blockId","setBlockId","setShowErrors","setValues","currentBlockId","setErrors","formIsValid","setFormIsValid","newBlockStart","newBlockEnd","blockStartMins","blockEndMins","newErrors","useNewBlockValidation","showModal","closeModal","new","startMins","endMins","startTime","endTime","blockData","App","today","setSeconds","setMilliseconds","setDay","days","deltaMs","newDay","useDay","changeDay","weekMs","setWeekMs","useWeek","week","setUsername","console","log","useAuthentication","logout","setBlocks","setSessions","loadWeeklyData","sundayStr","useWeeklyData","blockFormState","blockFormActions","projectList","basename","exact","defaults","baseURL","process","withCredentials","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.083447d6.chunk.js","sourcesContent":["import '../styles/Loading.css'\n\nimport Spinner from 'react-bootstrap/Spinner'\n\nexport default function Loading(props) {\n\n  const { iconOnly } = props;\n\n  return (\n    <div className=\"loading\">\n      <Spinner animation=\"border\" variant=\"primary\" role=\"status\">\n        <span className=\"visually-hidden\">{props.children}</span>\n      </Spinner>\n      {!iconOnly && props.children && <p>{props.children}</p>}\n    </div>\n  )\n}","export function getSvgSizeObj(scale, dimensions, offset=[0,0]) {\n  const [baseW, baseH] = dimensions;\n  const [scaledW, scaledH] = dimensions.map(base => base * scale);\n  const [x, y] = offset;\n\n  const viewBox = `${x} ${y} ${baseW} ${baseH}`;\n  const width = `${scaledW}px`;\n  const height = `${scaledH}px`;\n\n  return { viewBox, width, height }\n}","import \"../styles/Logo.css\"\n\nimport { getSvgSizeObj } from '../helpers/imageHelpers'\n\nexport default function Logo(props) {\n  const { className, hareOnly, scale = 1 } = props;\n\n  const baseWidth = 77;\n  const baseHeight = hareOnly ? 48 : 65\n\n  const sizeAttributes = getSvgSizeObj(scale, [baseWidth, baseHeight])\n\n  return (\n    <div className={className}>\n      <svg {...sizeAttributes}\n      >\n        <path\n          d=\"m 57.361851,0.00779235 c -4.01701,0.004 -8.06578,0.19957 -11.98118,1.16335995 -4.78258,0.8796 -9.74801,1.1765 -14.25797,3.14795 -3.09877,1.19352 -6.29356,2.46094 -8.7127,4.81844 -2.7705,2.2294797 -5.60536,4.3862397 -8.32466,6.6743997 -1.40146,0.78769 -2.99375,1.2529 -4.2156301,2.33883 -2.65423,1.86781 -5.22584,4.00714 -6.91635,6.82183 -1.19926,1.11653 -1.52069,3.39482 -0.0633,4.4392 1.14,0.81447 2.47709,1.30863 3.83306,1.62628 2.01304,-0.11472 4.0149701,-0.36991 6.0275101,-0.49143 1.77655,2.23261 3.04142,4.80663 4.40433,7.29772 0.64946,1.21874 -0.25521,2.46118 -1.51411,2.6308 -1.64442,0.46517 -3.28844,-0.29321 -4.92681,-0.42153 -3.3331601,-0.54907 -7.0894401,-0.42228 -9.88205011,1.70372 -1.35316,0.52871 -0.94367,2.25694 0.42280001,2.36933 1.81457,0.30455 3.54713,1.40282 5.44632,1.02542 4.9009101,-0.12947 9.8662201,-0.034 14.6694601,-1.16597 2.42444,0.0281 4.83772,0.38118 7.26575,0.26066 5.15597,-0.0215 10.30789,0.40165 15.46354,0.25118 1.0775,-0.38501 2.03638,0.0291 2.72619,0.86285 2.2857,1.65921 5.2125,2.0065 7.95871,2.07466 2.36194,-0.10072 4.72233,-0.61928 6.85706,-1.64948 0.54924,-0.79125 1.47448,-0.83249 2.33141,-0.69274 3.00451,0.0239 6.19737,0.20899 8.95937,-1.18298 1.73172,-0.95122 3.00509,-2.71784 3.21745,-4.69904 0.4238,-2.23848 0.65319,-4.81244 -0.73532,-6.77443 -1.154,-0.73141 -2.65814,0.0563 -3.88979,0.25806 -0.7944,0.20144 -1.42317,1.18492 -1.91994,1.44538 -1.97553,-1.86041 -3.65461,-4.28702 -6.35613,-5.14173 -3.70559,-1.50739 -7.49919,-3.18272 -11.5784,-3.16668 -4.4822,-0.17203 -9.12094,0.0336 -13.32085,1.74874 -1.15076,0.53642 -1.80113,1.99815 -3.22896,1.81025 -0.98667,0.0139 -2.1518,0.48663 -2.51515,-0.74805 -1.14654,-1.4998 -2.85301,-2.52208 -4.6766,-2.96616 1.89085,-1.73694 4.5842,-1.85861 6.99555,-2.19144 3.94803,-0.27759 7.40536,-2.38347 10.79623,-4.22948 1.84268,-1.04937 3.83523,-1.79162 5.67607,-2.84334 3.18858,-1.66937 6.32016,-3.45256 9.32789,-5.42998 1.38248,-0.78013 3.01035,-0.89313 4.56019,-0.83627 0.80497,-0.005 3.14619,-0.068 2.31047,-1.3126997 -0.85229,-0.56304 -1.87789,-0.84804 -2.86493,-1.09406 -2.92585,-0.61054 -5.92423,-0.20053 -8.88318,-0.33529 -1.33872,0.33717 -0.13302,-1.40167 0.0578,-1.98966 0.96719,-1.89075 2.61018,-3.31646 4.32477,-4.51316995 0.45331,-1.25911 -1.45856,-0.79823 -2.20669,-0.89482 -0.22039,-2e-5 -0.44086,7.9e-4 -0.66118,0.001 z m -1.84718,1.52054995 c -2.07027,1.58057 -3.34944,4.00999 -3.92327,6.51519 -2.26634,0.71083 -4.65987,0.83327 -6.97211,1.3363 -3.50647,0.50854 -7.04454,1.0347697 -10.37484,2.2950497 -3.79102,1.19153 -7.28448,3.33446 -10.00061,6.24259 -0.96349,0.91609 -2.0655,1.70665 -2.84949,2.79563 0.82199,0.75625 2.3656,0.4527 3.25073,0.11744 2.36241,-1.91581 4.35696,-4.29008 7.00151,-5.84978 4.38352,-2.72918 9.52375,-3.90235 14.59819,-4.48859 3.13754,-0.5661197 6.26336,-1.2223397 9.41382,-1.7015397 2.00829,-0.0865 4.02412,0.0118 6.01563,0.28352 -1.66207,0.30713 -3.47483,0.51521 -4.76802,1.7211997 -3.39045,2.23193 -6.98134,4.14837 -10.58296,6.00746 -3.92449,1.47143 -7.21317,4.45604 -11.40713,5.22587 -2.88723,0.39207 -5.81743,0.81946 -8.51264,1.98241 -0.82909,0.65003 -2.74272,1.42207 -2.21036,2.66804 0.82435,0.54629 1.89909,0.53577 2.7622,1.04115 1.29249,0.5971 2.43576,1.58348 3.0745,2.87022 1.01644,0.71336 2.32989,0.16624 3.47565,0.28809 1.72819,-0.0996 3.53372,0.11044 5.19353,-0.45158 1.1247,-0.74386 1.86716,-2.08433 3.27201,-2.369 2.78981,-1.16397 5.86948,-0.70111 8.80272,-0.67326 3.97674,0.24988 7.59229,2.07977 11.19225,3.62042 1.73863,1.14374 3.14838,2.6984 4.5137,4.2502 0.29847,0.96488 -0.11625,2.09014 -0.73993,2.83665 -1.11832,1.33001 -2.22119,2.67487 -3.24344,4.08081 -1.38246,-1.27382 -1.87513,-3.20964 -3.23085,-4.51269 -1.913,-2.27026 -3.94119,-4.49018 -6.38898,-6.1968 -0.99529,-0.46795 -3.21539,-0.78062 -3.22995,0.79238 0.0888,1.48717 1.08473,3.05195 0.26477,4.4924 -1.21004,1.31607 -2.95718,1.96683 -4.51226,2.78964 -1.21562,0.74771 -2.59063,1.23989 -4.03129,1.24509 -3.12787,-0.0112 -6.33407,0.096 -9.3557,-0.85714 -1.48665,-0.44939 -2.87612,-1.14683 -4.23652,-1.88379 -0.83777,-0.47921 -1.79459,-0.32288 -2.67529,-0.0958 -0.6819,0.0251 -1.25028,0.58275 -0.83676,1.20625 -0.31002,1.82039 -1.99921,3.09189 -3.73103,3.44583 -4.30082,1.31904 -8.84919,0.8659 -13.2780201,0.98997 -1.26633,-0.0872 -2.39871,-0.7235 -3.61751,-1.01452 1.04829,-0.78244 2.37176,-1.63369 3.732,-1.18219 3.4993601,0.52572 7.1927501,1.30556 10.6380201,0.0811 1.18583,-0.61006 2.72924,-1.26239 2.96032,-2.7459 -0.46526,-2.52759 -2.26556,-4.47764 -3.34839,-6.73783 -0.90275,-1.44498 -1.81697,-2.8873 -2.86469,-4.23303 -1.41655,-0.22397 -2.74882,0.53257 -3.80994,1.38872 -1.5909901,0.83692 -3.3855201,-0.0286 -4.8210501,-0.79279 -1.10258,-0.47242 -0.97964,-1.92798 -0.1981,-2.63597 1.57739,-2.42276 3.53709,-4.63764 5.9903601,-6.20103 1.45991,-1.04578 2.96079,-2.0997 4.68625,-2.65728 2.23358,-1.78108 4.34572,-3.7157 6.68929,-5.35658 2.46401,-1.9284097 4.75177,-4.2598997 7.7968,-5.2545997 4.28821,-1.91026 8.87702,-3.12162 13.54568,-3.59989 3.46805,-0.5604 6.9352,-1.36469 10.46951,-1.26038 0.0996,0.0212 0.9521,-0.16887 0.41169,0.14231 z m 17.36865,33.3068697 c 0.0367,2.30536 0.3497,4.86675 -1.08692,6.85558 -1.03919,1.30947 -2.73655,2.20449 -4.43547,1.93817 -0.77409,-0.0357 -2.35655,0.006 -2.63063,-0.31995 1.44068,-0.682 1.91811,-2.3697 3.11885,-3.33132 1.65015,-1.74184 3.51339,-3.27865 5.03417,-5.14248 z m -18.65857,1.63553 c 1.89376,1.84451 3.36743,4.07325 4.60172,6.39918 1.14731,0.66685 0.28648,1.98917 -0.58412,2.41876 -1.7177,0.90563 -3.75229,0.60871 -5.54983,0.13333 -1.57252,-0.41737 -3.28366,-1.11929 -4.12892,-2.59456 -0.60015,-1.22762 -0.006,-2.8826 1.30953,-3.34283 1.45745,-0.81343 3.27245,-1.63389 3.7069,-3.41383 -0.0339,-0.51019 0.49391,0.38559 0.64472,0.39995 z\"\n        />\n        <path\n          d=\"m 12.329021,22.078982 c -1.53898,-0.19975 -2.9326201,0.99592 -3.4488701,2.37371 1.03832,0.74091 2.3559401,-0.0447 3.5171501,0.20167 1.10195,-0.23557 1.81943,-1.32642 2.49593,-2.09479 -0.19378,-1.02995 -1.86981,-0.23781 -2.56421,-0.48059 z\"\n        />\n        { !hareOnly && <path\n          d=\"m 41.320781,53.934512 c -1.40125,0.78499 -1.74836,2.50759 -2.81328,3.61549 -0.54628,0.52518 -1.12113,2.32572 -1.85898,1.1312 -0.99802,-1.0459 -1.42941,-2.52936 -2.47688,-3.51771 -1.05875,-0.45875 -2.22973,-0.60244 -3.30927,-1.01111 -1.00454,0.34948 -1.46107,1.68494 -2.24136,2.43888 -0.72305,0.77802 -1.3659,2.08327 -2.17983,2.50056 -1.28091,-0.86629 -2.00461,-2.27914 -3.01922,-3.40477 -1.53291,-0.42713 -3.13117,-0.52765 -4.71406,-0.58619 -1.23892,0.37568 -0.78236,2.05893 -1.65531,2.82457 -0.53006,0.56784 -1.25698,1.56753 -1.88229,1.65653 -1.04478,-1.21346 -1.77582,-2.71889 -3.09471,-3.67928 -1.55435,-0.14566 -3.0901001,-0.46848 -4.6527101,-0.52851 -0.95407,0.82512 -1.33418,2.16121 -2.4715,2.81253 -1.24373,0.96895 -2.76247,1.45994 -4.21143001,2.02862 -0.52278,0.89239 1.31170001,0.81997 1.89302001,1.01211 2.36823,0.30118 4.73041,-0.52072 6.74571,-1.71431 1.0553301,1.08072 1.8212801,2.49002 3.1791401,3.24085 1.97214,0.13451 4.01717,-0.0199 5.87244,-0.73258 1.0757,-0.53612 1.81234,-1.53666 2.82566,-2.1632 1.13214,0.76403 1.84709,1.96098 2.79884,2.91321 1.8464,1.09668 4.1529,0.17238 5.62525,-1.13985 0.89454,-0.36716 1.6536,-1.38208 2.27333,-1.7991 1.96495,1.67864 4.53365,2.97082 7.18297,2.61568 1.7278,-0.57505 2.8921,-2.07087 3.97931,-3.44579 1.10633,0.83674 2.06865,2.1019 3.55441,2.21905 1.94462,0.78768 4.06283,0.29677 6.08162,0.20851 0.64608,-0.41299 1.55284,-2.06258 2.1616,-0.69412 1.18284,1.41226 3.19601,1.18788 4.84478,1.18443 1.32356,-0.094 2.76166,0.29071 3.98817,-0.36572 0.93274,-0.6761 1.95892,-1.22012 2.90053,-1.8892 1.21219,1.00965 2.47732,1.96052 3.82504,2.78277 1.46934,-0.28286 3.02681,-0.0991 4.43605,-0.67576 0.0567,-1.06956 -1.55488,-1.28159 -2.13541,-2.05824 -1.44175,-1.16132 -2.76005,-2.63955 -3.21549,-4.47847 0.14008,-1.18198 -1.39882,-0.37674 -2.05677,-0.47105 -1.14293,0.0913 -2.30712,-0.0929 -3.43396,0.17663 -0.59929,2.03753 -1.93267,4.01717 -3.9945,4.77686 -0.92214,-0.59454 -1.28493,-1.90533 -1.80722,-2.87819 -0.34563,-1.29888 -1.6878,-1.39474 -2.78254,-1.63421 -1.08069,-0.2315 -2.18366,-0.4016 -3.29198,-0.36773 -0.27593,0.98221 0.72671,2.3642 -0.66327,2.90621 -0.91095,0.58095 -2.25552,1.95606 -3.08972,0.60435 -1.09768,-1.02434 -2.11666,-2.14674 -2.9248,-3.41632 -1.13714,-0.26061 -2.30091,-0.40997 -3.39498,-0.83283 -0.26022,-0.0762 -0.52479,-0.14653 -0.7964,-0.1648 z\"\n        />}\n      </svg>\n    </div>\n  )\n}","// Router components\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport Container from \"react-bootstrap/Container\"\nimport Navbar from \"react-bootstrap/Navbar\"\nimport Nav from \"react-bootstrap/Nav\"\nimport Button from \"react-bootstrap/Button\"\nimport '../styles/Header.css';\n\nimport Logo from '../components/Logo'\n\nexport default function Header(props) {\n  const { username, handleLogout } = props;\n\n  return(\n    <Navbar className=\"navbar\" variant=\"dark\" expand=\"sm\">\n      <Container>\n        <LinkContainer to=\"/schedule\">\n          <Navbar.Brand href=\"/\"><Logo className=\"nav-logo\" scale=\"0.75\"/></Navbar.Brand>\n        </LinkContainer>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"me-auto\">\n            <LinkContainer to=\"/schedule\"><Nav.Link>Schedule</Nav.Link></LinkContainer>\n            <LinkContainer to=\"/projects\"><Nav.Link>Projects</Nav.Link></LinkContainer>\n            <LinkContainer to=\"/sessions\"><Nav.Link>Sessions</Nav.Link></LinkContainer>\n            <LinkContainer to=\"/reports\"><Nav.Link>Reports</Nav.Link></LinkContainer>\n          </Nav>\n          <Navbar.Text>\n            <span className=\"me-2\">Logged in as {username}</span>\n            <Button onClick={handleLogout}>Logout</Button>\n          </Navbar.Text>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  )\n}","import '../styles/StatusBar.css';\n\nexport default function StatusBar(props) {\n  const { currentProject, projects = []} = props;\n\n  const loading = !projects;\n  const tracking = projects[currentProject]\n\n  const bgColor = () => {\n    if (tracking) return 'bg-success text-light';\n    if (!tracking) return 'bg-secondary text-light';\n  }\n\n  return (\n    <div className={`statusBar ${bgColor()}`}>\n      { loading &&\n        `Loading...`\n      }\n      { tracking &&\n        `Currently tracking ${projects[currentProject].title}`\n      }\n      { currentProject && !projects[currentProject] &&\n        `ERROR: Trying to track project ID ${currentProject}, but it was not found.`\n      }\n      { !currentProject &&\n        `Not currently tracking`\n      }\n    </div>\n  )\n}","import { useState } from 'react';\n\nexport default function useControlledForms(fields) {\n  const [formValues, setFormValues] = useState(fields)\n\n  const handleFormChange = event => {\n    event.preventDefault();\n    setFormValues(prev => {\n      const newVals = {...prev};\n      newVals[event.target.id] = event.target.value;\n      return newVals;\n    })\n  }\n\n  return [formValues, handleFormChange, setFormValues]\n}","import axios from 'axios';\nimport useControlledForms from '../hooks/useControlledForms';\n\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nexport default function Login(props) {\n\n  const { login } = props;\n\n  const [formValues, handleFormChange] = useControlledForms({\n    formLoginUsername: \"\",\n    formLoginPassword: \"\"\n  });\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const { formLoginUsername, formLoginPassword } = formValues;\n    axios.post(`/api/auth/login`, {username: formLoginUsername, rawPassword:formLoginPassword})\n         .then(res => login(res.data.username))\n  }\n\n  return (\n    <Form className=\"loginForm\" >\n      <h4>Login</h4>\n      <Form.Group className=\"mb-3\" controlId=\"formLoginUsername\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control onChange={handleFormChange} type=\"text\" placeholder=\"Username\" />\n      </Form.Group>\n      <Form.Group className=\"mb-3\" controlId=\"formLoginPassword\">\n        <Form.Label>Password</Form.Label>\n        <Form.Control onChange={handleFormChange} type=\"password\" placeholder=\"Password\" />\n      </Form.Group>\n      <Button variant=\"success\" type=\"submit\" onClick={handleSubmit}>\n        Submit\n      </Button>\n    </Form>\n  )\n}","import axios from 'axios';\nimport useControlledForms from '../hooks/useControlledForms';\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nexport default function Register(props) {\n\n  const { login } = props;\n\n  const [formValues, handleFormChange] = useControlledForms({\n    formRegisterUsername: \"\",\n    formRegisterPassword: \"\"\n  });\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const { formRegisterUsername, formRegisterPassword } = formValues;\n    axios.post(`/api/users`, {username: formRegisterUsername, rawPassword: formRegisterPassword})\n         .then(res => login(res.data.username))\n  }\n\n  return (\n    <Form className=\"registerForm\">\n      <h4>Register</h4>\n      <Form.Group className=\"mb-3\" controlId=\"formRegisterUsername\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control onChange={handleFormChange} type=\"text\" placeholder=\"Username\" />\n      </Form.Group>\n      <Form.Group className=\"mb-3\" controlId=\"formRegisterPassword\">\n        <Form.Label>Password</Form.Label>\n        <Form.Control onChange={handleFormChange} type=\"password\" placeholder=\"Password\" />\n      </Form.Group>\n      <Button variant=\"success\" type=\"submit\" onClick={handleSubmit}>\n        Create account\n      </Button>\n    </Form>\n  )\n}","import { useState } from 'react'\n\nimport Login from './Login'\nimport Register from './Register'\nimport Logo from './Logo';\n\nimport '../styles/Authentication.css';\n\nexport default function Authentication(props) {\n  const {login} = props\n\n  const [showLogin, setShowLogin] = useState(true)\n\n  const authComponent = showLogin ? <Login login={login} /> : <Register login={login} />;\n  const switchMsg = showLogin ? \"Don't have an account yet?\" : \"Already have a Capensis account?\";\n  const buttonMsg = showLogin ? \"Make one!\" : \"Sign in!\";\n\n  const handleSwitch = event => {\n    event.preventDefault();\n    document.activeElement.blur(); // Clear focus from the button\n    setShowLogin(!showLogin)\n  }\n\n  return (\n    <div className=\"authentication\">\n      <div id=\"auth_welcome\">\n        <div className=\"app_name\">\n          <Logo className=\"auth-logo\" hareOnly scale={2}/>\n          <p>Capensis</p>\n        </div>\n        <p id=\"app_description\">A super simple scheduler and time-tracker.</p>\n      </div>\n      <section id=\"auth_body\">\n        { authComponent }\n\n        <div className=\"authentication_switch\">\n          <p className=\"text-muted\">{switchMsg}</p>\n          <button onClick={handleSwitch}>{buttonMsg}</button>\n        </div>\n      </section>\n    </div>\n  )\n}","const SETTINGS = {\n  LANGUAGES: {\n    EN_US: \"EN_US\"\n  }\n}\n\nexport default SETTINGS;","\nconst msDayMultiplier = 1000*60*60*24;\n\n// Given a Date object, return a Date object of the last Sunday.\nexport function getLastSunday(date) {\n  // Get Sunday for this week.\n  const daysSinceSunday = date.getDay(); // Returns 0 for sunday, 1 for Monday, etc\n  const msSinceSunday = msDayMultiplier * daysSinceSunday;\n  const lastSundayMs = date.valueOf() - msSinceSunday;\n  return new Date(lastSundayMs);\n}\n\nexport function getNextSaturday(date) {\n  const daysUntilSaturday = 6 - date.getDay();\n  const msUntilSaturday = msDayMultiplier * daysUntilSaturday;\n  const nextSaturdayMs = date.valueOf() + msUntilSaturday;\n  return new Date(nextSaturdayMs);\n}\n\nexport function getTimeIntervalUnits(start, end) {\n  const startMs = new Date(start).valueOf();\n  const endMs = new Date(end).valueOf();\n  const ms = endMs - startMs;\n  const sRemaining = Math.floor(ms / 1000);\n  const s = sRemaining % 60;\n  const minsRemaining = (sRemaining - s) / 60;\n  const m = minsRemaining % 60;\n  const h = (minsRemaining - m) / 60;\n\n  return [h, m, s]\n}\n\nexport function getHM24(time) {\n  const obj = new Date(time);\n  let h, m;\n  h = obj.getHours();\n  m = obj.getMinutes();\n  return [h, m];\n}\n\n/**\n * Returns the hour, minute, and offset for the input time in 12h format.\n * @param {*} time The time to convert\n * @param {Boolean} noonZero (optional) Indicates if noon should be returned as a zero value with a 12-hour offset\n * @returns {Array} The hour, minute, and offset (0 for AM, 12 for PM)\n */\nexport function getHMO12(time, noonZero) {\n  const obj = new Date(time);\n  const h24 = obj.getHours();\n  let h, m, hOffset;\n  h = to12H(h24);\n  m = obj.getMinutes();\n  hOffset = h24 > 12 ? 12 : 0;\n  if (noonZero && h24 === 0) {\n    return [0, m, 0]\n  }\n  if (noonZero && h24 === 12) {\n    return [0, m, 12];\n  }\n  return [h, m, hOffset];\n}\n\n\n\n// Turn an arbitrary number of input arguments to their 12h versions\nexport function to12H() {\n  const result = Array.from(arguments).map(hour => {\n    if (hour === 0) {\n      return 12;\n    }\n    if (hour > 12) {\n      return hour - 12;\n    }\n    return hour\n  })\n\n  return result.length === 1 ? result[0] : result;\n}\n\n// Set h/min/s/ms of a given date to 0.\nexport function makeZeroDate(date) {\n  date.setHours(0);\n  date.setMinutes(0);\n  date.setSeconds(0);\n  date.setMilliseconds(0);\n  return date;\n}\n\nexport function makeNoonDate(date) {\n  date.setHours(12);\n  date.setMinutes(0);\n  date.setSeconds(0);\n  date.setMilliseconds(0);\n  return date;\n}\n\nexport function minutesSinceMidnight (hours, minutes) {\n  return (hours * 60) + minutes;\n}\n\n// Internal helper function to allow getBoundaryMinutes to handle different options\nfunction getFormValuesBoundaryMinutes(values) {\n  const startHours = Number(values.startHour) + Number(values.startAMPM);\n  const startMinutes = Number(values.startMinute)\n  const endHours = Number(values.endHour) + Number(values.endAMPM);\n  const endMinutes = Number(values.endMinute)\n  const startMins = minutesSinceMidnight(startHours, startMinutes);\n  const endMins = minutesSinceMidnight(endHours, endMinutes);\n  return [startMins, endMins]\n}\n\nfunction getBlockBoundaryMinutes(block) {\n  const start = new Date(block.start_time);\n  const end = new Date(block.end_time);\n  const startMins = minutesSinceMidnight(start.getHours(), start.getMinutes())\n  const endMins = minutesSinceMidnight(end.getHours(), end.getMinutes())\n  return [startMins, endMins]\n}\n\nexport function getBoundaryMinutes({values, block}) {\n  if (values) return getFormValuesBoundaryMinutes(values);\n  if (block) return getBlockBoundaryMinutes(block)\n}\n\nexport function getFifteenMinuteUnits(start, end) {\n  const startDate = new Date(start);\n  const endDate = new Date(end);\n  const lengthHours = endDate.getHours() - startDate.getHours();\n  const lengthMins = (endDate.getMinutes() - startDate.getMinutes()) + (lengthHours * 60)\n  const fifteenMinuteUnits = lengthMins / 15;\n  return fifteenMinuteUnits;\n}\n\n// Determines if a block's start_time date matches the input date.\nexport function blockIsOnDay(block, day) {\n  return new Date(block.start_time).getDate() === day.getDate();\n}","import { getLastSunday, getNextSaturday, getHM24, to12H } from './timeHelpers'\nimport STRINGS from '../constants/strings'\n\n/**\n * Returns the input string with all spaces replaced with non-breaking spaces.\n */\nexport function makeNonBreaking(str) {\n  return str.split(\" \").join(String.fromCharCode(160));\n}\n\n// Gives time in H:MM AM/PM format, for humans to read.\nexport function makeTimeString(time) {\n  if (time.length === 5) {\n    const timeArr = time.split(\":\");\n    let h = Number(timeArr[0]);\n    let amPm = h >= 12 ? \"pm\" : \"am\"\n\n    // turn 0h (12am) into 12h\n    if (h === 0) timeArr[0] = 12;\n\n    // -12 hours if we're at 13:00 or onward\n    if (h > 12) timeArr[0] = (h -12);\n    return `${timeArr.join(\":\")} ${amPm}`\n  }\n  return new Date(time).toLocaleTimeString([], { hour: 'numeric', minute: '2-digit'})\n}\n\n// Give time in HH:MM without AM or PM.\nexport function makeHHMMTimeString(time) {\n  time = time || Date.now();\n  return new Date(time).toLocaleTimeString([],\n    {\n      hourCycle: \"h23\",\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n}\n\nexport function makeWeekDayString(lang, time) {\n  if (!lang || !time) {\n    return \"\";\n  }\n  return new Date(time).toLocaleDateString(lang, { weekday: 'long' });\n}\n\nexport function makeShortWeekdayString(lang, time) {\n  if (!lang || !time) {\n    return \"\";\n  }\n  return new Date(time).toLocaleDateString(lang, { weekday: 'short' });\n}\n\nexport function makeDateString(lang, time) {\n  if (!lang || !time) {\n    return \"\";\n  }\n  return new Date(time).toLocaleDateString(lang, { month: 'long', year: 'numeric', day:'numeric' });\n}\n\nexport function makeShortDateString(lang, time) {\n  if (!lang || !time) {\n    return \"\";\n  }\n  return new Date(time).toLocaleDateString(lang, { month: '2-digit', year: '2-digit', day:'numeric' });\n}\n\nexport function makeWeekString(lang, time) {\n  if (!lang || !time) {\n    return \"\";\n  }\n  const sun = getLastSunday(time);\n  const sat = getNextSaturday(time);\n\n  const sunStr = sun.toLocaleDateString(lang, { month: 'long', day:'numeric' });\n  const satStr = sat.toLocaleDateString(lang, { month: 'long', day: 'numeric' });\n\n  return(`${makeNonBreaking(sunStr)}  ${makeNonBreaking(satStr)}`)\n}\n\nexport function makeDurationFromHHMM(start, end) {\n  // Get numbers from HH:MM strings\n  const [startH, startM] = start.split(':').map(str => Number(str))\n  const [endH, endM] = end.split(':').map(str => Number(str))\n  let h = endH - startH;\n  let m = endM - startM;\n  // Account for negative minutes value\n  // e.g. 2h -40m becomes 1h 20m (same number of minutes but in normal time terms)\n  if (m < 0) {\n    h--;\n    m += 60;\n  }\n  const hours = h ? `${h}h ` : '';\n  const mins = `${m}m`\n  return hours + mins\n}\n\n// Takes in a 24h hour and returns AM or PM.\nexport function amOrPm(hour) {\n  return hour < 12 ? \"am\" : \"pm\"\n}\n\n/* Return an array containing the two AM/PM strings to add to\n  the start and end of a time interval.\n*/\nexport function intervalAMPM(hour1, hour2) {\n  if (amOrPm(hour1) === amOrPm(hour2)) {\n    return [\"\", amOrPm(hour1)];\n  }\n  return [\"am\", \"pm\"]\n}\n\nexport function makeShortIntervalString(start, end) {\n  const [startH24, startM] = getHM24(start);\n  const [endH24, endM] = getHM24(end);\n  const [AMPM1, AMPM2] = intervalAMPM(startH24, endH24);\n  const [startH12, endH12] = to12H(startH24, endH24);\n\n  const startStr = `${startH12}${startM ? \":\" + startM : \"\"}${AMPM1}`\n  const endStr = `${endH12}${endM ? \":\" + endM : \"\"}${AMPM2}`\n  return `${startStr}  ${endStr}`\n}\n\nexport function makeErrorString(errorType, errorData, LANG) {\n  return STRINGS[LANG].NEW_BLOCK_VALIDATION[errorType](errorData)\n}","import { makeTimeString } from '../../../helpers/stringHelpers'\n\nconst EN_US = {\n  TAG: \"EN-US\",\n  NEW_BLOCK_VALIDATION: {\n    conflicts: (conflicts) => {\n      const conflictList = conflicts.map(conflict => {\n        const {title, start_time, end_time} = conflict.block;\n        const startStr = makeTimeString(start_time)\n        const endStr = makeTimeString(end_time)\n        return `${title}, ${startStr} - ${endStr}`\n      })\n      conflictList.length && conflictList.unshift(\"That time conflicts with other block(s):\");\n      return conflictList;\n    },\n    noProject: () => \"You must select a project.\",\n    endBeforeStart: () => \"That block would end on or before its start time.\"\n  },\n  FORM_VALID: \"Looks good!\",\n  FORM_ERRORS: \"The following errors were found:\",\n  FORM_EDITING: \"Edit Block\",\n  FORM_NEW: \"Schedule New Block\"\n}\n\nexport default EN_US;","import EN_US from './languages/EN-US'\n\nconst STRINGS = {\n  EN_US,\n}\n\nexport default STRINGS;","/**\n * Returns true if the input is a truthy value or an array or object with length > 0.\n * @param {*} a The value you to check.\n * @returns {boolean} True if a is truthy or is an array/object with length > 0, false otherwise.\n */\nexport function truthyOrLengthy(a) {\n  // If falsy, return false.\n  if (!a) return false;\n  // If array, check its length.\n  if (Array.isArray(a)) return a.length > 0;\n  // If object, check the number of values.\n  if (typeof a === 'object') return Object.values(a).length > 0;\n\n  // If it's not falsy and it's not an array or object, return true.\n  return true;\n}","import { Fragment } from 'react'\n\nexport function makeErrorTag(errorString, index) {\n  return (\n  <li key={`e${index}`} className=\"form-text text-muted\">\n    <small>{ errorString }</small>\n  </li>\n  )\n}\n\n/**\n *  Returns a nested <ul> structure from an array of errors, which can also contain arrays of sub-errors.\n * @param {Array} e A list of errors to turn into a single <ul> element.\n * @param {String} h The header text for the error list or sub-list.\n * @param {Boolean} recursive Do not set.\n */\nexport const makeErrorList = function() {\n  let i = 0;\n  const makeErrorListRecurs = (errors, header, recursive) => {\n    return (\n      <Fragment key={i++}>\n        {!recursive && <small>{header}</small>}\n        { recursive && makeErrorTag(header)}\n        <ul className=\"error_list\">\n          { errors.map((e, i) => {\n            if(Array.isArray(e)) return makeErrorListRecurs(e.slice(1), e[0], true);\n            return makeErrorTag(e,i);\n          })}\n        </ul>\n      </Fragment>\n    )\n  }\n  const starter = (e, h) => makeErrorListRecurs(e, h)\n  return starter;\n}();\n\n/**\n * Creates drop-down option tags for the hours of the day\n */\nexport function makeHoursOptions() {\n  const optionsList = [];\n  for(let hour = 1; hour <= 12; hour++) {\n    // The 12 hour should display as 12, but has a value of 0 for time calculations.\n    // The PM value accounts for the 12-hour offset for noon.\n    // (i.e. 12:00 AM is 00:00 (0 hours for '12' + 0 hours for 'AM'\n    //  and 12:00 PM is 12:00 (0 hours for '12', 12 hours for 'PM'))\n    optionsList.push(\n      <option\n        value={hour === 12 ? 0 : hour}\n        key={hour === 12 ? 0 : hour}\n      >\n          {hour}\n      </option>)\n  }\n  return optionsList;\n}\n\n/**\n * Creates a selectable drop-down list from an object of projects\n * @param {Object} projects\n */\nexport function makeProjectOptions(projects) {\n  return Object.values(projects)\n    .reverse()\n    .map(project => (\n      <option value={project.id} key={project.id}>{project.title}</option>\n    ))\n};","import Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\n\nimport SETTINGS from '../constants/settings';\nimport STRINGS from '../constants/strings';\n\nimport { truthyOrLengthy } from '../helpers/boolHelpers';\nimport { makeErrorString } from '../helpers/stringHelpers';\nimport { makeErrorList, makeHoursOptions, makeProjectOptions } from '../helpers/tagHelpers'\n\nimport '../styles/modal.css'\nimport '../styles/BlockFormModal.css'\n\nconst LANG = SETTINGS.LANGUAGES.EN_US;\n\nexport default function BlockFormModal(props) {\n  const {\n    currentDay,\n    projects = {},\n    state,\n    actions\n  } = props;\n\n  const { errors = {}, show, showErrors, valid, values = {}, editing } = state || {};\n  const { submit, close, change } = actions || {};\n\n  const currentDateText = currentDay && currentDay.toDateString();\n\n  // Populate the list of errors.\n  const errorStrings = Object.keys(errors)\n    .filter(key => truthyOrLengthy(errors[key])) // Strip out empty errors\n    .map(key => makeErrorString(key, errors[key], LANG))\n  const errorList = makeErrorList(errorStrings, STRINGS[LANG].FORM_ERRORS)\n\n  const projectOptions = makeProjectOptions(projects)\n  const hoursOptions = makeHoursOptions();\n\n  const title = editing ? STRINGS[LANG].FORM_EDITING : STRINGS[LANG].FORM_NEW\n\n  return (\n    <Modal className=\"block_form_modal\" show={show} onHide={close} centered>\n      <Modal.Header closeButton>\n        <Modal.Title>{title}</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <form className=\"block_form\" onSubmit={submit}>\n          <fieldset>\n            <legend>Date:</legend><strong>{currentDateText}</strong>\n          </fieldset>\n          <fieldset>\n            <legend>Project:</legend>\n            <label className=\"visually-hidden\" htmlFor=\"project\">Project:</label>\n            <select className=\"form-select\" name=\"project\" id=\"project\" value={values.project} onChange={change}>\n              <option value=\"\">Select a project</option>\n              {projectOptions}\n            </select>\n          </fieldset>\n          <fieldset>\n            <legend>Starting at:</legend>\n            <ul>\n              <label className=\"visually-hidden\" htmlFor=\"startHour\">Start hour</label>\n              <select className=\"form-select\" name=\"startHour\" id=\"startHour\" value={values.startHour} onChange={change}>\n                {hoursOptions}\n              </select>\n              <label className=\"visually-hidden\" htmlFor=\"startMinute\">Start minute</label>\n              <select className=\"form-select\" name=\"startMinute\" id=\"startMinute\" value={values.startMinute} onChange={change}>\n                <option>00</option>\n                <option>15</option>\n                <option>30</option>\n                <option>45</option>\n              </select>\n              <label className=\"visually-hidden\" htmlFor=\"startAMPM\">Start AM/PM</label>\n              <select className=\"form-select\" name=\"startAMPM\" id=\"startAMPM\" value={values.startAMPM} onChange={change}>\n                <option value=\"0\">AM</option>\n                <option value=\"12\">PM</option>\n              </select>\n            </ul>\n          </fieldset>\n          <fieldset>\n            <legend>Ending at:</legend>\n            <ul>\n              <label className=\"visually-hidden\" htmlFor=\"endHour\">End hour</label>\n              <select className=\"form-select\" name=\"endHour\" id=\"endHour\" value={values.endHour} onChange={change}>\n                {hoursOptions}\n              </select>\n              <label className=\"visually-hidden\" htmlFor=\"endMinute\">End minute</label>\n              <select className=\"form-select\" name=\"endMinute\" id=\"endMinute\" value={values.endMinute} onChange={change}>\n                <option>00</option>\n                <option>15</option>\n                <option>30</option>\n                <option>45</option>\n              </select>\n              <label className=\"visually-hidden\" htmlFor=\"endAMPM\">End AM/PM</label>\n              <select className=\"form-select\" name=\"endAMPM\" id=\"endAMPM\" value={values.endAMPM} onChange={change}>\n                <option value=\"0\">AM</option>\n                <option value=\"12\">PM</option>\n              </select>\n            </ul>\n          </fieldset>\n          { showErrors &&\n              <section>\n                {valid ?\n                  <small>{STRINGS[LANG].FORM_VALID}</small>\n                  :\n                  errorList\n                }\n              </section>\n            }\n        </form>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={close}>\n          Close\n        </Button>\n        <Button\n          variant=\"primary\"\n          onClick={submit}>\n          Submit\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n","import Button from 'react-bootstrap/Button';\nimport PropTypes from 'prop-types'\nimport '../styles/PageHeader.css'\n\nfunction PageHeader({ nav, back, forward, title, subtitle, actions }) {\n\n  // Make any action buttons passed in through props\n  const actionButtons = Object.keys(actions).map(label => (\n    <Button key={label} size=\"sm\" onClick={actions[label]}>\n      {label}\n    </Button>\n  ))\n\n  return(\n    <header className=\"page_header p-1\">\n      <div>\n        {nav &&\n        <nav>\n          <Button\n          variant=\"info\"\n          onClick={back}>\n          {`<`}\n          </Button>\n          <Button\n            variant=\"info\"\n            onClick={forward}>\n            {`>`}\n          </Button>\n        </nav>\n        }\n        <div className=\"page_header_title\">\n          <h3>{title}</h3>\n          {subtitle && <small className=\"text-muted\">{subtitle}</small>}\n        </div>\n      </div>\n      <div className=\"page_header_actions\">\n        { actionButtons.length !== 0 && actionButtons }\n      </div>\n    </header>\n  )\n}\n\nPageHeader.propTypes = {\n  title: PropTypes.string,\n  subtitle: PropTypes.string,\n  nav: PropTypes.bool,\n  back: PropTypes.func,\n  forward: PropTypes.func,\n  actions: PropTypes.objectOf(PropTypes.func),\n}\n\nPageHeader.defaultProps = {\n  title: \"Untitled Page\",\n  actions: {}\n}\n\nexport default PageHeader;","import { getSvgSizeObj } from '../helpers/imageHelpers'\n\nimport '../styles/IconButton.css'\n\nexport default function IconButton(props) {\n  const {fill, dimensions, offset, scale = 1, onClick} = props;\n\n  const path = props.children;\n\n  const sizeAttributes = getSvgSizeObj(scale, dimensions, offset)\n\n  return (\n    <button className={\"icon-button\"} onClick={onClick}>\n      <svg fill={fill} {...sizeAttributes}>\n        {path}\n      </svg>\n    </button>\n  )\n}","import '../styles/Block.css'\nimport classNames from 'classnames'\nimport { makeShortIntervalString } from '../helpers/stringHelpers'\nimport { getHMO12 } from '../helpers/timeHelpers'\n\nimport IconButton from './IconButton'\nimport axios from 'axios'\n\nexport default function Block(props) {\n  const { id, title, spacer, length, start_time, end_time, toggle, edit, refreshData } = props;\n\n  const interval = makeShortIntervalString(start_time, end_time);\n\n  // Is this block a placeholder?\n\n  const lengthStr = spacer ? \"1rem\" : `${length}rem`\n\n  const blockClass = classNames(\"block\", \"list-group-item\", {\n    spacer,\n    project: !spacer,\n    tiny: length === 1,\n    short: length === 2,\n    \"hour-end\": spacer &&\n                getHMO12(end_time)[1] === 0, // if we're a spacer and end-time minutes are 0\n    \"hour-start\": spacer &&\n                getHMO12(start_time)[1] === 0,\n  });\n\n  const handleClick = spacer ? (e) => {e.preventDefault()} : toggle\n\n  const handleEdit = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    edit();\n  }\n\n  const handleDelete = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    axios.delete(`/api/blocks/${id}`)\n      .then(refreshData)\n  }\n\n  return(\n    <li\n      id={id}\n      className={blockClass}\n      style={{height: lengthStr}}\n      onClick={handleClick}\n    >\n        {!spacer &&\n        <>\n          <div className={\"block-body\"}>\n            <p>{title}</p>\n            <span className=\"text-muted\">{interval}</span>\n          </div>\n          <div className={\"block-controls\"}>\n            <IconButton\n              fill=\"green\"\n              dimensions={[24, 24]}\n              onClick={handleEdit}>\n              <path d=\"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z\"/>\n            </IconButton>\n            <IconButton\n              fill=\"red\"\n              dimensions={[24, 24]}\n              onClick={handleDelete}>\n              <path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"/>\n            </IconButton>\n          </div>\n        </>\n        }\n    </li>\n  )\n}","import '../styles/BlockList.css'\nimport Block from './Block'\n\nimport { getFifteenMinuteUnits } from '../helpers/timeHelpers'\n\nexport default function BlockList(props) {\n  const { blocks, day, toggleSession, editBlock, refreshData } = props;\n\n  const blocksForDay = blocks && day &&\n    blocks\n    .map(block => (\n      <Block\n        {...block}\n        edit={() => editBlock(block)}\n        key={block.id}\n        spacer={block.project_id === -1}\n        toggle={() => toggleSession(block.project_id)}\n        length={getFifteenMinuteUnits(block.start_time, block.end_time)}\n        refreshData={refreshData}\n      />\n    ))\n\n  return (\n    <div className = \"blockList\">\n      <ul className=\"list-group list-group-flush\">\n        { blocksForDay }\n      </ul>\n    </div>\n  )\n}","import '../styles/ScheduleBar.css'\nimport { amOrPm } from '../helpers/stringHelpers'\nimport { to12H } from '../helpers/timeHelpers'\n\nexport default function ScheduleBar(props) {\n\n  const startHour = 0;\n  const endHour = 24;\n\n  const ScheduleBarSection = props => {\n    const { hour } = props;\n    return (\n      <li className=\"ScheduleBarSection list-group-item text-muted\"\n        key={hour}>\n        { to12H(hour) }{ amOrPm(hour)}\n      </li>\n    )\n  }\n\n  /* Creates the divs that show time of day for a schedule.\n  start: int, first hour of the schedule\n  end: int, last hour of the schedule\n  */\n  const  makeScheduleElements = (start, end) => {\n    const numSections = end - start;\n    const sections = new Array(numSections)\n      .fill(undefined) // Gotta do this first, or .map won't actually do anything\n      .map((e, index) => <ScheduleBarSection key={index} hour={start + index} />);\n    return sections;\n  }\n\n  return (\n    <ul className=\"ScheduleBar list-group list-group-flush\">\n      {makeScheduleElements(startHour, endHour)}\n    </ul>\n  )\n}","import '../styles/DaySchedule.css';\n\nimport PageHeader from '../components/PageHeader'\nimport BlockList from './BlockList'\nimport ScheduleBar from './ScheduleBar'\nimport { useEffect, useState } from 'react';\n\n// Helpers\nimport { \n  makeTimeString,\n  makeWeekDayString,\n  makeDateString } from '../helpers/stringHelpers'\n\n// Constants\nimport SETTINGS from '../constants/settings'\nimport STRINGS from '../constants/strings'\n\nexport default function DaySchedule(props) {\n  const LANG = STRINGS[SETTINGS.LANGUAGES.EN_US].TAG;\n\n  // Props:\n  // blocks is an array of Block components.\n  const {\n    blocks,\n    day,\n    goToTomorrow,\n    goToYesterday,\n    newBlock,\n    editBlock,\n    toggleSession,\n    refreshData\n  } = props;\n\n  const [blocksWithPlaceholders, setBlocksWithPlaceholders] = useState([]);\n\n  const dayString = makeWeekDayString(LANG, day)\n  const dateString = makeDateString(LANG, day)\n  const earliestHour = 0;\n  const latestHour = 23;\n  const latestMinutes = 59;\n\n  // Generate placeholder blocks for this day, for padding out the schedule\n  useEffect(() => {\n    const newBlocks = [];\n    let currentTime = new Date(day);\n    currentTime.setHours(earliestHour);\n    const finalTime = new Date(day);\n    finalTime.setHours(latestHour, latestMinutes);\n\n    // Create all placeholder blocks that occur before the current Block\n    blocks.forEach(block => {\n      const blockDate = new Date(block.start_time);\n\n      while(currentTime < blockDate) {\n        // Make the placeholder block data\n        const placeholderBlock = {\n          id: `p${currentTime.getHours()}${currentTime.getMinutes() || \"00\"}`,\n          title: makeTimeString(currentTime),\n          project_id: -1,\n          start_time: currentTime.toISOString()\n        }\n        // Advance the time by 15 minutes\n        currentTime.setMinutes(currentTime.getMinutes() + 15);\n        // Add the ending time to the placeholder block\n        placeholderBlock.end_time = currentTime.toISOString();\n        // Add placeholder to newBlocks\n        newBlocks.push(placeholderBlock);\n      }\n\n      // Put the current Block in newBlocks in its spot\n      newBlocks.push(block)\n      // Update the currentTime to be the end of the current block\n      currentTime = new Date(block.end_time)\n    })\n\n    // Finally, fill in any placeholders that go after the final block of the day\n    while(currentTime < finalTime) {\n      // Make the placeholder block data\n      const placeholderBlock = {\n        id: `p${currentTime.getHours()}${currentTime.getMinutes() || \"00\"}`,\n        title: makeTimeString(currentTime),\n        project_id: -1,\n        start_time: currentTime.toISOString()\n      }\n      // Advance the time by 15 minutes\n      currentTime.setMinutes(currentTime.getMinutes() + 15);\n      // Add the ending time to the placeholder block\n      placeholderBlock.end_time = currentTime.toISOString();\n      // Add placeholder to newBlocks\n      newBlocks.push(placeholderBlock);\n    }\n\n    setBlocksWithPlaceholders(newBlocks)\n  }, [blocks, day])\n\n  const headerActions = {\n    \"New Block\": newBlock\n  }\n\n  return(\n    <div className=\"daySchedule\">\n      <PageHeader\n        nav\n        back={goToYesterday}\n        forward={goToTomorrow}\n        title={dayString}\n        subtitle={dateString}\n        actions={headerActions}\n      />\n      <div className=\"dayScheduleInternal mt-1\">\n        <ScheduleBar />\n        <BlockList\n          blocks={blocksWithPlaceholders}\n          day={day}\n          toggleSession={toggleSession}\n          refreshData={refreshData}\n          editBlock={editBlock}\n        />\n      </div>\n    </div>\n  )\n}","export default function WeekSchedule(props) {\n\n  return (\n    <div>\n      <p>WeekSchedule component</p>\n    </div>\n  )\n}","export default function ProjectListItem(props) {\n  const { id, title, selected, onEditClick, onCancelClick, onSubmit, formValue, handleChange } = props;\n\n  return (\n    <li key={id} className=\"list-group-item d-flex justify-content-between bg-light\">\n      <span><strong>{title}</strong></span>\n      { selected &&\n        <form className=\"row row-cols-sm-auto g-3 align-items-center\" onSubmit={onSubmit}>\n          <div className=\"col-12\">\n            <label className=\"visually-hidden\" htmlFor=\"newName\">New name: </label>\n            <input\n              type=\"text\"\n              className=\"form-control form-control-sm\"\n              id=\"newName\"\n              value={formValue}\n              onChange={handleChange}\n            ></input>\n          </div>\n          <div className=\"col-12\">\n          <button className=\"btn btn-sm btn-secondary\">Submit</button>\n          </div>\n          <div className=\"col-12\">\n              <button className=\"btn btn-sm btn-danger\" onClick={onCancelClick}>Cancel</button>\n            </div>\n        </form>\n      }\n      { !selected &&\n        <button\n          className=\"btn btn-sm btn-info\" onClick={onEditClick}>Rename</button>\n      }\n    </li>\n  )\n}","import axios from 'axios';\nimport { useState } from 'react'\n\nimport PageHeader from '../components/PageHeader'\nimport ProjectListItem from './ProjectListItem'\n\nimport '../styles/ProjectList.css'\n\nexport default function ProjectList(props) {\n  const { projects, setProjects } = props;\n\n  const [selectedProject, setSelectedProject] = useState(null);\n  const [formValue, setFormValue] = useState(null);\n  const [showNewProjectForm, setShowNewProjectForm] = useState(false);\n  const [newProjectFormValue, setNewProjectFormValue] = useState(\"\");\n\n  const newProject = () => {\n    setShowNewProjectForm(true);\n  }\n\n  const handleSubmit = (event, id) => {\n    event.preventDefault();\n    const title = formValue !== null ? formValue : projects[id].title;\n    setSelectedProject(null);\n    setFormValue(null);\n    const newProject = {...projects[id], title};\n    setProjects(prev => ({\n      ...prev,\n      [id]: newProject\n    }))\n    axios.patch(`/api/projects/${id}`, { title })\n  }\n\n  const handleCancel = event => {\n    event.preventDefault();\n    setSelectedProject(null);\n  }\n\n  const handleChange = event => {\n    setFormValue(event.target.value);\n  }\n\n  const handleNewProjectFormChange = event => {\n    setNewProjectFormValue(event.target.value);\n  }\n\n  const handleNewProjectSubmit = event => {\n    event.preventDefault();\n    axios.post(`/api/projects`, { projectTitle: newProjectFormValue })\n         .then(res => {\n           const newProject = res.data;\n           setProjects(prev => ({\n             ...prev,\n             [newProject.id]: newProject\n           }))\n         })\n         .then(() => {\n          setNewProjectFormValue(\"\");\n          setShowNewProjectForm(false)\n         })\n  }\n\n  const handleNewProjectCancel = event => {\n    event.preventDefault();\n    setNewProjectFormValue(\"\");\n    setShowNewProjectForm(false)\n  }\n\n  const projectItems = projects && Object.values(projects).map(project => (\n    <ProjectListItem\n      {...project}\n      key={project.id}\n      selected={ project.id === selectedProject}\n      onEditClick={() => setSelectedProject(project.id)}\n      onCancelClick={handleCancel}\n      onSubmit={(event) => handleSubmit(event, project.id)}\n      handleChange={handleChange}\n      formValue={formValue === null ? project.title : formValue}\n    />\n  ))\n\n  const headerActions = {\n    \"New Project\": newProject\n  }\n\n  return (\n    <div className=\"projects\">\n      <PageHeader\n        title=\"Projects\"\n        actions={headerActions}\n      />\n\n      <ul className=\"list-group\">\n        {projectItems}\n      </ul>\n      <div className=\"newProject\">\n        { showNewProjectForm &&\n          <form className=\"row row-cols-lg-auto g-3\" onSubmit={handleNewProjectSubmit}>\n            <div className=\"col-12\">\n              <label className=\"visually-hidden\" htmlFor=\"newProject\">New project name:</label>\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                id=\"newProject\"\n                value={newProjectFormValue}\n                onChange={handleNewProjectFormChange}\n              ></input>\n            </div>\n            <div className=\"col-12\">\n              <button className=\"btn btn-success\" type=\"submit\">Submit</button>\n            </div>\n            <div className=\"col-12\">\n              <button className=\"btn btn-danger\" type=\"button\" onClick={handleNewProjectCancel}>Cancel</button>\n            </div>\n          </form>\n        }\n      </div>\n    </div>\n\n  )\n}","export function delayAction(callback = () => {}, delay = 500) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(callback())\n    }, delay)\n  })\n}","const STATUSES = {\n  NEW: \"new\",\n  ACTIVE: \"active\",\n  STABLE: \"stable\",\n  EDITING: \"editing\",\n  LOADING: \"loading\",\n  DELETING: \"deleting\",\n  CONFIRM: \"confirm\",\n  SUCCESS: \"success\",\n  FAILURE: \"failure\",\n  PROJECT: \"project\",\n}\n\nexport default STATUSES;","import Button from 'react-bootstrap/Button'\nimport '../styles/TabButton.css'\n\nexport default function TabButton(props) {\n  return <Button className=\"tab\" {...props}>{props.children}</Button>\n}","import '../styles/SuccessIcon.css'\n\nexport default function SuccessIcon(props) {\n  return (\n    <div className=\"success-icon\">\n      <span className=\"visually-hidden\">Success!</span>\n    </div>\n  )\n}","import { forwardRef, useRef, useImperativeHandle } from 'react'\nimport ListGroupItem from 'react-bootstrap/ListGroupItem'\nimport classNames from 'classnames'\n\nimport { makeDurationFromHHMM, makeWeekDayString, makeDateString, makeTimeString } from '../../helpers/stringHelpers'\n\nimport STATUSES from '../../constants/statuses'\n\nimport TabButton from '../TabButton'\nimport Loading from '../Loading'\nimport SuccessIcon from '../SuccessIcon'\n\nimport '../../styles/SessionItem.css'\n\nconst LANG = \"EN-US\"\n\nfunction PureSessionItem (props, ref) {\n  const {\n    status,\n    title,\n    project,\n    active,\n    start,\n    end,\n    refDay,\n    onChange,\n    submit,\n    deleteItem,\n    setStatus,\n    handleToggle\n  } = props;\n\n  const scrollRef = useRef(null);\n  const inputRef = useRef(null);\n\n  useImperativeHandle(ref, () => ({\n    focusTime: () => {\n      inputRef.current.focus();\n    },\n    scroll: () => {\n      scrollRef.current.scrollIntoView(false);\n    }\n  }));\n\n  const duration = `${makeDurationFromHHMM(start, end)}${active ? \", active\" : \"\"}`;\n  const weekday = makeWeekDayString(LANG, refDay);\n  const date = makeDateString(LANG, refDay);\n\n  // Statuses and their components\n  const statusComponents = {\n    active: <TabButton variant=\"outline-dark\" size=\"sm\" onClick={handleToggle}>Stop</TabButton>,\n    stable: (\n      <>\n      <TabButton variant=\"outline-secondary\" size=\"sm\" onClick={() => setStatus(STATUSES.EDITING)}>Edit</TabButton>\n      <TabButton variant=\"outline-danger\" size=\"sm\" onClick={deleteItem}>Delete</TabButton>\n      </>\n    ),\n    editing: (\n      <>\n        <TabButton onClick={submit} variant=\"success\" size=\"sm\" type=\"submit\">Save</TabButton>\n        <TabButton onClick={() => setStatus(STATUSES.STABLE)} variant=\"danger\" size=\"sm\" >Cancel</TabButton>\n      </>\n    ),\n    loading: <Loading iconOnly>Saving...</Loading>,\n    deleting: \"\",\n    success: <SuccessIcon />,\n    failure: \"Submit failed.\"\n  }\n\n  const outerClassName = classNames(\"session-item\", {\n    [status]: true,\n    active,\n    project\n  })\n\n  return (\n    <ListGroupItem as=\"a\" {...(project && {onClick: handleToggle})} className={outerClassName}>\n      <div ref={scrollRef} className=\"session-item-content\">\n        {project && <strong className=\"session-item-title\">{title}</strong>}\n        { project ?\n         <span className=\"text-muted\">Click to start tracking</span>\n        :\n        <>\n        <div className=\"session-item-date\">\n            <strong>{weekday}</strong>\n            <span className=\"text-muted\">{date}</span>\n        </div>\n        <div className=\"session-item-time\">\n          {/* If we're in the editing status, show the form. Otherwise, just display the times. */}\n          {status === STATUSES.EDITING ?\n            <form>\n              <fieldset>\n                <label htmlFor=\"start\">Start</label>\n                <input ref={inputRef} id=\"start\" type=\"time\" onChange={onChange} value={start}/>\n              </fieldset>\n              <fieldset>\n                <label htmlFor=\"end\">End</label>\n                <input id=\"end\" type=\"time\" onChange={onChange} value={end}/>\n                <span className=\"text-muted\">({duration})</span>\n              </fieldset>\n            </form>\n            :\n            <>\n              <span>{makeTimeString(start)} to {makeTimeString(end)}</span>\n              <span className=\"text-muted\">({duration})</span>\n            </>\n          }\n        </div>\n        </>\n        }\n      </div>\n      <div className={`session-item-status ${status}`}>\n        {statusComponents[status]}\n      </div>\n  </ListGroupItem>)\n  }\n\n// eslint-disable-next-line no-func-assign\nexport default PureSessionItem = forwardRef(PureSessionItem);","import { useEffect, useState, useRef } from 'react'\nimport axios from 'axios'\n\n// Helpers\nimport { delayAction } from '../../helpers/timingHelpers'\nimport { makeHHMMTimeString, } from '../../helpers/stringHelpers'\n\n// Hooks\nimport useControlledForms from '../../hooks/useControlledForms'\n\n// Components\nimport PureSessionItem from './PureSessionItem'\n\n// Constants\nimport STATUSES from '../../constants/statuses'\n\nexport default function SessionItem(props) {\n  const {\n    id,\n    start_time,\n    end_time,\n    refreshData,\n    checkListDelete,\n    title = \"\",\n    toggle\n  } = props;\n  const [status, setStatus] = useState(STATUSES.NEW);\n  const [times, handleTimeChange, setTimes] = useControlledForms({\n    start: makeHHMMTimeString(start_time),\n    end: makeHHMMTimeString(end_time)\n  })\n  const sessionItemRef = useRef(null)\n\n  const active = start_time && !end_time;\n  const project = !start_time && !end_time;\n\n  // If this is an \"active\" session, set the status to \"active\" after the load animation.\n  // Otherwise, set it to stable.\n  useEffect(() => {\n    const statusTimer = active ?\n      setTimeout(() => setStatus(STATUSES.ACTIVE), 500)\n      :\n      setTimeout(() => setStatus(STATUSES.STABLE), 500)\n    return function cleanup() {\n      clearTimeout(statusTimer)\n    }\n  }, [active])\n\n  // When the incoming times change, update the state.\n  // This usually happens if refreshData fires outside the context of these\n  // components.\n  useEffect(() => {\n    setTimes({\n      start: makeHHMMTimeString(start_time),\n      end: makeHHMMTimeString(end_time)\n    })\n    end_time && status !== STATUSES.SUCCESS && setStatus(STATUSES.STABLE)\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [start_time, end_time])\n\n  useEffect(() => {\n    document.activeElement.blur();\n    status === STATUSES.EDITING && sessionItemRef.current.focusTime();\n  }, [status])\n\n  const handleSubmit = (event, id) => {\n    event.preventDefault();\n    // Validate the times\n    const [startH, startM] = times.start.split(\":\");\n    const [endH, endM] = times.end.split(\":\");\n    const start = new Date(start_time);\n    const end = new Date(start_time);\n    start.setHours(startH, startM);\n    end.setHours(endH, endM);\n    if (start < end) {\n      // Update the submitting state\n      setStatus(() => STATUSES.LOADING)\n      axios.patch(`/api/sessions/${id}`, {start_time: start.toISOString(), end_time: end.toISOString()})\n        .then(() => delayAction(refreshData)) // Give the submitting animation time to run\n        .then(() => sessionItemRef.current.scroll())\n        .then(() => setStatus(STATUSES.SUCCESS))\n        .then(() => delayAction(() => setStatus(STATUSES.STABLE), 2500))\n        .catch(() => setStatus(STATUSES.ERROR))\n    }\n  }\n\n  const handleDelete = (event, id) => {\n    event.preventDefault();\n    axios.delete(`/api/sessions/${id}`)\n      .then(() => {\n        setStatus(STATUSES.DELETING)\n        checkListDelete()\n      })\n      .then(() => delayAction(refreshData)) // Gives the delete animation time to run\n      .catch(() => setStatus(STATUSES.ERROR))\n  }\n\n  const handleToggle = event => {\n    event.preventDefault();\n    if (project) {\n      toggle(id)\n      setStatus(STATUSES.DELETING)\n    }\n    if (active) {\n      toggle()\n      setStatus(STATUSES.STABLE)\n    }\n  }\n\n  return (\n    <PureSessionItem\n      status={status}\n      title={title}\n      active={active}\n      project={project}\n      refDay={start_time}\n      start={times.start}\n      end={times.end}\n      onChange={handleTimeChange}\n      submit={(e) => handleSubmit(e, id)}\n      deleteItem={(e) => handleDelete(e, id)}\n      handleToggle={handleToggle}\n      setStatus={setStatus}\n      ref={sessionItemRef}\n    >\n    </PureSessionItem>\n  )\n}","import {useState} from 'react'\n\nimport '../../styles/SessionList.css'\nimport classNames from 'classnames'\n\nimport ListGroup from 'react-bootstrap/ListGroup'\n\nimport SessionItem from './SessionItem'\nimport STATUSES from '../../constants/statuses'\n\nexport default function SessionList(props) {\n  const { title, sessions, refreshData, toggleSession } = props;\n\n  const [status, setStatus] = useState();\n\n  // Allows SessionItems to delete this list if they're the last one to delete\n  const checkDelete = () => {\n    if (sessions.length === 1) setStatus(STATUSES.DELETING);\n  }\n\n  const sessionList = sessions.map(session => {\n    return (\n      <SessionItem\n        {...session}\n        key = {session.id}\n        toggle = {toggleSession}\n        refreshData = {refreshData}\n        checkListDelete = {checkDelete}\n      />\n    )\n  })\n\n  const className = classNames(\"session-item\", \"header\", {\n    [status]: true\n  })\n\n  return (\n    <ListGroup className=\"session-list\">\n      <ListGroup.Item className={className}>\n      { title }\n      </ListGroup.Item>\n      { sessionList }\n    </ListGroup>\n  )\n}","export function projectsWithSessions(projects, sessions) {\n  return Object.values(projects)\n    .filter(project => projectHasSessions(project, sessions))\n}\n\nexport function projectsWithoutSessions(projects, sessions) {\n  return Object.values(projects)\n    .filter(project => !projectHasSessions(project, sessions))\n}\n\nexport function projectHasSessions(project, sessions) {\n  return sessions\n  .filter(session => session.project_id === project.id)\n  .length > 0;\n}","import SessionList from './SessionList'\nimport PageHeader from '../PageHeader'\n\nimport { makeWeekString } from '../../helpers/stringHelpers'\nimport { projectsWithSessions, projectsWithoutSessions } from '../../helpers/projectHelpers'\n\nimport '../../styles/SessionsPage.css'\n\nexport default function Sessions (props) {\n  const {\n    day,\n    sessions=[],\n    projects=[],\n    toggleSession,\n    refreshData,\n    lastWeek,\n    nextWeek } = props;\n\n  const sessionListsByProject = projectsWithSessions(projects, sessions)\n    .map(project => (\n      <SessionList\n      key={project.id}\n      title={project.title}\n      sessions={sessions.filter(session => session.project_id === project.id)}\n      refreshData={refreshData}\n      toggleSession={toggleSession}\n      />\n    ))\n\n  const untrackedProjects = projectsWithoutSessions(projects, sessions)\n\n  return (\n    <section className={`sessions`}>\n      <PageHeader\n        nav\n        back={lastWeek}\n        forward={nextWeek}\n        title=\"Sessions\"\n        subtitle={makeWeekString('EN-US', day)}\n      />\n      <article>\n        { sessionListsByProject }\n        { untrackedProjects.length > 0 &&\n          <SessionList\n            title={\"Untracked Projects\"}\n            sessions={untrackedProjects}\n            refreshData={refreshData}\n            toggleSession={toggleSession}\n          />\n        }\n      </article>\n    </section>\n  )\n}","import '../styles/ReportItem.css'\nimport '../styles/ProgressBar.css'\n\nexport default function ProgressBar(props) {\n  const { color, style, percent, overfilled } = props;\n  const background = color.clone();\n  background.alpha = .25; // Lighten the background color\n\n  const outerBarStyle = {\n    backgroundColor: `${background.toString()}`\n  }\n\n  const innerBarStyle = {\n    backgroundColor: color.toString(),\n    width: percent\n  }\n\n  return (\n    <div className={`progressbar-outer ${style} ${overfilled}`}\n         style={outerBarStyle}>\n      <div className={`progressbar-inner ${style} ${overfilled}`}\n        style={innerBarStyle}>\n        </div>\n    </div>\n  )\n}","import Color from 'colorjs.io';\n\nconst COLORS = {\n  RED: new Color('#ff0000'),\n  GREEN: new Color('#00ff00'),\n  BLUE: new Color('#0000ff'),\n  PURPLE: new Color('#ff00ff'),\n  EGYPT_BLUE: new Color('#1034A6')\n}\n\nexport default COLORS;","export function percent(num, denom) {\n  const percent = (num/denom) * 100;\n  return Math.round(percent*10) / 10;\n}\n\n// Fudge the numbers a bit for CSS width-niceness.\nexport function fudgePercentage(percent) {\n  if (percent < 1) return 1;\n  if (percent === 100) return 101;\n  return percent;\n}","import '../styles/ReportItem.css';\n\nimport ProgressBar from './ProgressBar'\n\nimport COLORS from '../constants/colors'\n\n// Helpers\nimport { percent, fudgePercentage } from '../helpers/numberHelpers'\n\nexport default function ReportItem(props) {\n  const {color = COLORS.EGYPT_BLUE, title, progress, goal} = props\n\n  const style = color.lightness > 30 ? \"light\" : \"dark\";\n\n  const overfilled = progress > goal;\n  const overfilledStr = overfilled ? 'overfilled' : '';\n\n  const rawWidth = overfilled ? percent(goal, progress) : percent(progress, goal);\n  const progressPercent = `${fudgePercentage(rawWidth)}%`;\n\n  const headerWidth = overfilled ? progressPercent : \"100%\";\n  const footerWidth = overfilled ? \"100%\" : progressPercent;\n\n  const projectStyle = {\n    backgroundColor: color.toString(),\n  }\n\n  return (\n    <div className={`report-item ${style} ${overfilledStr}`}>\n      <div className=\"report-item-header\" style={{width: headerWidth}}>\n        <p className={`report-item-project ${style}`} style={projectStyle}>\n          <strong>{title}</strong>\n        </p>\n        <p className=\"report-item-goal\">\n          <small><strong>Goal:</strong> {goal} hours</small>\n        </p>\n      </div>\n      <ProgressBar color={color} overfilled={overfilledStr} style={style} percent={progressPercent} />\n      <p className=\"report-item-footer\" style={{width: footerWidth}}>\n        <small><strong>Tracked:</strong> {Math.round(progress*100)/100} hours</small>\n      </p>\n    </div>\n  )\n}\n","import axios from \"axios\"\nimport { useEffect, useState } from \"react\"\n\nimport '../styles/Report.css';\n\nimport Loading from './Loading'\nimport PageHeader from './PageHeader'\nimport ReportItem from './ReportItem'\n\nimport { makeWeekString } from '../helpers/stringHelpers'\n\nexport default function Report(props) {\n  const { projects, day, lastWeek, nextWeek } = props;\n\n  const [reportData, setReportData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState();\n\n  useEffect(() => {\n    axios.get(`/api/reports/week?date=${day.toISOString()}`)\n         .then(res => setReportData(res.data))\n         .catch(err => setError(err))\n         .finally(() => setLoading(false))\n\n  }, [projects, day])\n\n  const report = reportData.map(project => {\n    // Totals are returned in seconds.\n    const { project_id, sessions_total, blocks_total } = project\n    const projectName = projects[project_id] && projects[project_id].title;\n    const secondsToHours = 1/(60*60);\n    const sessionHours = (sessions_total * secondsToHours) || 0\n    const blockHours = (blocks_total * secondsToHours) || 0\n    return (\n      <ReportItem\n        key={project_id}\n        title={projectName}\n        progress={sessionHours}\n        goal={blockHours}\n      />\n    )\n  })\n\n  return (\n    <div className=\"report\">\n      <PageHeader\n        nav\n        back={lastWeek}\n        forward={nextWeek}\n        title=\"Report\"\n        subtitle={`${makeWeekString('EN-US', day)}, ${day.getFullYear()}`}\n      />\n      {loading && <Loading>Loading report...</Loading>}\n      {!loading && error && <p>{error.message}</p>}\n      {!loading && !error && reportData.length > 0 && (\n        <ul>\n          {report}\n        </ul>\n        )}\n      {!loading && !error && !reportData.length && (\n      <div className=\"report-empty\">\n        <p>You don't have anything scheduled this week!</p>\n      </div>)}\n    </div>\n  )\n}","import '../styles/Footer.css'\nimport github_logo_light from '../assets/github_logo_light.png'\n\nconst repoLink = \"https://github.com/itspladd/capensis\"\n\nexport default function Footer() {\n  return(\n    <div id=\"footer\">\n      <p>Created by <a href=\"https://pladd.dev\">Paul Ladd</a></p>\n      <div>\n        <p>Hosted on <a href={repoLink}>Github</a></p>\n        <a href={repoLink}>\n          <img src={github_logo_light} alt=\"GitHub logo\"/>\n        </a>\n      </div>\n    </div>\n  )\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwOUY4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwOUU4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJBOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJCOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jUqS1wAAApVJREFUeNq0l89rE1EQx3e3gVJoSPzZeNEWPKgHoa0HBak0iHiy/4C3WvDmoZ56qJ7txVsPQu8qlqqHIhRKJZceesmhioQEfxTEtsoSpdJg1u/ABJ7Pmc1m8zLwgWTmzcw3L+/te+tHUeQltONgCkyCi2AEDHLsJ6iBMlgHL8FeoqokoA2j4CloRMmtwTmj7erHBXPgCWhG6a3JNXKdCiDl1cidVbXZkJoXQRi5t5BrxwoY71FzU8S4JuAIqFkJ2+BFSlEh525b/hr3+k/AklDkNsf6wTT4yv46KIMNpsy+iMdMc47HNWxbsgVcUn7FmLAzzoFAWDsBx+wVP6bUpp5ewI+DOeUx0Wd9D8F70BTGNjkWtqnhmT1JQAHcUgZd8Lo3rQb1LAT8eJVUfgGvHQigGp+V2Z0iAUUl8QH47kAA1XioxIo+bRN8OG8F/oBjwv+Z1nJgX5jpdzQDw0LCjsPmrcW7I/iHScCAEDj03FtD8A0EyuChHgg4KTlJQF3wZ7WELppnBX+dBFSVpJsOBWi1qiRgSwnOgoyD5hmuJdkWCVhTgnTvW3AgYIFrSbZGh0UW/Io5Vp+DQoK7o80pztWMemZbgxeNwCNwDbw1fIfgGZjhU6xPaJgBV8BdsMw5cbZoHsenwYFxkZzl83xTSKTiviCAfCsJLysH3POfC8m8NegyGAGfLP/VmGmfSChgXroR0RSWjEFv2J/nG84cuKFMf4sTCZqXuJd4KaXFVjEG3+tw4eXbNK/YC9oXXs3O8NY8y99L4BXY5cvLY/Bb2VZ58EOJVcB18DHJq9lRsKr8inyKGVjlmh29mtHs3AHfuhCwy1vXT/Nu2GKQt+UHsGdctyX6eQyNvc+5sfX9Dl7Pe2J/BRgAl2CpwmrsHR0AAAAASUVORK5CYII=\"","import axios from 'axios';\nimport { useState, useEffect, useCallback } from 'react';\n\nexport default function useSessionTracking(username, refreshData) {\n  const [currentId, setCurrentId] = useState(null);\n  const [currentProject, setCurrentProject] = useState(null);\n\n  const extractResponse = res => {\n    const array = [...res.data]\n    if (!array.length) return {};\n    if (array.length === 1) return array[0];\n    if (array.length > 1) return array;\n  }\n\n  const updateSession = useCallback(\n    res => {\n      const { id = null, project_id = null } = extractResponse(res);\n      setCurrentId(id);\n      setCurrentProject(project_id);\n    },\n    []\n  )\n\n  const clearSession = () => {\n    setCurrentProject(null);\n    setCurrentId(null);\n  }\n\n  useEffect(() => {\n    // When the username changes, ping the server to see if there's an open session.\n    // If there is, load it into the state.\n    axios.get(`/api/sessions/current`)\n         .then(updateSession)\n  }, [username, updateSession])\n\n  const startTracking = project_id => {\n    return axios.post(`/api/sessions`, { project_id })\n      .then(updateSession)\n      .then(refreshData)\n  }\n\n  const stopTracking = () => {\n    return axios.patch(`/api/sessions`, { id: currentId })\n      .then(clearSession)\n      .then(refreshData)\n  }\n\n  const toggleSession = project_id => {\n    // If there's a new project id input, we're starting a new session.\n    const differentProject = project_id && (project_id !== currentProject);\n\n    // If we have a session running already, ping the API to stop it.\n    currentId && stopTracking()\n\n    // If we're toggling a new project, start tracking the new project.\n    differentProject && startTracking(project_id)\n  }\n\n  return [currentProject, toggleSession];\n}","import { useState } from 'react'\nimport axios from 'axios'\n\nimport useControlledForms from './useControlledForms'\nimport useNewBlockValidation from './useNewBlockValidation'\n\nimport { getBoundaryMinutes, getHMO12 } from '../helpers/timeHelpers'\n\nconst defaultFormValues = {\n  project: \"\",\n  startHour: \"6\",\n  startMinute: \"00\",\n  startAMPM: \"0\",\n  endHour: \"6\",\n  endMinute: \"00\",\n  endAMPM: \"0\"\n}\n\nexport default function usePopupBlockForm(blocks, currentDay, refreshData) {\n\n  const [show, setShow] = useState(false);\n  const [blockId, setBlockId] = useState(null);\n  const [showErrors, setShowErrors] = useState(false);\n  const [values, handleChange, setValues] = useControlledForms(defaultFormValues);\n\n  // Remove the currently-editing block (if we have one) from the list of conflicts\n  const [errors, formIsValid] = useNewBlockValidation(values, blocks, currentDay, blockId)\n\n  const showModal = () => setShow(true);\n  const closeModal = () => setShow(false);\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (!formIsValid) {\n      setShowErrors(true);\n    } else {\n      setShowErrors(false);\n      // Turn the raw values into ISO strings to send\n      const [startMins, endMins] = getBoundaryMinutes({values});\n      const startDate = new Date(currentDay);\n      const endDate = new Date(currentDay);\n      startDate.setHours(0, startMins);\n      endDate.setHours(0, endMins);\n      const startTime = startDate.toISOString();\n      const endTime = endDate.toISOString();\n      const blockData = { startTime, endTime, project: values.project };\n\n      const method = blockId ? axios.patch : axios.post;\n      method(`/api/blocks/${blockId || \"\"}`, blockData)\n           .then(refreshData)\n           .then(closeModal)\n    }\n  }\n\n  const newBlock = () => {\n    setValues(defaultFormValues);\n    setBlockId(null);\n    showModal();\n  }\n\n  const editBlock = block => {\n    const { id, start_time, end_time, project_id } = block;\n    const [startHour, startMinute, startAMPM] = getHMO12(start_time, true)\n    const [endHour, endMinute, endAMPM] = getHMO12(end_time, true)\n    setValues({\n      startHour,\n      startMinute,\n      startAMPM,\n      endHour,\n      endMinute,\n      endAMPM,\n      project: project_id\n    })\n    setBlockId(id);\n    showModal();\n  }\n\n  const state = {\n    show,\n    values,\n    errors,\n    showErrors,\n    editing: !!blockId,\n    valid: formIsValid\n  }\n\n  const actions = {\n    new: newBlock,\n    edit: editBlock,\n    close: closeModal,\n    change: handleChange,\n    submit: handleSubmit\n  }\n\n  return [state, actions]\n}","import { useEffect, useState } from 'react';\n\nimport { blockIsOnDay, getBoundaryMinutes } from '../helpers/timeHelpers'\nimport { truthyOrLengthy } from '../helpers/boolHelpers'\n\nexport default function useNewBlockValidation(values, blocks, currentDay, currentBlockId) {\n\n  const [errors, setErrors] = useState({})\n  const [formIsValid, setFormIsValid] = useState(false)\n  // If the values, blocks, or current day change, re-validate everything.\n  useEffect(() => {\n    const [newBlockStart, newBlockEnd] = getBoundaryMinutes({ values })\n\n    /* Turns a block into an object as follows:\n    { block: the block in question,\n      start: bool, true if block conflicts with start time value\n      end: bool, true if block conflicts with end time value\n    }\n    */\n    const makeConflictObject = block => {\n      const [blockStartMins, blockEndMins] = getBoundaryMinutes({ block });\n      const badStart = (newBlockStart >= blockStartMins &&\n        newBlockStart < blockEndMins)\n      const badEnd = (newBlockEnd > blockStartMins &&\n        newBlockEnd <= blockEndMins);\n      return { block, start: badStart, end: badEnd };\n    }\n\n    const potentialConflicts = blocks\n      .filter(block => blockIsOnDay(block, currentDay))\n      .filter(block => block.id !== currentBlockId)\n\n    // Get a single conflict object (if it exists)\n    // See previous function for object structure\n    const conflicts = potentialConflicts\n      .map(makeConflictObject)\n      .filter(conflict => conflict.start || conflict.end);\n\n    // If there are any validation errors, store them in an object.\n    const newErrors = {\n      noProject: !values.project, // True if no project is selected\n      endBeforeStart: newBlockStart >= newBlockEnd, // True if end time is earlier than start time\n      conflicts\n    };\n\n    setErrors(newErrors)\n  }, [values, blocks, currentDay, currentBlockId])\n\n  useEffect(() => {\n    const valid = Object.values(errors).filter(truthyOrLengthy).length === 0;\n    setFormIsValid(valid);\n  }, [errors])\n\n\n  return [errors, formIsValid]\n}","import '../styles/App.css';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\n\n// Router components\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\n// Components\nimport Loading from './Loading'\nimport Header from './Header';\nimport StatusBar from './StatusBar';\nimport Authentication from './Authentication'\n\nimport BlockFormModal from './BlockFormModal';\nimport DaySchedule from './DaySchedule';\nimport WeekSchedule from './WeekSchedule';\nimport ProjectList from './ProjectList';\nimport Sessions from './SessionComponents/Sessions';\nimport Report from './Report';\nimport Footer from './Footer';\n\n// Custom hooks\nimport useDay from '../hooks/useDay';\nimport useWeek from '../hooks/useWeek';\nimport useAuthentication from '../hooks/useAuthentication'\nimport useWeeklyData from '../hooks/useWeeklyData';\nimport useSessionTracking from '../hooks/useSessionTracking';\nimport usePopupBlockForm from '../hooks/usePopupBlockForm';\n\n// Helper functions\nimport { blockIsOnDay } from '../helpers/timeHelpers';\n\nexport default function App() {\n\n  const [day, changeDay] = useDay();\n  const [week] = useWeek(day)\n  const [loading, username, login, logout] = useAuthentication();\n  const [blocks, sessions, refreshData] = useWeeklyData(username, week);\n  const [currentProject, toggleSession] = useSessionTracking(username, refreshData);\n  const [blockFormState, blockFormActions] = usePopupBlockForm(blocks, day, refreshData);\n  const [projects, setProjects] = useState({})\n\n  // Load new projects when the username changes\n  useEffect(() => {\n    axios.get('/api/projects')\n      .then(res => {\n        const projectList = {};\n        res.data.projects.forEach(project => projectList[project.id] = project)\n        setProjects(projectList)\n      })\n  }, [username])\n\n  return (\n    <div className=\"App\">\n      {/* If we haven't finished trying to log in: */}\n      {loading && <Loading>Loading...</Loading>}\n\n      {/* If there's no valid login: */}\n      {!loading && !username &&\n        <Authentication login={login} />\n      }\n\n      {/* If we've successfully logged in: */}\n      {!loading && username &&\n        <>\n          <Router basename=\"/capensis\">\n            <Header username={username} handleLogout={logout} />\n            <StatusBar currentProject={currentProject} projects={projects} />\n            {/* BlockFormModal is a popup modal, so it's always here,\n            but only displayed if \"show\" is true */}\n            <BlockFormModal\n              state={blockFormState}\n              actions={blockFormActions}\n              currentDay={day}\n              projects={projects}\n            />\n            <div className=\"App-body\">\n              <Switch>\n                <Route exact path={[\"/\", \"/schedule\"]}>\n                  <DaySchedule\n                    blocks={blocks.filter(block => blockIsOnDay(block, day))}\n                    day={day}\n                    goToTomorrow={() => changeDay(1)}\n                    goToYesterday={() => changeDay(-1)}\n                    newBlock={blockFormActions.new}\n                    editBlock={blockFormActions.edit}\n                    toggleSession={toggleSession}\n                    refreshData={refreshData}\n                  />\n                </Route>\n                <Route exact path=\"/week\" >\n                  <WeekSchedule />\n                </Route>\n                <Route exact path=\"/projects\" >\n                  <ProjectList projects={projects} setProjects={setProjects} />\n                </Route>\n                <Route exact path=\"/sessions\">\n                  <Sessions\n                    sessions={sessions}\n                    projects={projects}\n                    day={day}\n                    lastWeek={() => changeDay(-7)}\n                    nextWeek={() => changeDay(7)}\n                    refreshData={refreshData}\n                    toggleSession={toggleSession} />\n                </Route>\n                <Route exact path=\"/reports\" >\n                  <Report\n                    projects={projects}\n                    day={day}\n                    lastWeek={() => changeDay(-7)}\n                    nextWeek={() => changeDay(7)}\n                  />\n                </Route>\n              </Switch>\n            </div>\n          </Router>\n        </>\n      }\n      <Footer />\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport { makeNoonDate } from '../helpers/timeHelpers'\n\nexport default function useDay() {\n  const today = new Date();\n  makeNoonDate(today);\n\n  const [day, setDay] = useState(today);\n\n  // Change currentDay by given number of days\n  // i.e. days = 1 gives next day, days = -1 gives prev day\n  // Check for new week and load new blocks if necessary.\n  const changeDay = days => {\n    const msDayMultiplier = 1000*60*60*24;\n    const deltaMs = msDayMultiplier*days;\n    const newDay = new Date(day.valueOf() + deltaMs);\n\n    setDay(newDay)\n  }\n\n  return [day, changeDay];\n}","import { useState, useEffect } from 'react';\nimport { getLastSunday } from '../helpers/timeHelpers'\n\nexport default function useWeek(day) {\n  const [weekMs, setWeekMs] = useState(getLastSunday(day).valueOf());\n\n  useEffect(() => {\n    setWeekMs(getLastSunday(day).valueOf());\n  }, [day])\n\n  return [weekMs];\n}","import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nexport default function useAuthentication() {\n  const [loading, setLoading] = useState(true);\n  const [username, setUsername] = useState(null);\n\n  // Attempt to authenticate the user if they've logged in previously.\n  useEffect(() => {\n    console.log('authenticating')\n    axios.post('/api/auth')\n      .then(res => {\n        setUsername(res.data.username)\n        setLoading(false);\n      })\n  }, []);\n\n  const login = username => {\n    setUsername(username);\n  }\n\n  const logout = event => {\n    event.preventDefault();\n    axios.post(`/api/auth/logout`)\n         .then(res => setUsername(res.data.username))\n  }\n\n  return [loading, username, login, logout];\n}\n","import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\n// Ensures that the app always has the Blocks for the current week.\nexport default function useWeeklyData(username, weekMs) {\n  const [blocks, setBlocks] = useState([]);\n  const [sessions, setSessions] = useState([]);\n\n  // A function to load blocks from the API and store them in state.\n  const loadWeeklyData = () => {\n    const sundayStr = new Date(weekMs).toISOString();\n    axios.get(`/api/blocks/week?date=${sundayStr}`)\n      .then(res => setBlocks(res.data))\n    axios.get(`/api/sessions/week?date=${sundayStr}`)\n      .then(res => setSessions(res.data))\n  }\n\n  // Load the current week's blocks any time the username changes\n  useEffect(loadWeeklyData, [username, weekMs]);\n\n  return [blocks, sessions, loadWeeklyData];\n}","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport axios from 'axios';\n\nif (process.env.REACT_APP_API_URL) {\n  axios.defaults.baseURL = process.env.REACT_APP_API_URL;\n  axios.defaults.withCredentials = true;\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}